(self.webpackChunkpersonalpage=self.webpackChunkpersonalpage||[]).push([[792],{482:(Qr,sr,Zt)=>{"use strict";let p=null,_=!1,w=1;const E=Symbol("SIGNAL");function g(e){const t=p;return p=e,t}const b={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function l(e){if(_)throw new Error("");if(null===p)return;p.consumerOnSignalRead(e);const t=p.nextProducerIndex++;Z(p),t<p.producerNode.length&&p.producerNode[t]!==e&&j(p)&&F(p.producerNode[t],p.producerIndexOfThis[t]),p.producerNode[t]!==e&&(p.producerNode[t]=e,p.producerIndexOfThis[t]=j(p)?U(e,p,t):0),p.producerLastReadVersion[t]=e.version}function d(e){if((!j(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==w)){if(!e.producerMustRecompute(e)&&!T(e))return void M(e);e.producerRecomputeValue(e),M(e)}}function h(e){if(void 0===e.liveConsumerNode)return;const t=_;_=!0;try{for(const n of e.liveConsumerNode)n.dirty||C(n)}finally{_=t}}function C(e){e.dirty=!0,h(e),e.consumerMarkedDirty?.(e)}function M(e){e.dirty=!1,e.lastCleanEpoch=w}function A(e){return e&&(e.nextProducerIndex=0),g(e)}function y(e,t){if(g(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(j(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)F(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function T(e){Z(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(d(n),r!==n.version))return!0}return!1}function L(e){if(Z(e),j(e))for(let t=0;t<e.producerNode.length;t++)F(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function U(e,t,n){if(J(e),0===e.liveConsumerNode.length&&ne(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=U(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function F(e,t){if(J(e),1===e.liveConsumerNode.length&&ne(e))for(let r=0;r<e.producerNode.length;r++)F(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Z(i),i.producerIndexOfThis[r]=t}}function j(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Z(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function J(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ne(e){return void 0!==e.producerNode}let ae=function ie(){throw new Error};function Y(e,t){(function v(){return!1!==p?.consumerAllowSignalWrites})()||function pe(){ae()}(),e.equal(e.value,t)||(e.value=t,function mt(e){e.version++,function f(){w++}(),h(e)}(e))}const Le={...b,equal:function se(e,t){return Object.is(e,t)},value:void 0};function je(e){return"function"==typeof e}function Xr(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Jr=Xr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function br(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ze{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(je(r))try{r()}catch(s){t=s instanceof Jr?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Ir(s)}catch(o){t=t??[],o instanceof Jr?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Jr(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Ir(t);else{if(t instanceof ze){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&br(n,t)}remove(t){const{_finalizers:n}=this;n&&br(n,t),t instanceof ze&&t._removeParent(this)}}ze.EMPTY=(()=>{const e=new ze;return e.closed=!0,e})();const Er=ze.EMPTY;function on(e){return e instanceof ze||e&&"closed"in e&&je(e.remove)&&je(e.add)&&je(e.unsubscribe)}function Ir(e){je(e)?e():e.unsubscribe()}const Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},an={setTimeout(e,t,...n){const{delegate:r}=an;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=an;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Bi(e){an.setTimeout(()=>{const{onUnhandledError:t}=Tn;if(!t)throw e;t(e)})}function Cn(){}const ei=Lu("C",void 0,void 0);function Lu(e,t,n){return{kind:e,value:t,error:n}}let ti=null;function Ga(e){if(Tn.useDeprecatedSynchronousErrorHandling){const t=!ti;if(t&&(ti={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ti;if(ti=null,n)throw r}}else e()}class Pu extends ze{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,on(t)&&t.add(this)):this.destination=jE}static create(t,n,r){return new Bu(t,n,r)}next(t){this.isStopped?Hu(function Ou(e){return Lu("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Hu(function tt(e){return Lu("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Hu(ei,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const FE=Function.prototype.bind;function Fu(e,t){return FE.call(e,t)}class BE{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ka(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ka(r)}else Ka(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ka(n)}}}class Bu extends Pu{constructor(t,n,r){let i;if(super(),je(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Tn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Fu(t.next,s),error:t.error&&Fu(t.error,s),complete:t.complete&&Fu(t.complete,s)}):i=t}this.destination=new BE(i)}}function Ka(e){Tn.useDeprecatedSynchronousErrorHandling?function PE(e){Tn.useDeprecatedSynchronousErrorHandling&&ti&&(ti.errorThrown=!0,ti.error=e)}(e):Bi(e)}function Hu(e,t){const{onStoppedNotification:n}=Tn;n&&an.setTimeout(()=>n(e,t))}const jE={closed:!0,next:Cn,error:function HE(e){throw e},complete:Cn},ju="function"==typeof Symbol&&Symbol.observable||"@@observable";function ni(e){return e}function Wg(e){return 0===e.length?ni:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Tt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function $E(e){return e&&e instanceof Pu||function VE(e){return e&&je(e.next)&&je(e.error)&&je(e.complete)}(e)&&on(e)}(n)?n:new Bu(n,r,i);return Ga(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qg(r))((i,s)=>{const o=new Bu({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ju](){return this}pipe(...n){return Wg(n)(this)}toPromise(n){return new(n=qg(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function qg(e){var t;return null!==(t=e??Tn.Promise)&&void 0!==t?t:Promise}const zE=Xr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let cn=(()=>{class e extends Tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Gg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new zE}next(n){Ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Er:(this.currentObservers=null,s.push(n),new ze(()=>{this.currentObservers=null,br(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Tt;return n.source=this,n}}return e.create=(t,n)=>new Gg(t,n),e})();class Gg extends cn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Er}}class Sn extends cn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Kg(e){return je(e?.lift)}function Rt(e){return t=>{if(Kg(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(e,t,n,r,i){return new WE(e,t,n,r,i)}class WE extends Pu{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ue(e,t){return Rt((n,r)=>{let i=0;n.subscribe(bt(r,s=>{r.next(e.call(t,s,i++))}))})}class re extends Error{code;constructor(t,n){super(function Hi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const Za=Symbol("InputSignalNode#UNSET"),Yg={...Le,transformFn:void 0,applyValueToInputSignal(e,t){Y(e,t)}};function Qg(e,t){const n=Object.create(Yg);function r(){if(l(n),n.value===Za)throw new re(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,r[E]=n,r}function or(e){return{toString:e}.toString()}function Ve(e){for(let t in e)if(e[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function _t(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_t).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Vu(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}globalThis;const GE=Ve({__forward_ref__:Ve});function $u(e){return e.__forward_ref__=$u,e.toString=function(){return _t(this())},e}function _e(e){return Ya(e)?e():e}function Ya(e){return"function"==typeof e&&e.hasOwnProperty(GE)&&e.__forward_ref__===$u}function fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qa(e){return Jg(e,Ja)||Jg(e,em)}function Jg(e,t){return e.hasOwnProperty(t)?e[t]:null}function Xa(e){return e&&(e.hasOwnProperty(Wu)||e.hasOwnProperty(JE))?e[Wu]:null}const Ja=Ve({\u0275prov:Ve}),Wu=Ve({\u0275inj:Ve}),em=Ve({ngInjectableDef:Ve}),JE=Ve({ngInjectorDef:Ve});class oe{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yu(e){return e&&!!e.\u0275providers}const ro=Ve({\u0275cmp:Ve}),Qu=Ve({\u0275dir:Ve}),Xu=Ve({\u0275pipe:Ve}),nm=Ve({\u0275mod:Ve}),ar=Ve({\u0275fac:Ve}),io=Ve({__NG_ELEMENT_ID__:Ve}),rm=Ve({__NG_ENV_ID__:Ve});function De(e){return"string"==typeof e?e:null==e?"":String(e)}function Ju(e,t){throw new re(-201,!1)}var ke=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ke||{});let ed;function im(){return ed}function Qt(e){const t=ed;return ed=e,t}function sm(e,t,n){const r=Qa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ke.Optional?null:void 0!==t?t:void Ju()}const so={},ec="ngTempTokenPath",sI=/\n/gm,om="__source";let zi;function Tr(e){const t=zi;return zi=e,t}function cI(e,t=ke.Default){if(void 0===zi)throw new re(-203,!1);return null===zi?sm(e,void 0,t):zi.get(e,t&ke.Optional?null:void 0,t)}function Ae(e,t=ke.Default){return(im()||cI)(_e(e),t)}function X(e,t=ke.Default){return Ae(e,tc(t))}function tc(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function nd(e){const t=[];for(let n=0;n<e.length;n++){const r=_e(e[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=ke.Default;for(let o=0;o<r.length;o++){const a=r[o],c=lI(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}t.push(Ae(i,s))}else t.push(Ae(r))}return t}function lI(e){return e.__NG_DI_FLAG__}function ri(e,t){return e.hasOwnProperty(ar)?e[ar]:null}function Wi(e,t){e.forEach(n=>Array.isArray(n)?Wi(n,t):t(n))}function cm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function nc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Un={},Pe=[],wn=new oe(""),dm=new oe("",-1),ad=new oe("");class ic{get(t,n=so){if(n===so){const r=new Error(`NullInjectorError: No provider for ${_t(t)}!`);throw r.name="NullInjectorError",r}return n}}function Lt(e,t){const n=e[nm]||null;if(!n&&!0===t)throw new Error(`Type ${_t(e)} does not have '\u0275mod' property.`);return n}function Me(e){return e[ro]||null}function vt(e){return e[Qu]||null}function At(e){return e[Xu]||null}function Ar(e){return{\u0275providers:e}}function mI(...e){return{\u0275providers:cd(0,e),\u0275fromNgModule:!0}}function cd(e,...t){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Wi(t,o=>{const a=o;sc(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&hm(i,s),n}function hm(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];ld(i,s=>{t(s,r)})}}function sc(e,t,n,r){if(!(e=_e(e)))return!1;let i=null,s=Xa(e);const o=!s&&Me(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const c=e.ngModule;if(s=Xa(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)sc(u,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Wi(s.imports,m=>{sc(m,t,n,r)&&(u||=[],u.push(m))})}finally{}void 0!==u&&hm(u,t)}if(!a){const u=ri(i)||(()=>new i);t({provide:i,useFactory:u,deps:Pe},i),t({provide:ad,useValue:i,multi:!0},i),t({provide:wn,useValue:()=>Ae(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=e;ld(c,m=>{t(m,u)})}}}return i!==e&&void 0!==e.providers}function ld(e,t){for(let n of e)Yu(n)&&(n=n.\u0275providers),Array.isArray(n)?ld(n,t):t(n)}const _I=Ve({provide:String,useValue:Ve});function ud(e){return null!==e&&"object"==typeof e&&_I in e}function ii(e){return"function"==typeof e}const dd=new oe(""),oc={},yI={};let hd;function ac(){return void 0===hd&&(hd=new ic),hd}class dn{}class Gi extends dn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,pd(t,o=>this.processProvider(o)),this.records.set(dm,Ki(void 0,this)),i.has("environment")&&this.records.set(dn,Ki(void 0,this));const s=this.records.get(dd);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ad,Pe,ke.Self))}destroy(){ao(this),this._destroyed=!0;const t=g(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),g(t)}}onDestroy(t){return ao(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ao(this);const n=Tr(this),r=Qt(void 0);try{return t()}finally{Tr(n),Qt(r)}}get(t,n=so,r=ke.Default){if(ao(this),t.hasOwnProperty(rm))return t[rm](this);r=tc(r);const s=Tr(this),o=Qt(void 0);try{if(!(r&ke.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function bI(e){return"function"==typeof e||"object"==typeof e&&e instanceof oe}(t)&&Qa(t);c=u&&this.injectableDefInScope(u)?Ki(fd(t),oc):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&ke.Self?ac():this.parent).get(t,n=r&ke.Optional&&n===so?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ec]=a[ec]||[]).unshift(_t(t)),s)throw a;return function uI(e,t,n,r){const i=e[ec];throw t[om]&&i.unshift(t[om]),e.message=function dI(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=_t(t);if(Array.isArray(t))i=t.map(_t).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):_t(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(sI,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ec]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Qt(o),Tr(s)}}resolveInjectorInitializers(){const t=g(null),n=Tr(this),r=Qt(void 0);try{const s=this.get(wn,Pe,ke.Self);for(const o of s)o()}finally{Tr(n),Qt(r),g(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(_t(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=ii(t=_e(t))?t:_e(t&&t.provide);const r=function SI(e){return ud(e)?Ki(void 0,e.useValue):Ki(function gm(e,t,n){let r;if(ii(e)){const i=_e(e);return ri(i)||fd(i)}if(ud(e))r=()=>_e(e.useValue);else if(function pm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...nd(e.deps||[]));else if(function fm(e){return!(!e||!e.useExisting)}(e))r=()=>Ae(_e(e.useExisting));else{const i=_e(e&&(e.useClass||e.provide));if(!function wI(e){return!!e.deps}(e))return ri(i)||fd(i);r=()=>new i(...nd(e.deps))}return r}(e),oc)}(t);if(!ii(t)&&!0===t.multi){let i=this.records.get(n);i||(i=Ki(void 0,oc,!0),i.factory=()=>nd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=g(null);try{return n.value===oc&&(n.value=yI,n.value=n.factory()),"object"==typeof n.value&&n.value&&function DI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{g(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_e(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function fd(e){const t=Qa(e),n=null!==t?t.factory:ri(e);if(null!==n)return n;if(e instanceof oe)throw new re(204,!1);if(e instanceof Function)return function CI(e){if(e.length>0)throw new re(204,!1);const n=function XE(e){return e&&(e[Ja]||e[em])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new re(204,!1)}function ao(e){if(e.destroyed)throw new re(205,!1)}function Ki(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function pd(e,t){for(const n of e)Array.isArray(n)?pd(n,t):n&&Yu(n)?pd(n.\u0275providers,t):t(n)}function Vn(e,t){e instanceof Gi&&ao(e);const r=Tr(e),i=Qt(void 0);try{return t()}finally{Tr(r),Qt(i)}}var hc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(hc||{});function ct(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ct(e){return Array.isArray(e)&&!0===e[1]}function _d(e){return!!(4&e.flags)}function kr(e){return e.componentOffset>-1}function fc(e){return!(1&~e.flags)}function Rn(e){return!!e.template}function lo(e){return!!(512&e[2])}class PI{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dm(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const ns=(()=>{const e=()=>bm;return e.ngInherit=!0,e})();function bm(e){return e.type.prototype.ngOnChanges&&(e.setInput=BI),FI}function FI(){const e=Im(this),t=e?.current;if(t){const n=e.previous;if(n===Un)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function BI(e,t,n,r,i){const s=this.declaredInputs[r],o=Im(e)||function HI(e,t){return e[Em]=t}(e,{previous:Un,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new PI(u&&u.currentValue,n,c===Un),Dm(e,t,i,n)}const Em="__ngSimpleChanges__";function Im(e){return e[Em]||null}function Oe(e){for(;Array.isArray(e);)e=e[0];return e}function jt(e,t){return Oe(t[e.index])}function rs(e,t){return e.data[t]}function fn(e,t){const n=t[e];return ct(n)?n:n[0]}function wd(e){return!(128&~e[2])}function Dn(e,t){return null==t?null:e[t]}function Rm(e){e[17]=0}function Dd(e){1024&e[2]||(e[2]|=1024,wd(e)&&ho(e))}function pc(e){return!!(9216&e[2]||e[24]?.dirty)}function bd(e){e[10].changeDetectionScheduler?.notify(9),64&e[2]&&(e[2]|=1024),pc(e)&&ho(e)}function ho(e){e[10].changeDetectionScheduler?.notify(0);let t=ur(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,wd(t));)t=ur(t)}function gc(e,t){if(!(256&~e[2]))throw new re(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function ur(e){const t=e[3];return Ct(t)?t[3]:t}const ye={lFrame:Vm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Md=!1;function xm(){return ye.bindingsEnabled}function q(){return ye.lFrame.lView}function Ce(){return ye.lFrame.tView}function Te(){let e=Om();for(;null!==e&&64===e.type;)e=e.parent;return e}function Om(){return ye.lFrame.currentTNode}function An(e,t){const n=ye.lFrame;n.currentTNode=e,n.isParent=t}function Td(){return ye.lFrame.isParent}function Fm(){return Md}function _c(e){const t=Md;return Md=e,t}function bn(){return ye.lFrame.bindingIndex++}function JI(e,t){const n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ad(t)}function Ad(e){ye.lFrame.currentDirectiveIndex=e}function vc(e){ye.lFrame.currentQueryIndex=e}function t1(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function jm(e,t,n){if(n&ke.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&ke.Host||(i=t1(s),null===i||(s=s[14],10&i.type))););if(null===i)return!1;t=i,e=s}const r=ye.lFrame=Um();return r.currentTNode=t,r.lView=e,!0}function Nd(e){const t=Um(),n=e[1];ye.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Um(){const e=ye.lFrame,t=null===e?null:e.child;return null===t?Vm(e):t}function Vm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function $m(){const e=ye.lFrame;return ye.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zm=$m;function Od(){const e=$m();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function xt(){return ye.lFrame.selectedIndex}function ui(e){ye.lFrame.selectedIndex=e}let qm=!0;function po(){return qm}function qn(e){qm=e}function yc(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:m}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=m&&(e.destroyHooks??=[]).push(n,m)}}function Cc(e,t,n){Gm(e,t,3,n)}function Sc(e,t,n,r){(3&e[2])===n&&Gm(e,t,n,r)}function Ld(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function Gm(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let c=void 0!==r?65535&e[17]:0;c<o;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[17]+=65536),(a<s||-1==s)&&(c1(e,n,t,c),e[17]=(4294901760&e[17])+c+2),c++}function Km(e,t){const n=g(null);try{t.call(e)}finally{g(n)}}function c1(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,Km(a,s)):Km(a,s)}class go{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}}function Bd(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];Ym(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function Zm(e){return 3===e||4===e||6===e}function Ym(e){return 64===e.charCodeAt(0)}function mo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Qm(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Qm(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const Hd={};class di{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=tc(r);const i=this.injector.get(t,Hd,r);return i!==Hd||n===Hd?i:this.parentInjector.get(t,n,r)}}function jd(e){return-1!==e}function _o(e){return 32767&e}function vo(e,t){let n=function f1(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let Ud=!0;function wc(e){const t=Ud;return Ud=e,t}let g1=0;const Gn={};function Dc(e,t){const n=e_(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Vd(r.data,e),Vd(t,null),Vd(r.blueprint,null));const i=bc(e,t),s=e.injectorIndex;if(jd(i)){const o=_o(i),a=vo(i,t),c=a[1].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|c[o+u]}return t[s+8]=i,s}function Vd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function e_(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function bc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=a_(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function $d(e,t,n){!function m1(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(io)&&(r=n[io]),null==r&&(r=n[io]=g1++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function t_(e,t,n){if(n&ke.Optional||void 0!==e)return e;Ju()}function n_(e,t,n,r){if(n&ke.Optional&&void 0===r&&(r=null),!(n&(ke.Self|ke.Host))){const i=e[9],s=Qt(void 0);try{return i?i.get(t,r,n&ke.Optional):sm(t,r,n&ke.Optional)}finally{Qt(s)}}return t_(r,0,n)}function r_(e,t,n,r=ke.Default,i){if(null!==e){if(2048&t[2]&&!(r&ke.Self)){const o=function S1(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[2]&&!(512&o[2]);){const a=i_(s,o,n,r|ke.Self,Gn);if(a!==Gn)return a;let c=s.parent;if(!c){const u=o[20];if(u){const m=u.get(n,Gn,r);if(m!==Gn)return m}c=a_(o),o=o[14]}s=c}return i}(e,t,n,r,Gn);if(o!==Gn)return o}const s=i_(e,t,n,r,Gn);if(s!==Gn)return s}return n_(t,n,r,i)}function i_(e,t,n,r,i){const s=function y1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(io)?e[io]:void 0;return"number"==typeof t?t>=0?255&t:C1:t}(n);if("function"==typeof s){if(!jm(t,e,r))return r&ke.Host?t_(i,0,r):n_(t,n,r,i);try{let o;if(o=s(r),null!=o||r&ke.Optional)return o;Ju()}finally{zm()}}else if("number"==typeof s){let o=null,a=e_(e,t),c=-1,u=r&ke.Host?t[15][5]:null;for((-1===a||r&ke.SkipSelf)&&(c=-1===a?bc(e,t):t[a+8],-1!==c&&o_(r,!1)?(o=t[1],a=_o(c),t=vo(c,t)):a=-1);-1!==a;){const m=t[1];if(s_(s,a,m.data)){const S=v1(a,t,n,o,r,u);if(S!==Gn)return S}c=t[a+8],-1!==c&&o_(r,t[1].data[a+8]===u)&&s_(s,a,t)?(o=m,a=_o(c),t=vo(c,t)):a=-1}}return i}function v1(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],m=function Ec(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,m=s>>20,N=i?a+m:e.directiveEnd;for(let O=r?a:a+m;O<N;O++){const P=o[O];if(O<c&&n===P||O>=c&&P.type===n)return O}if(i){const O=o[c];if(O&&Rn(O)&&O.type===n)return c}return null}(a,o,n,null==r?kr(a)&&Ud:r!=o&&!!(3&a.type),i&ke.Host&&s===a);return null!==m?hi(t,o,m,a):Gn}function hi(e,t,n,r){let i=e[n];const s=t.data;if(function l1(e){return e instanceof go}(i)){const o=i;o.resolving&&function nI(e,t){throw t&&t.join(" > "),new re(-200,e)}(function Fe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():De(e)}(s[n]));const a=wc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Qt(o.injectImpl):null;jm(e,r,ke.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function a1(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=bm(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==u&&Qt(u),wc(a),o.resolving=!1,zm()}}return i}function s_(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function o_(e,t){return!(e&ke.Self||e&ke.Host&&t)}class St{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return r_(this._tNode,this._lView,t,tc(r),n)}}function C1(){return new St(Te(),q())}function zd(e){return or(()=>{const t=e.prototype.constructor,n=t[ar]||Wd(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[ar]||Wd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Wd(e){return Ya(e)?()=>{const t=Wd(_e(e));return t&&t()}:ri(e)}function a_(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function h_(e,t=null,n=null,r){const i=f_(e,t,n,r);return i.resolveInjectorInitializers(),i}function f_(e,t=null,n=null,r,i=new Set){const s=[n||Pe,mI(e)];return r=r||("object"==typeof e?void 0:_t(e)),new Gi(s,t||ac(),r||null,i)}class ft{static THROW_IF_NOT_FOUND=so;static NULL=new ic;static create(t,n){if(Array.isArray(t))return h_({name:""},n,t,"");{const r=t.name??"";return h_({name:r},t.parent,t.providers,r)}}static \u0275prov=fe({token:ft,providedIn:"any",factory:()=>Ae(dm)});static __NG_ELEMENT_ID__=-1}new oe("").__NG_ELEMENT_ID__=e=>{const t=Te();if(null===t)throw new re(204,!1);if(2&t.type)return t.value;if(e&ke.Optional)return null;throw new re(204,!1)};const p_=!1;let Nr=(()=>class e{static __NG_ELEMENT_ID__=A1;static __NG_ENV_ID__=n=>n})();class g_ extends Nr{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return gc(this._lView,t),()=>function Ed(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(this._lView,t)}}function A1(){return new g_(q())}class fr{}const Co=new oe("",{providedIn:"root",factory:()=>!1}),m_=new oe(""),Gd=new oe("");let pr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Sn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=fe({token:e,providedIn:"root",factory:()=>new e})}return e})();const Jt=class k1 extends cn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,function mm(){return void 0!==im()||null!=function aI(){return zi}()}()&&(this.destroyRef=X(Nr,{optional:!0})??void 0,this.pendingTasks=X(pr,{optional:!0})??void 0)}emit(t){const n=g(null);try{super.next(t)}finally{g(n)}}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof ze&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function So(...e){}function __(e){let t,n;function r(){e=So;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function v_(e){return queueMicrotask(()=>e()),()=>{e=So}}const Kd="isAngularZone",Mc=Kd+"_ID";let N1=0;class qe{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Jt(!1);onMicrotaskEmpty=new Jt(!1);onStable=new Jt(!1);onError=new Jt(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=p_}=t;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,function P1(e){const t=()=>{!function L1(e){function t(){__(()=>{e.callbackScheduled=!1,Yd(e),e.isCheckStableRunning=!0,Zd(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Yd(e))}(e)},n=N1++;e._inner=e._inner.fork({name:"angular",properties:{[Kd]:!0,[Mc]:n,[Mc+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(function F1(e){return S_(e,"__ignore_ng_zone__")}(c))return r.invokeTask(s,o,a,c);try{return y_(e),r.invokeTask(s,o,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),C_(e)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return y_(e),r.invoke(s,o,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function B1(e){return S_(e,"__scheduler_tick__")}(c)&&t(),C_(e)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Yd(e),Zd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Kd)}static assertInAngularZone(){if(!qe.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new re(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,O1,So,So);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const O1={};function Zd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function y_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function C_(e){e._nesting--,Zd(e)}class Qd{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Jt;onMicrotaskEmpty=new Jt;onStable=new Jt;onError=new Jt;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}function S_(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Kn{_console=console;handleError(t){this._console.error("ERROR",t)}}const j1=new oe("",{providedIn:"root",factory:()=>{const e=X(qe),t=X(Kn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function D_(e,t){return Qg(e,t)}const V1=(D_.required=function U1(e){return Qg(Za,e)},D_);function $1(){return as(Te(),q())}function as(e,t){return new Or(jt(e,t))}let Or=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=$1})();function Do(e){return!(128&~e.flags)}Symbol;var Tc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Tc||{});const Rc=new Map;let G1=0;function Jd(e){Rc.delete(e[19])}const Ac="__ngContext__";function Ft(e,t){ct(t)?(e[Ac]=t[19],function Z1(e){Rc.set(e[19],e)}(t)):e[Ac]=t}function N_(e){return L_(e[12])}function O_(e){return L_(e[4])}function L_(e){for(;null!==e&&!Ct(e);)e=e[4];return e}let nh;const ls=new oe("",{providedIn:"root",factory:()=>fM}),fM="ng",rh=new oe(""),us=new oe("",{providedIn:"platform",factory:()=>"unknown"}),$_=new oe("",{providedIn:"root",factory:()=>function Zn(){if(void 0!==nh)return nh;if(typeof document<"u")return document;throw new re(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),q_=new oe("",{providedIn:"root",factory:()=>!1});var fh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(fh||{});const Mo=new oe(""),Y_=new Set;function It(e){Y_.has(e)||(Y_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let ph=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=fe({token:e,providedIn:"root",factory:()=>new e})}return e})();var xn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(xn||{});function gn(e){return e instanceof Function?e():e}var Fr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Fr||{}),Br=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Br||{});function Ph(e,t){return undefined(e,t)}function ws(e,t,n,r,i){if(null!=r){let s,o=!1;Ct(r)?s=r:ct(r)&&(o=!0,r=r[0]);const a=Oe(r);0===e&&null!==n?null==i?Yv(t,n,a):_i(t,n,a,i||null,!0):1===e&&null!==n?_i(t,n,a,i||null,!0):2===e?function Vo(e,t,n){e.removeChild(null,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function KT(e,t,n,r,i){const s=n[7];s!==Oe(n)&&ws(t,e,r,s,i);for(let a=10;a<n.length;a++){const c=n[a];Xc(c[1],c,e,t,r,s)}}(t,e,s,n,i)}}function Yc(e,t,n){return e.createElement(t,n)}function Gv(e,t){t[10].changeDetectionScheduler?.notify(10),Xc(e,t,t[11],2,null,null)}function Kv(e,t){const n=e[9],r=t[3];(ct(r)||t[15]!==r[3][15])&&(e[2]|=hc.HasTransplantedViews),null===n?e[9]=[t]:n.push(t)}function Hh(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function jo(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[16];null!==i&&i!==e&&Hh(i,r),t>0&&(e[n-1][4]=r[4]);const s=nc(e,10+t);!function qv(e,t){Gv(e,t),t[0]=null,t[5]=null}(r[1],r);const o=s[18];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Uo(e,t){if(!(256&t[2])){const n=t[11];n.destroyNode&&Xc(e,t,n,3,null,null),function VT(e){let t=e[12];if(!t)return jh(e[1],e);for(;t;){let n=null;if(ct(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ct(t)&&jh(t[1],t),t=t[3];null===t&&(t=e),ct(t)&&jh(t[1],t),n=t&&t[4]}t=n}}(t)}}function jh(e,t){if(256&t[2])return;const n=g(null);try{t[2]&=-129,t[2]|=256,t[24]&&L(t[24]),function WT(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof go)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];try{c.call(a)}finally{}}else try{s.call(i)}finally{}}}}(e,t),function zT(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[7]=null);const i=t[21];if(null!==i){t[21]=null;for(let o=0;o<i.length;o++)(0,i[o])()}const s=t[23];if(null!==s){t[23]=null;for(const o of s)o.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&Ct(t[3])){r!==t[3]&&Hh(r,t);const i=t[18];null!==i&&i.detachView(e)}Jd(t)}finally{g(n)}}function Uh(e,t,n){return function Zv(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===xn.None||s===xn.Emulated)return null}return jt(r,n)}}(e,t.parent,n)}function _i(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Yv(e,t,n){e.appendChild(t,n)}function Qv(e,t,n,r,i){null!==r?_i(e,t,n,r,i):Yv(e,t,n)}function Vh(e,t){return e.parentNode(t)}let ey=function Jv(e,t,n){return 40&e.type?jt(e,n):null};function Qc(e,t,n,r){const i=Uh(e,r,t),s=t[11],a=function Xv(e,t,n){return ey(e,t,n)}(r.parent||t[5],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Qv(s,i,n[c],a,!1);else Qv(s,i,n,a,!1)}function vi(e,t){if(null!==t){const n=t.type;if(3&n)return jt(t,e);if(4&n)return zh(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return vi(e,r);{const i=e[t.index];return Ct(i)?zh(-1,i):Oe(i)}}if(128&n)return vi(e,t.next);if(32&n)return Ph(t,e)()||Oe(e[t.index]);{const r=ny(e,t);return null!==r?Array.isArray(r)?r[0]:vi(ur(e[15]),r):vi(e,t.next)}}return null}function ny(e,t){return null!==t?e[15][5].projection[t.projection]:null}function zh(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return vi(r,i)}return t[7]}function Wh(e,t,n,r,i,s,o){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(o&&0===t&&(a&&Ft(Oe(a),r),n.flags|=2),32&~n.flags)if(8&c)Wh(e,t,n.child,r,i,s,!1),ws(t,e,i,a,s);else if(32&c){const u=Ph(n,r);let m;for(;m=u();)ws(t,e,i,m,s);ws(t,e,i,a,s)}else 16&c?iy(e,t,r,n,i,s):ws(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Xc(e,t,n,r,i,s){Wh(n,r,e.firstChild,t,i,s,!1)}function iy(e,t,n,r,i,s){const o=n[15],c=o[5].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)ws(t,e,i,c[u],s);else{let u=c;const m=o[3];Do(r)&&(u.flags|=128),Wh(e,t,u,m,i,s,!0)}}function sy(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function oy(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Bd(e,t,r),null!==i&&sy(e,t,i),null!==s&&function YT(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function QT(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const ay="ng-template";function XT(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==QT(t[i+1].toLowerCase(),n,0))return!0}else if(qh(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&"string"==typeof(s=t[i]);)if(s.toLowerCase()===n)return!0}return!1}function qh(e){return 4===e.type&&e.value!==ay}function JT(e,t,n){return t===(4!==e.type||n?e.value:ay)}function eR(e,t,n){let r=4;const i=e.attrs,s=null!==i?function rR(e){for(let t=0;t<e.length;t++)if(Zm(e[t]))return t;return e.length}(i):0;let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!JT(e,c,n)||""===c&&1===t.length){if(kn(r))return!1;o=!0}}else if(8&r){if(null===i||!XT(e,i,c,n)){if(kn(r))return!1;o=!0}}else{const u=t[++a],m=tR(c,i,qh(e),n);if(-1===m){if(kn(r))return!1;o=!0;continue}if(""!==u){let S;if(S=m>s?"":i[m+1].toLowerCase(),2&r&&u!==S){if(kn(r))return!1;o=!0}}}}else{if(!o&&!kn(r)&&!kn(c))return!1;if(o&&kn(c))continue;o=!1,r=c|1&r}}return kn(r)||o}function kn(e){return!(1&e)}function tR(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function iR(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function cy(e,t,n=!1){for(let r=0;r<t.length;r++)if(eR(e,t[r],n))return!0;return!1}function ly(e,t){return e?":not("+t.trim()+")":t}function oR(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!kn(o)&&(t+=ly(s,i),i=""),r=o,s=s||!kn(r);n++}return""!==i&&(t+=ly(s,i)),t}const be={};function Gh(e=1){uy(Ce(),q(),xt()+e,!1)}function uy(e,t,n,r){if(!r)if(3&~t[2]){const s=e.preOrderHooks;null!==s&&Sc(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&Cc(t,s,n)}ui(n)}function Se(e,t=ke.Default){const n=q();return null===n?Ae(e,t):r_(Te(),n,_e(e),t)}function dy(e,t,n,r,i,s){const o=g(null);try{let a=null;i&Fr.SignalBased&&(a=t[r][E]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Fr.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):Dm(t,a,r,s)}finally{g(o)}}function $o(e,t,n,r,i,s,o,a,c,u,m){const S=t.blueprint.slice();return S[0]=i,S[2]=1228|r,(null!==u||e&&2048&e[2])&&(S[2]|=2048),Rm(S),S[3]=S[14]=e,S[8]=n,S[10]=o||e&&e[10],S[11]=a||e&&e[11],S[9]=c||e&&e[9]||null,S[5]=s,S[19]=function K1(){return G1++}(),S[6]=m,S[20]=u,S[15]=2==t.type?e[15]:S,S}function yi(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Kh(e,t,n,r,i){const s=Om(),o=Td(),c=e.data[t]=function _R(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return function li(){return null!==ye.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,i),function XI(){return ye.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function fo(){const e=ye.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return An(s,!0),s}function zo(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function hy(e,t,n,r,i){const s=xt(),o=2&r;try{ui(-1),o&&t.length>25&&uy(e,t,25,!1),n(r,i)}finally{ui(s)}}function Zh(e,t,n){if(_d(t)){const r=g(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{g(r)}}}function Yh(e,t,n){xm()&&(function bR(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;kr(n)&&function xR(e,t,n){const r=jt(t,e),i=Xh(n),s=e[10].rendererFactory,o=Jc(e,$o(e,i,null,nf(n),r,t,null,s.createRenderer(r,n),null,null,null));e[t.index]=o}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Dc(n,t),Ft(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const c=e.data[a],u=hi(t,e,a,n);Ft(u,t),null!==o&&kR(0,a-i,u,c,0,o),Rn(c)&&(fn(n.index,t)[8]=hi(t,e,a,n))}}(e,t,n,jt(n,t)),!(64&~n.flags)&&_y(e,t,n))}function Qh(e,t,n=jt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Xh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Jh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Jh(e,t,n,r,i,s,o,a,c,u,m){const S=25+r,N=S+i,O=function dR(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:be);return n}(S,N),P="function"==typeof u?u():u;return O[1]={type:e,blueprint:O,template:n,queries:null,viewQuery:a,declTNode:t,data:O.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:P,incompleteFirstPass:!1,ssrId:m}}let fy=()=>null;function py(e,t,n,r,i){for(let s in t){if(!t.hasOwnProperty(s))continue;const o=t[s];if(void 0===o)continue;r??={};let a,c=Fr.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(null!==i){if(!i.hasOwnProperty(s))continue;u=i[s]}0===e?gy(r,n,u,a,c):gy(r,n,u,a)}return r}function gy(e,t,n,r,i){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==i&&s.push(i)}function ef(e,t,n,r){if(xm()){const i=null===r?null:{"":-1},s=function IR(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(cy(t,o.selectors,!1))if(r||(r=[]),Rn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),tf(e,t,a.length)}else r.unshift(o),tf(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&my(e,t,n,o,i,a),i&&function MR(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new re(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=mo(n.mergedAttrs,n.attrs)}function my(e,t,n,r,i,s){for(let u=0;u<r.length;u++)$d(Dc(n,t),e,r[u].type);!function RR(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const m=r[u];m.providersResolver&&m.providersResolver(m)}let o=!1,a=!1,c=zo(e,t,r.length,null);for(let u=0;u<r.length;u++){const m=r[u];n.mergedAttrs=mo(n.mergedAttrs,m.hostAttrs),AR(e,n,t,c,m),TR(c,m,i),null!==m.contentQueries&&(n.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=64);const S=m.type.prototype;!o&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(S.ngOnChanges||S.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function vR(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let c=null,u=null;for(let m=t.directiveStart;m<i;m++){const S=s[m],N=n?n.get(S):null,P=N?N.outputs:null;c=py(0,S.inputs,m,c,N?N.inputs:null),u=py(1,S.outputs,m,u,P);const $=null===c||null===o||qh(t)?null:NR(c,m,o);a.push($)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}(e,n,s)}function _y(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function e1(){return ye.lFrame.currentDirectiveIndex}();try{ui(s);for(let a=r;a<i;a++){const c=e.data[a],u=t[a];Ad(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ER(c,u)}}finally{ui(-1),Ad(o)}}function ER(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function tf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function TR(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Rn(t)&&(n[""]=e)}}function AR(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ri(i.type)),o=new go(s,Rn(i),Se);e.blueprint[r]=o,n[r]=o,function wR(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function DR(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,zo(e,n,i.hostVars,be),i)}function nf(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function kR(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)dy(r,n,o[a++],o[a++],o[a++],o[a++])}function NR(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function vy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function yy(e,t){const n=e.contentQueries;if(null!==n){const r=g(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=e.data[o];vc(n[i]),a.contentQueries(2,t[o],o)}}}finally{g(r)}}}function Jc(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function sf(e,t,n){vc(0);const r=g(null);try{t(e,n)}finally{g(r)}}function el(e,t){const n=e[9],r=n?n.get(Kn,null):null;r&&r.handleError(t)}function af(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=n[s++];dy(e.data[o],t[o],r,a,c,i)}}function mr(e,t,n){const r=function uo(e,t){return Oe(t[e])}(t,e);!function Wv(e,t,n){e.setValue(t,n)}(e[11],r,n)}function OR(e,t){const n=fn(t,e),r=n[1];!function LR(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),tl(r,n,n[8])}function tl(e,t,n){Nd(t);try{const r=e.viewQuery;null!==r&&sf(1,r,n);const i=e.template;null!==i&&hy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&yy(e,t),e.staticViewQueries&&sf(2,e.viewQuery,n);const s=e.components;null!==s&&function PR(e,t){for(let n=0;n<t.length;n++)OR(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Od()}}function Ci(e,t){return!t||null===t.firstChild||Do(e)}function bs(e,t,n,r=!0){const i=t[1];if(function $T(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],cm(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[16];null!==o&&n!==o&&Kv(o,t);const a=t[18];null!==a&&a.insertView(e),bd(t),t[2]|=128}(i,t,e,n),r){const o=zh(n,e),a=t[11],c=Vh(a,e[7]);null!==c&&function UT(e,t,n,r,i,s){r[0]=i,r[5]=t,Xc(e,r,n,1,i,s)}(i,e[5],a,t,c,o)}const s=t[6];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function Wo(e,t,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const s=t[n.index];null!==s&&r.push(Oe(s)),Ct(s)&&lf(s,r);const o=n.type;if(8&o)Wo(e,t,n.child,r);else if(32&o){const a=Ph(n,t);let c;for(;c=a();)r.push(c)}else if(16&o){const a=ny(t,n);if(Array.isArray(a))r.push(...a);else{const c=ur(t[15]);Wo(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lf(e,t){for(let n=10;n<e.length;n++){const r=e[n],i=r[1].firstChild;null!==i&&Wo(r[1],r,i,t)}e[7]!==e[0]&&t.push(e[7])}let by=[];const jR={...b,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ho(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},VR={...b,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=ur(e.lView);for(;t&&!Ey(t[1]);)t=ur(t);t&&Dd(t)},consumerOnSignalRead(){this.lView[24]=this}};function Ey(e){return 2!==e.type}function Iy(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function nl(e,t=!0,n=0){const i=e[10].rendererFactory;i.begin?.();try{!function zR(e,t){const n=Fm();try{_c(!0),uf(e,t);let r=0;for(;pc(e);){if(100===r)throw new re(103,!1);r++,uf(e,1)}}finally{_c(n)}}(e,n)}catch(o){throw t&&el(e,o),o}finally{i.end?.()}}function Ty(e,t,n,r){const i=t[2];if(!(256&~i))return;Nd(t);let a=!0,c=null,u=null;Ey(e)?(u=function FR(e){return e[24]??function BR(e){const t=by.pop()??Object.create(jR);return t.lView=e,t}(e)}(t),c=A(u)):null===function D(){return p}()?(a=!1,u=function UR(e){const t=e[24]??Object.create(VR);return t.lView=e,t}(t),c=A(u)):t[24]&&(L(t[24]),t[24]=null);try{Rm(t),function Bm(e){return ye.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&hy(e,t,n,2,r);const m=!(3&~i);if(m){const O=e.preOrderCheckHooks;null!==O&&Cc(t,O,null)}else{const O=e.preOrderHooks;null!==O&&Sc(t,O,0,null),Ld(t,0)}if(function WR(e){for(let t=N_(e);null!==t;t=O_(t)){if(!(t[2]&hc.HasTransplantedViews))continue;const n=t[9];for(let r=0;r<n.length;r++)Dd(n[r])}}(t),Iy(t),Ry(t,0),null!==e.contentQueries&&yy(e,t),m){const O=e.contentCheckHooks;null!==O&&Cc(t,O)}else{const O=e.contentHooks;null!==O&&Sc(t,O,1),Ld(t,1)}!function uR(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ui(~i);else{const s=i,o=n[++r],a=n[++r];JI(o,s),a(2,t[s])}}}finally{ui(-1)}}(e,t);const S=e.components;null!==S&&xy(t,S,0);const N=e.viewQuery;if(null!==N&&sf(2,N,r),m){const O=e.viewCheckHooks;null!==O&&Cc(t,O)}else{const O=e.viewHooks;null!==O&&Sc(t,O,2),Ld(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const O of t[22])O();t[22]=null}t[2]&=-73}catch(m){throw ho(t),m}finally{null!==u&&(y(u,c),a&&function HR(e){e.lView[24]!==e&&(e.lView=null,by.push(e))}(u)),Od()}}function Ry(e,t){for(let n=N_(e);null!==n;n=O_(n))for(let r=10;r<n.length;r++)Ay(n[r],t)}function qR(e,t,n){Ay(fn(t,e),n)}function Ay(e,t){wd(e)&&uf(e,t)}function uf(e,t){const r=e[1],i=e[2],s=e[24];let o=!!(0===t&&16&i);if(o||=!!(64&i&&0===t),o||=!!(1024&i),o||=!(!s?.dirty||!T(s)),o||=!1,s&&(s.dirty=!1),e[2]&=-9217,o)Ty(r,e,r.template,e[8]);else if(8192&i){Iy(e),Ry(e,1);const a=r.components;null!==a&&xy(e,a,1)}}function xy(e,t,n){for(let r=0;r<t.length;r++)qR(e,t[r],n)}function qo(e,t){const n=Fm()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=ur(e);if(lo(e)&&!r)return e;e=r}return null}class Go{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,n=t[1];return Wo(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[8]}get dirty(){return!!(9280&this._lView[2])||!!this._lView[24]?.dirty}set context(t){this._lView[8]=t}get destroyed(){return!(256&~this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ct(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(jo(t,r),nc(n,r))}this._attachedToViewContainer=!1}Uo(this._lView[1],this._lView)}onDestroy(t){gc(this._lView,t)}markForCheck(){qo(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){bd(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,nl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=lo(this._lView),n=this._lView[16];null!==n&&!t&&Hh(n,this._lView),Gv(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=t;const n=lo(this._lView),r=this._lView[16];null!==r&&!n&&Kv(r,this._lView),bd(this._lView)}}class $A{}class Jy{}class zA{resolveComponentFactory(t){throw Error(`No component factory found for ${_t(t)}.`)}}class ll{static NULL=new zA}class wf{}let qA=(()=>{class e{static \u0275prov=fe({token:e,providedIn:"root",factory:()=>null})}return e})();function hl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Vu(i,a):2==s&&(r=Vu(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class nC extends ll{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Me(t);return new ra(n,this.ngModule)}}function rC(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r];if(void 0===i)continue;const s=Array.isArray(i),o=s?i[0]:i;n.push(t?{propName:o,templateName:r,isSignal:!!((s?i[1]:Fr.None)&Fr.SignalBased)}:{propName:o,templateName:r})}return n}class ra extends Jy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){const t=this.componentDef,n=t.inputTransforms,r=rC(t.inputs,!0);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rC(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function aR(e){return e.map(oR).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const s=g(null);try{let o=(i=i||this.ngModule)instanceof dn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new di(t,o):t,c=a.get(wf,null);if(null===c)throw new re(407,!1);const S={rendererFactory:c,sanitizer:a.get(qA,null),changeDetectionScheduler:a.get(fr,null)},N=c.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",P=r?function hR(e,t,n,r){const s=r.get(q_,!1)||n===xn.ShadowDom,o=e.selectRootElement(t,s);return function fR(e){fy(e)}(o),o}(N,r,this.componentDef.encapsulation,a):Yc(N,O,function ZA(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(O));let $=512;this.componentDef.signals?$|=4096:this.componentDef.onPush||($|=16);let G=null;null!==P&&(G=null);const K=Jh(0,null,null,1,0,null,null,null,null,null,null),W=$o(null,K,null,$,null,null,S,N,a,null,G);Nd(W);let ue,me,we=null;try{const rt=this.componentDef;let Mt,no=null;rt.findHostDirectiveDefs?(Mt=[],no=new Map,rt.findHostDirectiveDefs(rt,Mt,no),Mt.push(rt)):Mt=[rt];const OE=function QA(e,t){const n=e[1];return e[25]=t,yi(n,25,2,"#host",null)}(W,P);we=function XA(e,t,n,r,i,s,o){const a=i[1];!function JA(e,t,n,r){for(const i of e)t.mergedAttrs=mo(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(hl(t,t.mergedAttrs,!0),null!==n&&oy(r,n,t))}(r,e,t,o);let c=null;null!==t&&(c=null);const u=s.rendererFactory.createRenderer(t,n),m=$o(i,Xh(n),null,nf(n),i[e.index],e,s,u,null,null,c);return a.firstCreatePass&&tf(a,e,r.length-1),Jc(i,m),i[e.index]=m}(OE,P,rt,Mt,W,S,N),me=rs(K,25),P&&function tx(e,t,n,r){if(r)Bd(e,n,["ng-version","19.0.5"]);else{const{attrs:i,classes:s}=function cR(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!kn(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Bd(e,n,i),s&&s.length>0&&sy(e,n,s.join(" "))}}(N,rt,P,r),void 0!==n&&function nx(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s&&s.length?Array.from(s):null)}}(me,this.ngContentSelectors,n),ue=function ex(e,t,n,r,i,s){const o=Te(),a=i[1],c=jt(o,i);my(a,i,o,n,null,r);for(let m=0;m<n.length;m++)Ft(hi(i,a,o.directiveStart+m,o),i);_y(a,i,o),c&&Ft(c,i);const u=hi(i,a,o.directiveStart+o.componentOffset,o);if(e[8]=i[8]=u,null!==s)for(const m of s)m(u,t);return Zh(a,o,i),u}(we,rt,Mt,no,W,[rx]),tl(K,W,null)}catch(rt){throw null!==we&&Jd(we),Jd(W),rt}finally{Od()}return new YA(this.componentType,ue,as(me,W),W,me)}finally{g(s)}}}class YA extends $A{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Go(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;af(s[1],s,i,t,n),this.previousInputValues.set(t,n),qo(fn(this._tNode.index,s),1)}}get injector(){return new St(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function rx(){const e=Te();yc(q()[1],e)}let Nn=(()=>class e{static __NG_ELEMENT_ID__=ix})();function ix(){return function oC(e,t){let n;const r=t[e.index];return Ct(r)?n=r:(n=vy(r,t,null,e),t[e.index]=n,Jc(t,n)),aC(n,t,e,r),new iC(n,e,t)}(Te(),q())}const sx=Nn,iC=class extends sx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new St(this._hostTNode,this._hostLView)}get parentInjector(){const t=bc(this._hostTNode,this._hostLView);if(jd(t)){const n=vo(t,this._hostLView),r=_o(t);return new St(n[1].data[r+8],n)}return new St(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=sC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,Ci(this._hostTNode,null)),a}createComponent(t,n,r,i,s){const o=t&&!function co(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const P=n||{};a=P.index,r=P.injector,i=P.projectableNodes,s=P.environmentInjector||P.ngModuleRef}const c=o?t:new ra(Me(t)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const $=(o?u:this.parentInjector).get(dn,null);$&&(s=$)}Me(c.componentType??{});const O=c.create(u,i,null,s);return this.insertImpl(O.hostView,a,Ci(this._hostTNode,null)),O}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function $I(e){return Ct(e[3])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=i[3],u=new iC(c,c[5],c[3]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;return bs(o,i,s,r),t.attachToViewContainerRef(),cm(Ef(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=sC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=jo(this._lContainer,n);r&&(nc(Ef(this._lContainer),n),Uo(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=jo(this._lContainer,n);return r&&null!=nc(Ef(this._lContainer),n)?new Go(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function sC(e){return e[8]}function Ef(e){return e[8]||(e[8]=[])}let aC=function lC(e,t,n,r){if(e[7])return;let i;i=8&n.type?Oe(r):function ox(e,t){const n=e[11],r=n.createComment(""),i=jt(t,e);return _i(n,Vh(n,i),r,function qT(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[7]=i};class wi{}class RC{}class Pf extends wi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new nC(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;const s=Lt(t);this._bootstrapComponents=gn(s.bootstrap),this._r3Injector=f_(t,n,[{provide:wi,useValue:this},{provide:ll,useValue:this.componentFactoryResolver},...r],_t(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ff extends RC{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Pf(this.moduleType,t,[])}}class AC extends wi{injector;componentFactoryResolver=new nC(this);instance=null;constructor(t){super();const n=new Gi([...t.providers,{provide:wi,useValue:this},{provide:ll,useValue:this.componentFactoryResolver}],t.parent||ac(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Bf(e,t,n=null){return new AC({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Mx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=cd(0,n.type),i=r.length>0?Bf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=fe({token:e,providedIn:"environment",factory:()=>new e(Ae(dn))})}return e})();function pl(e){return or(()=>{const t=NC(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Tc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Mx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||xn.Emulated,styles:e.styles||Pe,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&It("NgStandalone"),OC(n);const r=e.dependencies;return n.directiveDefs=gl(r,!1),n.pipeDefs=gl(r,!0),n.id=function xx(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const s of r.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Tx(e){return Me(e)||vt(e)}function Rx(e){return null!==e}function kC(e,t){if(null==e)return Un;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let s,o,a=Fr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),t?(n[s]=a!==Fr.None?[r,a]:r,t[s]=o):n[s]=r}return n}function Vt(e){return or(()=>{const t=NC(e);return OC(t),t})}function NC(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Un,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Pe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kC(e.inputs,t),outputs:kC(e.outputs),debugInfo:null}}function OC(e){e.features?.forEach(t=>t(e))}function gl(e,t){if(!e)return null;const n=t?At:Tx;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Rx)}function lt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Uf(e,t,n,r,i,s,o,a){const c=q(),u=Ce();return function aa(e,t,n,r,i,s,o,a,c,u){const m=n+25,S=t.firstCreatePass?function Wx(e,t,n,r,i,s,o,a,c){const u=t.consts,m=yi(t,e,4,o||null,a||null);ef(t,n,m,Dn(u,c)),yc(t,m);const S=m.tView=Jh(2,m,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,m),S.queries=t.queries.embeddedTView(m)),m}(m,t,e,r,i,s,o,a,c):t.data[m];An(S,!1);const N=VC(t,e,S,n);po()&&Qc(t,e,N,S),Ft(N,e);const O=vy(N,e,N,S);return e[m]=O,Jc(e,O),fc(S)&&Yh(t,e,S),null!=c&&Qh(e,S,u),S}(c,u,e,t,n,r,i,Dn(u.consts,s),o,a),Uf}let VC=function $C(e,t,n,r){return qn(!0),t[11].createComment("")};let YC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const nS=new oe("");function bl(e){return!!e&&"function"==typeof e.then}function rS(e){return!!e&&"function"==typeof e.subscribe}const iS=new oe("");let sS=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=X(iS,{optional:!0})??[];injector=X(ft);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=Vn(this.injector,i);if(bl(s))n.push(s);else if(rS(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kf=(()=>{class e{static \u0275prov=fe({token:e,providedIn:"root",factory:()=>new oS})}return e})();class oS{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}const la=new oe("");let mn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X(j1);afterRenderManager=X(ph);zonelessEnabled=X(Co);rootEffectScheduler=X(Kf);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new cn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=X(pr).hasPendingTasks.pipe(Ue(n=>!n));constructor(){X(Mo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=X(dn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Jy;if(!this._injector.get(sS).done)throw!i&&function Rr(e){const t=Me(e)||vt(e)||At(e);return null!==t&&t.standalone}(n),new re(405,!1);let o;o=i?n:this._injector.get(ll).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function kk(e){return e.isBoundToModule}(o)?void 0:this._injector.get(wi),u=o.create(ft.NULL,[],r||o.selector,a),m=u.location.nativeElement,S=u.injector.get(nS,null);return S?.registerApplication(m),u.onDestroy(()=>{this.detachView(u.hostView),El(this.components,u),S?.unregisterApplication(m)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(null!==this.tracingSnapshot){const r=this.tracingSnapshot;return this.tracingSnapshot=null,r.run(fh.CHANGE_DETECTION,this._tick),void r.dispose()}if(this._runningTick)throw new re(101,!1);const n=g(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,g(n),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wf,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;0!==this.dirtyFlags&&n++<10;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const n=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Lk(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>pc(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;El(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(la,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>El(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new re(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function El(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Lk(e,t,n,r){(n||pc(e))&&nl(e,t,n&&!r?0:1)}function np(e,t,n,r,i){const o=i?"class":"style";af(e,n,t.inputs[o],o,r)}function VS(e,t){It("NgControlFlow");const n=q(),r=bn(),i=n[r]!==be?n[r]:-1,s=-1!==i?Tl(n,25+i):void 0;if(lt(n,r,e)){const a=g(null);try{if(void 0!==s&&function cf(e,t){const n=jo(e,t);return void 0!==n&&Uo(n[1],n),n}(s,0),-1!==e){const c=25+e,u=Tl(n,c),m=function op(e,t){return rs(e,t)}(n[1],c),S=null;bs(u,function Ds(e,t,n,r){const i=g(null);try{const s=t.tView,c=$o(e,s,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[16]=e[t.index];const m=e[18];return null!==m&&(c[18]=m.createEmbeddedView(s)),tl(s,c,n),c}finally{g(i)}}(n,m,t,{dehydratedView:S}),0,Ci(m,S))}}finally{g(a)}}else if(void 0!==s){const a=function Dy(e,t){const n=10+t;if(n<e.length)return e[n]}(s,0);void 0!==a&&(a[8]=t)}}function Tl(e,t){return e[t]}function _n(e,t,n,r){const i=q(),s=Ce(),o=25+e,a=i[11],c=s.firstCreatePass?function rO(e,t,n,r,i,s){const o=t.consts,c=yi(t,e,2,r,Dn(o,i));return ef(t,n,c,Dn(o,s)),null!==c.attrs&&hl(c,c.attrs,!1),null!==c.mergedAttrs&&hl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,t,n,r):s.data[o],u=$S(s,i,c,a,t,e);i[o]=u;const m=fc(c);return An(c,!0),oy(a,u,c),!function Ts(e){return!(32&~e.flags)}(c)&&po()&&Qc(s,i,u,c),0===function zI(){return ye.lFrame.elementDepthCount}()&&Ft(u,i),function WI(){ye.lFrame.elementDepthCount++}(),m&&(Yh(s,i,c),Zh(s,c,i)),null!==r&&Qh(i,c),_n}function rn(){let e=Te();Td()?function Rd(){ye.lFrame.isParent=!1}():(e=e.parent,An(e,!1));const t=e;(function GI(e){return ye.skipHydrationRootTNode===e})(t)&&function QI(){ye.skipHydrationRootTNode=null}(),function qI(){ye.lFrame.elementDepthCount--}();const n=Ce();return n.firstCreatePass&&(yc(n,e),_d(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function d1(e){return!!(8&e.flags)}(t)&&np(n,t,q(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function h1(e){return!!(16&e.flags)}(t)&&np(n,t,q(),t.stylesWithoutHost,!1),rn}function vr(e,t,n,r){return _n(e,t,n,r),rn(),vr}let $S=(e,t,n,r,i,s)=>(qn(!0),Yc(r,i,function Wm(){return ye.lFrame.currentNamespace}()));const Rl="en-US";let QS=Rl;function _a(e,t,n,r){const i=q(),s=Ce(),o=Te();return function dp(e,t,n,r,i,s,o){const a=fc(r),u=e.firstCreatePass&&function Sy(e){return e.cleanup??=[]}(e),m=t[8],S=function Cy(e){return e[7]??=[]}(t);let N=!0;if(3&r.type||o){const $=jt(r,t),G=o?o($):$,K=S.length,W=o?me=>o(Oe(me[r.index])):r.index;let ue=null;if(!o&&a&&(ue=function eL(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[7],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==ue)(ue.__ngLastListenerFn__||ue).__ngNextListenerFn__=s,ue.__ngLastListenerFn__=s,N=!1;else{s=y0(r,t,m,s);const me=n.listen(G,i,s);S.push(s,me),u&&u.push(i,W,K,K+1)}}else s=y0(r,t,m,s);const O=r.outputs;let P;if(N&&null!==O&&(P=O[i])){const $=P.length;if($)for(let G=0;G<$;G+=2){const we=t[P[G]][P[G+1]].subscribe(s),rt=S.length;S.push(s,we),u&&u.push(i,r.index,rt,-(rt+1))}}}(s,i,i[11],o,e,t,r),_a}function v0(e,t,n,r){const i=g(null);try{return!1!==n(r)}catch(s){return el(e,s),!1}finally{g(i)}}function y0(e,t,n,r){return function i(s){if(s===Function)return r;qo(e.componentOffset>-1?fn(e.index,t):t,5);let a=v0(t,0,r,s),c=i.__ngNextListenerFn__;for(;c;)a=v0(t,0,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Us(e,t=""){const n=q(),r=Ce(),i=e+25,s=r.firstCreatePass?yi(r,i,1,t,null):r.data[i],o=V0(r,n,s,t,e);n[i]=o,po()&&Qc(r,n,o,s),An(s,!1)}let V0=(e,t,n,r,i)=>(qn(!0),function Fh(e,t){return e.createText(t)}(t[11],r));function pp(e){return gp("",e,""),pp}function gp(e,t,n){const r=q(),i=function xs(e,t,n,r){return lt(e,bn(),n)?t+De(n)+r:be}(r,e,t,n);return i!==be&&mr(r,xt(),i),gp}class wP{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let DP=(()=>{class e{compileModuleSync(n){return new Ff(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=gn(Lt(n).declarations).reduce((o,a)=>{const c=Me(a);return c&&o.push(new ra(c)),o},[]);return new wP(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IP=(()=>{class e{zone=X(qe);changeDetectionScheduler=X(fr);applicationRef=X(mn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const MP=new oe("",{factory:()=>!1});function Ep({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new qe({...Ip(),scheduleInRootZone:n}),[{provide:qe,useFactory:e},{provide:wn,multi:!0,useFactory:()=>{const r=X(IP,{optional:!0});return()=>r.initialize()}},{provide:wn,multi:!0,useFactory:()=>{const r=X(RP);return()=>{r.initialize()}}},!0===t?{provide:m_,useValue:!0}:[],{provide:Gd,useValue:n??p_}]}function Ip(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let RP=(()=>{class e{subscription=new ze;initialized=!1;zone=X(qe);pendingTasks=X(pr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sa=(()=>{class e{appRef=X(mn);taskService=X(pr);ngZone=X(qe);zonelessEnabled=X(Co);tracing=X(Mo,{optional:!0});disableScheduling=X(m_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(Gd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 8:this.appRef.deferredDirtyFlags|=8;break;case 6:case 14:this.appRef.dirtyFlags|=2,r=!0;break;case 13:this.appRef.dirtyFlags|=16,r=!0;break;case 12:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?v_:__;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,v_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Wr=new oe("",{providedIn:"root",factory:()=>X(Wr,ke.Optional|ke.SkipSelf)||function AP(){return typeof $localize<"u"&&$localize.locale||Rl}()}),Pl=new oe(""),PP=new oe("");function wa(e){return!e.moduleRef}let qr=null;let Fl=(()=>class e{static __NG_ELEMENT_ID__=UP})();function UP(e){return function VP(e,t,n){if(kr(e)&&!n){const r=fn(e.index,t);return new Go(r,r)}return 175&e.type?new Go(t[15],t):null}(Te(),q(),!(16&~e))}function dF(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function jP(e=[]){if(qr)return qr;const t=function Aw(e=[],t){return ft.create({name:t,providers:[{provide:dd,useValue:"platform"},{provide:Pl,useValue:new Set([()=>qr=null])},...e]})}(e);return qr=t,function aS(){!function de(e){ae=e}(()=>{throw new re(600,!1)})}(),function xw(e){const t=e.get(rh,null);Vn(e,()=>{t?.forEach(n=>n())})}(t),t}(r),s=[Ep({}),{provide:fr,useExisting:Sa},...n||[]];return function Mw(e){const t=wa(e)?e.r3Injector:e.moduleRef.injector,n=t.get(qe);return n.run(()=>{wa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(Kn,null);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),wa(e)){const s=()=>t.destroy(),o=e.platformInjector.get(Pl);o.add(s),t.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{const s=()=>e.moduleRef.destroy(),o=e.platformInjector.get(Pl);o.add(s),e.moduleRef.onDestroy(()=>{El(e.allPlatformModules,e.moduleRef),i.unsubscribe(),o.delete(s)})}return function Ok(e,t,n){try{const r=n();return bl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const s=t.get(sS);return s.runInitializers(),s.donePromise.then(()=>{if(function gO(e){"string"==typeof e&&(QS=e.toLowerCase().replace(/_/g,"-"))}(t.get(Wr,Rl)||Rl),!t.get(PP,!0))return wa(e)?t.get(mn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(wa(e)){const c=t.get(mn);return void 0!==e.rootComponent&&c.bootstrap(e.rootComponent),c}return function FP(e,t){const n=e.injector.get(mn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new re(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new AC({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}let CD=null;function zs(){return CD}class i2{}const er=new oe("");let SD=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>X(s2),providedIn:"platform"})}return e})(),s2=(()=>{class e extends SD{_location;_history;_doc=X(er);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zs().getBaseHref(this._doc)}onPopState(n){const r=zs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=zs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function wD(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function DD(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ri(e){return e&&"?"!==e[0]?"?"+e:e}let Zl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>X(a2),providedIn:"root"})}return e})();const o2=new oe("");let a2=(()=>{class e extends Zl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wD(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ri(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ri(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(Ae(SD),Ae(o2,8))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ia=(()=>{class e{_subject=new cn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function u2(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(DD(bD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ri(r))}normalize(n){return e.stripTrailingSlash(function l2(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,bD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ri(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ri;static joinWithSlash=wD;static stripTrailingSlash=DD;static \u0275fac=function(r){return new(r||e)(Ae(Zl))};static \u0275prov=fe({token:e,factory:()=>function c2(){return new Ia(Ae(Zl))}(),providedIn:"root"})}return e})();function bD(e){return e.replace(/\/index.html$/,"")}function jD(e){return"server"===e}class tH extends i2{supportsDOMEvents=!0}class rg extends tH{static makeCurrent(){!function r2(e){CD??=e}(new rg)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function nH(){return Aa=Aa||document.querySelector("base"),Aa?Aa.getAttribute("href"):null}();return null==n?null:function rH(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function K2(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Aa=null,sH=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})();const ig=new oe("");let QD=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new re(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(Ae(ig),Ae(qe))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})();class XD{_doc;constructor(t){this._doc=t}manager}const uu="ng-app-id";function JD(e){for(const t of e)t.remove()}function eb(e,t){const n=t.createElement("style");return n.textContent=e,n}function sg(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let tb=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=jD(s),function oH(e,t,n,r){const i=e.head?.querySelectorAll(`style[${uu}="${t}"],link[${uu}="${t}"]`);if(i)for(const s of i)s.removeAttribute(uu),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,eb);r?.forEach(i=>this.addUsage(i,this.external,sg))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(JD(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])JD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,eb(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,sg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(uu,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(Ae(er),Ae(ls),Ae($_,8),Ae(us))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})();const og={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ag=/%COMP%/g,uH=new oe("",{providedIn:"root",factory:()=>!0});function rb(e,t){return t.map(n=>n.replace(ag,e))}let ib=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.platformIsServer=jD(a),this.defaultRenderer=new cg(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xn.ShadowDom&&(r={...r,encapsulation:xn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof ob?i.applyToHost(n):i instanceof lg&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(r.encapsulation){case xn.Emulated:s=new ob(c,u,r,this.appId,m,o,a,S);break;case xn.ShadowDom:return new pH(c,u,n,r,o,a,this.nonce,S);default:s=new lg(c,u,r,m,o,a,S)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||e)(Ae(QD),Ae(tb),Ae(ls),Ae(uH),Ae(er),Ae(us),Ae(qe),Ae($_))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})();class cg{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(og[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(sb(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(sb(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=og[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=og[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Br.DashCase|Br.Important)?t.style.setProperty(n,r,i&Br.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Br.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=zs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function sb(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class pH extends cg{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,s,o,a,c){super(t,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=rb(i.id,i.styles);for(const S of u){const N=document.createElement("style");a&&N.setAttribute("nonce",a),N.textContent=S,this.shadowRoot.appendChild(N)}const m=i.getExternalStyles?.();if(m)for(const S of m){const N=sg(S,s);a&&N.setAttribute("nonce",a),this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lg extends cg{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,s,o,a,c){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?rb(c,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class ob extends lg{contentAttr;hostAttr;constructor(t,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(t,n,r,s,o,a,c,u),this.contentAttr=function dH(e){return"_ngcontent-%COMP%".replace(ag,e)}(u),this.hostAttr=function hH(e){return"_nghost-%COMP%".replace(ag,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}const ab=["alt","control","meta","shift"],mH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_H={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function cb(e){return{appProviders:[...EH,...e?.providers??[]],platformProviders:DH}}const DH=[{provide:us,useValue:"browser"},{provide:rh,useValue:function CH(){rg.makeCurrent()},multi:!0},{provide:er,useFactory:function wH(){return function hM(e){nh=e}(document),document},deps:[]}],EH=[{provide:dd,useValue:"root"},{provide:Kn,useFactory:function SH(){return new Kn},deps:[]},{provide:ig,useClass:(()=>{class e extends XD{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||e)(Ae(er))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[er,qe,us]},{provide:ig,useClass:(()=>{class e extends XD{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ab.forEach(u=>{const m=r.indexOf(u);m>-1&&(r.splice(m,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=mH[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ab.forEach(o=>{o!==i&&(0,_H[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(Ae(er))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[er]},ib,tb,QD,{provide:wf,useExisting:ib},{provide:class MB{},useClass:sH,deps:[]},[]];let IH=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(Ae(er))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Kr(e){return this instanceof Kr?(this.v=e,this):new Kr(e)}function pb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function fg(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const gb=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function mb(e){return je(e?.then)}function _b(e){return je(e[ju])}function vb(e){return Symbol.asyncIterator&&je(e?.[Symbol.asyncIterator])}function yb(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Cb=function r3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sb(e){return je(e?.[Cb])}function wb(e){return function fb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(O){return function(P){return Promise.resolve(P).then(O,S)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(O,P){r[O]&&(i[O]=function($){return new Promise(function(G,K){s.push([O,$,G,K])>1||c(O,$)})},P&&(i[O]=P(i[O])))}function c(O,P){try{!function u(O){O.value instanceof Kr?Promise.resolve(O.value.v).then(m,S):N(s[0][2],O)}(r[O](P))}catch($){N(s[0][3],$)}}function m(O){c("next",O)}function S(O){c("throw",O)}function N(O,P){O(P),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Kr(n.read());if(i)return yield Kr(void 0);yield yield Kr(r)}}finally{n.releaseLock()}})}function Db(e){return je(e?.getReader)}function Sr(e){if(e instanceof Tt)return e;if(null!=e){if(_b(e))return function i3(e){return new Tt(t=>{const n=e[ju]();if(je(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(gb(e))return function s3(e){return new Tt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(mb(e))return function o3(e){return new Tt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Bi)})}(e);if(vb(e))return bb(e);if(Sb(e))return function a3(e){return new Tt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Db(e))return function c3(e){return bb(wb(e))}(e)}throw yb(e)}function bb(e){return new Tt(t=>{(function l3(e,t){var n,r,i,s;return function db(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(m){try{u(r.next(m))}catch(S){o(S)}}function c(m){try{u(r.throw(m))}catch(S){o(S)}}function u(m){m.done?s(m.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(m.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=pb(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function wr(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Eb(e,t=0){return Rt((n,r)=>{n.subscribe(bt(r,i=>wr(r,e,()=>r.next(i),t),()=>wr(r,e,()=>r.complete(),t),i=>wr(r,e,()=>r.error(i),t)))})}function Ib(e,t=0){return Rt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Mb(e,t){if(!e)throw new Error("Iterable cannot be null");return new Tt(n=>{wr(n,t,()=>{const r=e[Symbol.asyncIterator]();wr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function qt(e,t){return t?function g3(e,t){if(null!=e){if(_b(e))return function u3(e,t){return Sr(e).pipe(Ib(t),Eb(t))}(e,t);if(gb(e))return function h3(e,t){return new Tt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(mb(e))return function d3(e,t){return Sr(e).pipe(Ib(t),Eb(t))}(e,t);if(vb(e))return Mb(e,t);if(Sb(e))return function f3(e,t){return new Tt(n=>{let r;return wr(n,t,()=>{r=e[Cb](),wr(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>je(r?.return)&&r.return()})}(e,t);if(Db(e))return function p3(e,t){return Mb(wb(e),t)}(e,t)}throw yb(e)}(e,t):Sr(e)}function gg(e){return e[e.length-1]}function du(e){return function m3(e){return e&&je(e.schedule)}(gg(e))?e.pop():void 0}function Ie(...e){return qt(e,du(e))}const hu=Xr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:v3}=Array,{getPrototypeOf:y3,prototype:C3,keys:S3}=Object;const{isArray:b3}=Array;function Tb(...e){const t=du(e),n=function _3(e){return je(gg(e))?e.pop():void 0}(e),{args:r,keys:i}=function w3(e){if(1===e.length){const t=e[0];if(v3(t))return{args:t,keys:null};if(function D3(e){return e&&"object"==typeof e&&y3(e)===C3}(t)){const n=S3(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return qt([],t);const s=new Tt(function T3(e,t,n=ni){return r=>{Rb(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)Rb(t,()=>{const u=qt(e[c],t);let m=!1;u.subscribe(bt(r,S=>{s[c]=S,m||(m=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function M3(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):ni));return n?s.pipe(function I3(e){return Ue(t=>function E3(e,t){return b3(t)?e(...t):e(t)}(e,t))}(n)):s}function Rb(e,t,n){e?wr(n,e,t):t()}function Gt(e,t,n=1/0){return je(t)?Gt((r,i)=>Ue((s,o)=>t(r,s,i,o))(Sr(e(r,i))),n):("number"==typeof t&&(n=t),Rt((r,i)=>function R3(e,t,n,r,i,s,o,a){const c=[];let u=0,m=0,S=!1;const N=()=>{S&&!c.length&&!u&&t.complete()},O=$=>u<r?P($):c.push($),P=$=>{s&&t.next($),u++;let G=!1;Sr(n($,m++)).subscribe(bt(t,K=>{i?.(K),s?O(K):t.next(K)},()=>{G=!0},void 0,()=>{if(G)try{for(u--;c.length&&u<r;){const K=c.shift();o?wr(t,o,()=>P(K)):P(K)}N()}catch(K){t.error(K)}}))};return e.subscribe(bt(t,O,()=>{S=!0,N()})),()=>{a?.()}}(r,i,e,n)))}function _g(...e){return function A3(){return function mg(e=1/0){return Gt(ni,e)}(1)}()(qt(e,du(e)))}function Ab(e){return new Tt(t=>{Sr(e()).subscribe(t)})}function fu(e,t){const n=je(e)?e:()=>e,r=i=>i.error(n());return new Tt(t?i=>t.schedule(r,0,i):r)}const tr=new Tt(e=>e.complete());function vg(){return Rt((e,t)=>{let n=null;e._refCount++;const r=bt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class xb extends Tt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ze;const n=this.getSubject();t.add(this.source.subscribe(bt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ze.EMPTY)}return t}refCount(){return vg()(this)}}function Dr(e,t){return Rt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(bt(r,c=>{i?.unsubscribe();let u=0;const m=s++;Sr(e(c,m)).subscribe(i=bt(r,S=>r.next(t?t(c,S,m,u++):S),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Gs(e){return e<=0?()=>tr:Rt((t,n)=>{let r=0;t.subscribe(bt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Ai(e,t){return Rt((n,r)=>{let i=0;n.subscribe(bt(r,s=>e.call(t,s,i++)&&r.next(s)))})}function pu(e){return Rt((t,n)=>{let r=!1;t.subscribe(bt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function kb(e=N3){return Rt((t,n)=>{let r=!1;t.subscribe(bt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function N3(){return new hu}function xi(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ai((i,s)=>e(i,s,r)):ni,Gs(1),n?pu(t):kb(()=>new hu))}function gu(e,t){return je(t)?Gt(e,t,1):Gt(e,1)}function Kt(e,t,n){const r=je(e)||t||n?{next:e,error:t,complete:n}:e;return r?Rt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(bt(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ni}function Ks(e){return Rt((t,n)=>{let s,r=null,i=!1;r=t.subscribe(bt(n,void 0,void 0,o=>{s=Sr(e(o,Ks(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function yg(e){return e<=0?()=>tr:Rt((t,n)=>{let r=[];t.subscribe(bt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Cg(e){return Rt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Re="primary",ka=Symbol("RouteTitle");class H3{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Zs(e){return new H3(e)}function j3(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(":"===o[0])i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function nr(e,t){const n=e?Sg(e):void 0,r=t?Sg(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Nb(e[i],t[i]))return!1;return!0}function Sg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Nb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function Ob(e){return e.length>0?e[e.length-1]:null}function Zr(e){return function AH(e){return!!e&&(e instanceof Tt||je(e.lift)&&je(e.subscribe))}(e)?e:bl(e)?qt(Promise.resolve(e)):Ie(e)}const V3={exact:function Fb(e,t,n){if(!Ni(e.segments,t.segments)||!mu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Fb(e.children[r],t.children[r],n))return!1;return!0},subset:Bb},Lb={exact:function $3(e,t){return nr(e,t)},subset:function z3(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Nb(e[n],t[n]))},ignored:()=>!0};function Pb(e,t,n){return V3[n.paths](e.root,t.root,n.matrixParams)&&Lb[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Bb(e,t,n){return Hb(e,t,t.segments,n)}function Hb(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ni(i,n)||t.hasChildren()||!mu(i,n,r))}if(e.segments.length===n.length){if(!Ni(e.segments,n)||!mu(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!Bb(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Ni(e.segments,i)&&mu(e.segments,i,r)&&e.children[Re])&&Hb(e.children[Re],t,s,r)}}function mu(e,t,n){return t.every((r,i)=>Lb[n](e[i].parameters,r.parameters))}class ki{root;queryParams;fragment;_queryParamMap;constructor(t=new Ge([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){return G3.serialize(this)}}class Ge{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vu(this)}}class Na{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Zs(this.parameters),this._parameterMap}toString(){return Vb(this)}}function Ni(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Ys=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>new _u,providedIn:"root"})}return e})();class _u{parse(t){const n=new ij(t);return new ki(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Oa(t.root,!0)}`,r=function Y3(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${yu(n)}=${yu(i)}`).join("&"):`${yu(n)}=${yu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function K3(e){return encodeURI(e)}(t.fragment)}`:""}`}}const G3=new _u;function vu(e){return e.segments.map(t=>Vb(t)).join("/")}function Oa(e,t){if(!e.hasChildren())return vu(e);if(t){const n=e.children[Re]?Oa(e.children[Re],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==Re&&r.push(`${i}:${Oa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function q3(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Re&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Re&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Re?[Oa(e.children[Re],!1)]:[`${i}:${Oa(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Re]?`${vu(e)}/${n[0]}`:`${vu(e)}/(${n.join("//")})`}}function jb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yu(e){return jb(e).replace(/%3B/gi,";")}function wg(e){return jb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cu(e){return decodeURIComponent(e)}function Ub(e){return Cu(e.replace(/\+/g,"%20"))}function Vb(e){return`${wg(e.path)}${function Z3(e){return Object.entries(e).map(([t,n])=>`;${wg(t)}=${wg(n)}`).join("")}(e.parameters)}`}const Q3=/^[^\/()?;#]+/;function Dg(e){const t=e.match(Q3);return t?t[0]:""}const X3=/^[^\/()?;=#]+/,ej=/^[^=?&#]+/,nj=/^[^&#]+/;class ij{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Re]=new Ge(t,n)),r}parseSegment(){const t=Dg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(t),new Na(Cu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function J3(e){const t=e.match(X3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Dg(this.remaining);i&&(r=i,this.capture(r))}t[Cu(n)]=Cu(r)}parseQueryParam(t){const n=function tj(e){const t=e.match(ej);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function rj(e){const t=e.match(nj);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Ub(n),s=Ub(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Re]:new Ge([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new re(4011,!1)}}function $b(e){return e.segments.length>0?new Ge([],{[Re]:e}):e}function zb(e){const t={};for(const[r,i]of Object.entries(e.children)){const s=zb(i);if(r===Re&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function sj(e){if(1===e.numberOfChildren&&e.children[Re]){const t=e.children[Re];return new Ge(e.segments.concat(t.segments),t.children)}return e}(new Ge(e.segments,t))}function Oi(e){return e instanceof ki}function Wb(e){let t;const i=$b(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Ge(s.url,o);return s===e&&(t=a),a}(e.root));return t??i}function qb(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return bg(i,i,i,n,r);const s=function aj(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Kb(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Kb(n,t,r)}(t);if(s.toRoot())return bg(i,i,new Ge([],{}),n,r);const o=function cj(e,t,n){if(e.isAbsolute)return new wu(t,!0,0);if(!n)return new wu(t,!1,NaN);if(null===n.parent)return new wu(n,!0,0);const r=Su(e.commands[0])?0:1;return function lj(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new wu(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?Pa(o.segmentGroup,o.index,s.commands):Zb(o.segmentGroup,o.index,s.commands);return bg(i,o.segmentGroup,a,n,r)}function Su(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function La(e){return"object"==typeof e&&null!=e&&e.outlets}function bg(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),o=e===t?n:Gb(e,t,n);const a=$b(zb(o));return new ki(a,s,i)}function Gb(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:Gb(s,t,n)}),new Ge(e.segments,r)}class Kb{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Su(r[0]))throw new re(4003,!1);const i=r.find(La);if(i&&i!==Ob(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wu{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Zb(e,t,n){if(e??=new Ge([],{}),0===e.segments.length&&e.hasChildren())return Pa(e,t,n);const r=function dj(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(La(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!Qb(c,u,o))return s;r+=2}else{if(!Qb(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Ge(e.segments.slice(0,r.pathIndex),{});return s.children[Re]=new Ge(e.segments.slice(r.pathIndex),e.children),Pa(s,0,i)}return r.match&&0===i.length?new Ge(e.segments,{}):r.match&&!e.hasChildren()?Eg(e,t,n):r.match?Pa(e,0,i):Eg(e,t,n)}function Pa(e,t,n){if(0===n.length)return new Ge(e.segments,{});{const r=function uj(e){return La(e[0])?e[0].outlets:{[Re]:e}}(n),i={};if(Object.keys(r).some(s=>s!==Re)&&e.children[Re]&&1===e.numberOfChildren&&0===e.children[Re].segments.length){const s=Pa(e.children[Re],t,n);return new Ge(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Zb(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ge(e.segments,i)}}function Eg(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(La(s)){const c=hj(s.outlets);return new Ge(r,c)}if(0===i&&Su(n[0])){r.push(new Na(e.segments[t].path,Yb(n[0]))),i++;continue}const o=La(s)?s.outlets[Re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Su(a)?(r.push(new Na(o,Yb(a))),i+=2):(r.push(new Na(o,{})),i++)}return new Ge(r,{})}function hj(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Eg(new Ge([],{}),0,r))}),t}function Yb(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Qb(e,t,n){return e==n.path&&nr(t,n.parameters)}const Fa="imperative";var Ne=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ne||{});class rr{id;url;constructor(t,n){this.id=t,this.url=n}}class Ig extends rr{type=Ne.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends rr{urlAfterRedirects;type=Ne.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var yn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(yn||{}),Mg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Mg||{});class Pi extends rr{reason;code;type=Ne.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ba extends rr{reason;code;type=Ne.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}}class Tg extends rr{error;target;type=Ne.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xb extends rr{urlAfterRedirects;state;type=Ne.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fj extends rr{urlAfterRedirects;state;type=Ne.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pj extends rr{urlAfterRedirects;state;shouldActivate;type=Ne.GuardsCheckEnd;constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gj extends rr{urlAfterRedirects;state;type=Ne.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mj extends rr{urlAfterRedirects;state;type=Ne.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _j{route;type=Ne.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vj{route;type=Ne.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yj{snapshot;type=Ne.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cj{snapshot;type=Ne.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sj{snapshot;type=Ne.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wj{snapshot;type=Ne.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rg{}class Du{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function Bn(e){return e.outlet||Re}function Ha(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Tj{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ha(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ja(this.rootInjector)}}let ja=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Tj(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(Ae(dn))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Jb{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Ag(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Ag(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=xg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return xg(t,this._root).map(n=>n.value)}}function Ag(e,t){if(e===t.value)return t;for(const n of t.children){const r=Ag(e,n);if(r)return r}return null}function xg(e,t){if(e===t.value)return[t];for(const n of t.children){const r=xg(e,n);if(r.length)return r.unshift(t),r}return[]}class Hn{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Qs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class eE extends Jb{snapshot;constructor(t,n){super(t),this.snapshot=n,kg(this,t)}toString(){return this.snapshot.toString()}}function tE(e){const t=function Rj(e){const s=new Eu([],{},{},"",{},Re,e,null,{});return new nE("",new Hn(s,[]))}(e),n=new Sn([new Na("",{})]),r=new Sn({}),i=new Sn({}),s=new Sn({}),o=new Sn(""),a=new Xs(n,r,s,o,i,Re,e,t.root);return a.snapshot=t.root,new eE(new Hn(a,[]),t)}class Xs{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,s,o,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ue(u=>u[ka]))??Ie(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ue(t=>Zs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ue(t=>Zs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bu(e,t,n="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&iE(i)&&(r.resolve[ka]=i.title),r}class Eu{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ka]}constructor(t,n,r,i,s,o,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nE extends Jb{url;constructor(t,n){super(n),this.url=t,kg(this,n)}toString(){return rE(this._root)}}function kg(e,t){t.value._routerState=e,t.children.forEach(n=>kg(e,n))}function rE(e){const t=e.children.length>0?` { ${e.children.map(rE).join(", ")} } `:"";return`${e.value}${t}`}function Ng(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,nr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),nr(t.params,n.params)||e.paramsSubject.next(n.params),function U3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!nr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),nr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Og(e,t){const n=nr(e.params,t.params)&&function W3(e,t){return Ni(e,t)&&e.every((n,r)=>nr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Og(e.parent,t.parent))}function iE(e){return"string"==typeof e.title||null===e.title}const Aj=new oe("");let sE=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Re;activateEvents=new Jt;deactivateEvents=new Jt;attachEvents=new Jt;detachEvents=new Jt;routerOutletData=V1(void 0);parentContexts=X(ja);location=X(Nn);changeDetector=X(Fl);inputBinder=X(Iu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Lg(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Vt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ns]})}return e})();class Lg{route;childContexts;parent;outletData;__ngOutletInjector(t){return new Lg(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Xs?this.route:t===ja?this.childContexts:t===Aj?this.outletData:this.parent.get(t,n)}}const Iu=new oe("");function Ua(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function kj(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ua(e,r,i);return Ua(e,r)})}(e,t,n);return new Hn(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ua(e,a)),o}}const r=function Nj(e){return new Xs(new Sn(e.url),new Sn(e.params),new Sn(e.queryParams),new Sn(e.fragment),new Sn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Ua(e,s));return new Hn(r,i)}}class Pg{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const aE="ngNavigationCancelingError";function Mu(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Oi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=cE(!1,yn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cE(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[aE]=!0,n.cancellationCode=t,n}function lE(e){return!!e&&e[aE]}class Pj{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Ng(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Qs(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Qs(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Qs(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Qs(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new wj(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Cj(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(Ng(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ng(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}}class uE{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Tu{component;route;constructor(t,n){this.component=t,this.route=n}}function Fj(e,t,n){const r=e._root;return Va(r,t?t._root:null,n,[r.value])}function Js(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function QE(e){return null!==Qa(e)}(e)?t.get(e):e:r}function Va(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qs(t);return e.children.forEach(o=>{(function Hj(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function jj(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ni(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ni(e.url,t.url)||!nr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Og(e,t)||!nr(e.queryParams,t.queryParams);default:return!Og(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new uE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Va(e,t,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Tu(a.outlet.component,o))}else o&&$a(t,a,i),i.canActivateChecks.push(new uE(r)),Va(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$a(a,n.getContext(o),i)),i}function $a(e,t,n){const r=Qs(e),i=e.value;Object.entries(r).forEach(([s,o])=>{$a(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Tu(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function za(e){return"function"==typeof e}function dE(e){return e instanceof hu||"EmptyError"===e?.name}const Ru=Symbol("INITIAL_VALUE");function eo(){return Dr(e=>Tb(e.map(t=>t.pipe(Gs(1),function k3(...e){const t=du(e);return Rt((n,r)=>{(t?_g(e,n,t):_g(e,n)).subscribe(r)})}(Ru)))).pipe(Ue(t=>{for(const n of t)if(!0!==n){if(n===Ru)return Ru;if(!1===n||Gj(n))return n}return!0}),Ai(t=>t!==Ru),Gs(1)))}function Gj(e){return Oi(e)||e instanceof Pg}function hE(e){return function UE(...e){return Wg(e)}(Kt(t=>{if("boolean"!=typeof t)throw Mu(0,t)}),Ue(t=>!0===t))}class Fg{segmentGroup;constructor(t){this.segmentGroup=t||null}}class Au extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function to(e){return fu(new Fg(e))}class o5{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ie(r);if(i.numberOfChildren>1||!i.children[Re])return fu(new re(4e3,!1));i=i.children[Re]}}applyRedirectCommands(t,n,r,i,s){if("string"!=typeof n){const a=n,{queryParams:c,fragment:u,routeConfig:m,url:S,outlet:N,params:O,data:P,title:$}=i,G=Vn(s,()=>a({params:O,data:P,queryParams:c,fragment:u,routeConfig:m,url:S,outlet:N,title:$}));if(G instanceof ki)throw new Au(G);n=G}const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if("/"===n[0])throw new Au(o);return o}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new ki(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,r,i)}),new Ge(s,o)}createSegments(t,n,r,i){return n.map(s=>":"===s.path[0]?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const Bg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a5(e,t,n,r,i){const s=fE(e,t,n);return s.matched?(r=function Dj(e,t){return e.providers&&!e._injector&&(e._injector=Bf(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function r5(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Ie(i.map(o=>{const a=Js(o,e);return Zr(function qj(e){return e&&za(e.canMatch)}(a)?a.canMatch(t,n):Vn(e,()=>a(t,n)))})).pipe(eo(),hE()):Ie(!0)}(r,t,n).pipe(Ue(o=>!0===o?s:{...Bg}))):Ie(s)}function fE(e,t,n){if("**"===t.path)return function c5(e){return{matched:!0,parameters:e.length>0?Ob(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Bg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||j3)(n,e,t);if(!i)return{...Bg};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function pE(e,t,n,r){return n.length>0&&function d5(e,t,n){return n.some(r=>xu(e,t,r)&&Bn(r)!==Re)}(e,n,r)?{segmentGroup:new Ge(t,u5(r,new Ge(n,e.children))),slicedSegments:[]}:0===n.length&&function h5(e,t,n){return n.some(r=>xu(e,t,r))}(e,n,r)?{segmentGroup:new Ge(e.segments,l5(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ge(e.segments,e.children),slicedSegments:n}}function l5(e,t,n,r){const i={};for(const s of n)if(xu(e,t,s)&&!r[Bn(s)]){const o=new Ge([],{});i[Bn(s)]=o}return{...r,...i}}function u5(e,t){const n={};n[Re]=t;for(const r of e)if(""===r.path&&Bn(r)!==Re){const i=new Ge([],{});n[Bn(r)]=i}return n}function xu(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class p5{}class _5{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new o5(this.urlSerializer,this.urlTree)}noMatchError(t){return new re(4002,`'${t.segmentGroup}'`)}recognize(){const t=pE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ue(({children:n,rootSnapshot:r})=>{const i=new Hn(r,n),s=new nE("",i),o=function oj(e,t,n=null,r=null){return qb(Wb(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){const n=new Eu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Re,n).pipe(Ue(r=>({children:r,rootSnapshot:n})),Ks(r=>{if(r instanceof Au)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fg?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,s):this.processSegment(t,n,r,r.segments,i,!0,s).pipe(Ue(o=>o instanceof Hn?[o]:[]))}processChildren(t,n,r,i){const s=[];for(const o of Object.keys(r.children))"primary"===o?s.unshift(o):s.push(o);return qt(s).pipe(gu(o=>{const a=r.children[o],c=function Mj(e,t){const n=e.filter(r=>Bn(r)===t);return n.push(...e.filter(r=>Bn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,c,a,o,i)}),function L3(e,t){return Rt(function O3(e,t,n,r,i){return(s,o)=>{let a=n,c=t,u=0;s.subscribe(bt(o,m=>{const S=u++;c=a?e(c,m,S):(a=!0,m),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(e,t,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),pu(null),function P3(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ai((i,s)=>e(i,s,r)):ni,yg(1),n?pu(t):kb(()=>new hu))}(),Gt(o=>{if(null===o)return to(r);const a=gE(o);return function v5(e){e.sort((t,n)=>t.value.outlet===Re?-1:n.value.outlet===Re?1:t.value.outlet.localeCompare(n.value.outlet))}(a),Ie(a)}))}processSegment(t,n,r,i,s,o,a){return qt(n).pipe(gu(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,s,o,a).pipe(Ks(u=>{if(u instanceof Fg)return Ie(null);throw u}))),xi(c=>!!c),Ks(c=>{if(dE(c))return function f5(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?Ie(new p5):to(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,s,o,a,c){return Bn(r)===o||o!==Re&&xu(i,s,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o,c):to(i):to(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o,a){const{matched:c,parameters:u,consumedSegments:m,positionalParamSegments:S,remainingSegments:N}=fE(n,i,s);if(!c)return to(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const O=new Eu(s,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mE(i),Bn(i),i.component??i._loadedComponent??null,i,_E(i)),P=bu(O,a,this.paramsInheritanceStrategy);O.params=Object.freeze(P.params),O.data=Object.freeze(P.data);const $=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,S,O,t);return this.applyRedirects.lineralizeSegments(i,$).pipe(Gt(G=>this.processSegment(t,r,n,G.concat(N),o,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,s,o){const a=a5(n,r,i,t);return"**"===r.path&&(n.children={}),a.pipe(Dr(c=>c.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(Dr(({routes:u})=>{const m=r._loadedInjector??t,{parameters:S,consumedSegments:N,remainingSegments:O}=c,P=new Eu(N,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mE(r),Bn(r),r.component??r._loadedComponent??null,r,_E(r)),$=bu(P,o,this.paramsInheritanceStrategy);P.params=Object.freeze($.params),P.data=Object.freeze($.data);const{segmentGroup:G,slicedSegments:K}=pE(n,N,O,u);if(0===K.length&&G.hasChildren())return this.processChildren(m,u,G,P).pipe(Ue(ue=>new Hn(P,ue)));if(0===u.length&&0===K.length)return Ie(new Hn(P,[]));const W=Bn(r)===s;return this.processSegment(m,u,G,K,W?Re:s,!0,P).pipe(Ue(ue=>new Hn(P,ue instanceof Hn?[ue]:[])))})):to(n)))}getChildConfig(t,n,r){return n.children?Ie({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ie({routes:n._loadedRoutes,injector:n._loadedInjector}):function n5(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Ie(!0):Ie(i.map(o=>{const a=Js(o,e);return Zr(function Vj(e){return e&&za(e.canLoad)}(a)?a.canLoad(t,n):Vn(e,()=>a(t,n)))})).pipe(eo(),hE())}(t,n,r).pipe(Gt(i=>i?this.configLoader.loadChildren(t,n).pipe(Kt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function s5(){return fu(cE(!1,yn.GuardRejected))}())):Ie({routes:[],injector:t})}}function y5(e){const t=e.value.routeConfig;return t&&""===t.path}function gE(e){const t=[],n=new Set;for(const r of e){if(!y5(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=gE(r.children);t.push(new Hn(r.value,i))}return t.filter(r=>!n.has(r))}function mE(e){return e.data||{}}function _E(e){return e.resolve||{}}function vE(e){const t=e.children.map(n=>vE(n)).flat();return[e,...t]}function Hg(e){return Dr(t=>{const n=e(t);return n?qt(n).pipe(Ue(()=>t)):Ie(t)})}let yE=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Re);return r}getResolvedTitleForRoute(n){return n.data[ka]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>X(E5),providedIn:"root"})}return e})(),E5=(()=>{class e extends yE{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(Ae(IH))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Wa=new oe("",{providedIn:"root",factory:()=>({})});let CE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=pl({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){1&r&&vr(0,"router-outlet")},dependencies:[sE],encapsulation:2})}return e})();function jg(e){const t=e.children&&e.children.map(jg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Re&&(n.component=CE),n}const ku=new oe("");let SE=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=X(DP);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ie(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Zr(n.loadComponent()).pipe(Ue(wE),Kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Cg(()=>{this.componentLoaders.delete(n)})),i=new xb(r,()=>new cn).pipe(vg());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function I5(e,t,n,r){return Zr(e.loadChildren()).pipe(Ue(wE),Gt(i=>i instanceof RC||Array.isArray(i)?Ie(i):qt(t.compileModuleAsync(i))),Ue(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(ku,[],{optional:!0,self:!0}).flat()),{routes:o.map(jg),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Cg(()=>{this.childrenLoaders.delete(r)})),o=new xb(s,()=>new cn).pipe(vg());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wE(e){return function M5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Ug=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>X(T5),providedIn:"root"})}return e})(),T5=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const DE=new oe(""),EE=new oe("");let Nu=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new cn;transitionAbortSubject=new cn;configLoader=X(SE);environmentInjector=X(dn);urlSerializer=X(Ys);rootContexts=X(ja);location=X(Ia);inputBindingEnabled=null!==X(Iu,{optional:!0});titleStrategy=X(yE);options=X(Wa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=X(Ug);createViewTransition=X(DE,{optional:!0});navigationErrorHandler=X(EE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>Ie(void 0);rootComponentType=null;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new vj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new _j(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Sn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Fa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(s=>0!==s.id),Ue(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Dr(s=>{let o=!1,a=!1;return Ie(s).pipe(Dr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",yn.SupersededByNewNavigation),tr;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const S="";return this.events.next(new Ba(c.id,this.urlSerializer.serialize(c.rawUrl),S,Mg.IgnoredSameUrlNavigation)),c.resolve(!1),tr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ie(c).pipe(Dr(S=>{const N=this.transitions?.getValue();return this.events.next(new Ig(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions?.getValue()?tr:Promise.resolve(S)}),function C5(e,t,n,r,i,s){return Gt(o=>function g5(e,t,n,r,i,s,o="emptyOnly"){return new _5(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(Ue(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Kt(S=>{s.targetSnapshot=S.targetSnapshot,s.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const N=new Xb(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(N)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:S,extractedUrl:N,source:O,restoredState:P,extras:$}=c,G=new Ig(S,this.urlSerializer.serialize(N),O,P);this.events.next(G);const K=tE(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:K,urlAfterRedirects:N,extras:{...$,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=N,Ie(s)}{const S="";return this.events.next(new Ba(c.id,this.urlSerializer.serialize(c.extractedUrl),S,Mg.IgnoredByUrlHandlingStrategy)),c.resolve(!1),tr}}),Kt(c=>{const u=new fj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ue(c=>(this.currentTransition=s={...c,guards:Fj(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Kj(e,t){return Gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ie({...n,guardsResult:!0}):function Zj(e,t,n,r){return qt(e).pipe(Gt(i=>function t5(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ie(s.map(a=>{const c=Ha(t)??i,u=Js(a,c);return Zr(function Wj(e){return e&&za(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):Vn(c,()=>u(e,t,n,r))).pipe(xi())})).pipe(eo()):Ie(!0)}(i.component,i.route,n,t,r)),xi(i=>!0!==i,!0))}(o,r,i,e).pipe(Gt(a=>a&&function Uj(e){return"boolean"==typeof e}(a)?function Yj(e,t,n,r){return qt(t).pipe(gu(i=>_g(function Xj(e,t){return null!==e&&t&&t(new yj(e)),Ie(!0)}(i.route.parent,r),function Qj(e,t){return null!==e&&t&&t(new Sj(e)),Ie(!0)}(i.route,r),function e5(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Bj(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Ab(()=>Ie(o.guards.map(c=>{const u=Ha(o.node)??n,m=Js(c,u);return Zr(function zj(e){return e&&za(e.canActivateChild)}(m)?m.canActivateChild(r,e):Vn(u,()=>m(r,e))).pipe(xi())})).pipe(eo())));return Ie(s).pipe(eo())}(e,i.path,n),function Jj(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ie(!0);const i=r.map(s=>Ab(()=>{const o=Ha(t)??n,a=Js(s,o);return Zr(function $j(e){return e&&za(e.canActivate)}(a)?a.canActivate(t,e):Vn(o,()=>a(t,e))).pipe(xi())}));return Ie(i).pipe(eo())}(e,i.route,n))),xi(i=>!0!==i,!0))}(r,s,e,t):Ie(a)),Ue(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Kt(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw Mu(0,c.guardsResult);const u=new pj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ai(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",yn.GuardRejected),!1)),Hg(c=>{if(c.guards.canActivateChecks.length)return Ie(c).pipe(Kt(u=>{const m=new gj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),Dr(u=>{let m=!1;return Ie(u).pipe(function S5(e,t){return Gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ie(n);const s=new Set(i.map(c=>c.route)),o=new Set;for(const c of s)if(!o.has(c))for(const u of vE(c))o.add(u);let a=0;return qt(o).pipe(gu(c=>s.has(c)?function w5(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!iE(i)&&(s[ka]=i.title),function D5(e,t,n,r){const i=Sg(e);if(0===i.length)return Ie({});const s={};return qt(i).pipe(Gt(o=>function b5(e,t,n,r){const i=Ha(t)??r,s=Js(e,i);return Zr(s.resolve?s.resolve(t,n):Vn(i,()=>s(t,n)))}(e[o],t,n,r).pipe(xi(),Kt(a=>{if(a instanceof Pg)throw Mu(new _u,a);s[o]=a}))),yg(1),function F3(e){return Ue(()=>e)}(s),Ks(o=>dE(o)?tr:fu(o)))}(s,e,t,r).pipe(Ue(o=>(e._resolvedData=o,e.data=bu(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=bu(c,c.parent,e).resolve,Ie(void 0))),Kt(()=>a++),yg(1),Gt(c=>a===o.size?Ie(n):tr))})}(this.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(u,"",yn.NoDataFromResolver)}}))}),Kt(u=>{const m=new mj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}))}),Hg(c=>{const u=m=>{const S=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(m.routeConfig).pipe(Kt(N=>{m.component=N}),Ue(()=>{})));for(const N of m.children)S.push(...u(N));return S};return Tb(u(c.targetSnapshot.root)).pipe(pu(null),Gs(1))}),Hg(()=>this.afterPreactivation()),Dr(()=>{const{currentSnapshot:c,targetSnapshot:u}=s,m=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return m?qt(m).pipe(Ue(()=>s)):Ie(s)}),Ue(c=>{const u=function xj(e,t,n){const r=Ua(e,t._root,n?n._root:void 0);return new eE(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},this.currentNavigation.targetRouterState=u,s}),Kt(()=>{this.events.next(new Rg)}),((e,t,n,r)=>Ue(i=>(new Pj(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Gs(1),Kt({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Li(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),function B3(e){return Rt((t,n)=>{Sr(e).subscribe(bt(n,()=>n.complete(),Cn)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Kt(c=>{throw c}))),Cg(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",yn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ks(c=>{if(a=!0,lE(c))this.events.next(new Pi(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Oj(e){return lE(e)&&Oi(e.url)}(c)?this.events.next(new Du(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{const u=new Tg(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{const m=Vn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(!(m instanceof Pg))throw this.events.next(u),c;{const{message:S,cancellationCode:N}=Mu(0,m);this.events.next(new Pi(s.id,this.urlSerializer.serialize(s.extractedUrl),S,N)),this.events.next(new Du(m.redirectTo,m.navigationBehaviorOptions))}}catch(m){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(m)}}return tr}))}))}cancelNavigationTransition(n,r,i){const s=new Pi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function x5(e){return e!==Fa}let k5=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>X(O5),providedIn:"root"})}return e})();class N5{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let O5=(()=>{class e extends N5{static \u0275fac=(()=>{let n;return function(i){return(n||(n=zd(e)))(i||e)}})();static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>X(L5),providedIn:"root"})}return e})(),L5=(()=>{class e extends IE{location=X(Ia);urlSerializer=X(Ys);options=X(Wa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=X(Ug);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ki;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=tE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ig)this.stateMemento=this.createStateMemento();else if(n instanceof Ba)this.rawUrlTree=r.initialUrl;else if(n instanceof Xb){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Rg?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Pi&&(n.code===yn.GuardRejected||n.code===yn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Tg?this.restoreHistory(r,!0):n instanceof Li&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=n instanceof ki?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=zd(e)))(i||e)}})();static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(qa||{});const P5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=X(YC);stateManager=X(IE);options=X(Wa,{optional:!0})||{};pendingTasks=X(pr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=X(Nu);urlSerializer=X(Ys);location=X(Ia);urlHandlingStrategy=X(Ug);_events=new cn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=X(k5);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=X(ku,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!X(Iu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Pi&&r.code!==yn.Redirect&&r.code!==yn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Li)this.navigated=!0;else if(r instanceof Du){const o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||x5(i.source),...o};this.scheduleNavigation(a,Fa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function H5(e){return!(e instanceof Rg||e instanceof Du)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let S,m=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}null!==m&&(m=this.removeEmptyProps(m));try{S=Wb(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),S=this.currentUrlTree.root}return qb(S,n,m,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Oi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Fa,null,r)}navigate(n,r={skipLocationChange:!1}){return function B5(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new re(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...P5}:!1===r?{...F5}:r,Oi(n))return Pb(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Pb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((S,N)=>{a=S,c=N});const m=this.pendingTasks.add();return function ME(e,t){e.events.pipe(Ai(n=>n instanceof Li||n instanceof Pi||n instanceof Tg||n instanceof Ba),Ue(n=>n instanceof Li||n instanceof Ba?qa.COMPLETE:n instanceof Pi&&(n.code===yn.Redirect||n.code===yn.SupersededByNewNavigation)?qa.REDIRECTING:qa.FAILED),Ai(n=>n!==qa.REDIRECTING),Gs(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(S=>Promise.reject(S))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $g=new oe("");function RE(e){return e.routerState.root}function AE(){const e=X(ft);return t=>{const n=e.get(mn);if(t!==n.components[0])return;const r=e.get(Yr),i=e.get(xE);1===e.get(zg)&&r.initialNavigation(),e.get(kE,null,ke.Optional)?.setUpPreloading(),e.get($g,null,ke.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const xE=new oe("",{factory:()=>new cn}),zg=new oe("",{providedIn:"root",factory:()=>1}),kE=new oe(""),Y5={providers:[function TP(e){const t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Ep({ngZoneFactory:()=>{const i=Ip(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&It("NgZone_CoalesceEvent"),new qe(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Ar([{provide:MP,useValue:!0},{provide:Co,useValue:!1},r])}({eventCoalescing:!0}),function z5(e,...t){return Ar([{provide:ku,multi:!0,useValue:e},[],{provide:Xs,useFactory:RE,deps:[Yr]},{provide:la,multi:!0,useFactory:AE},t.map(n=>n.\u0275providers)])}([])]};var X5=Zt(883),J5=Zt(295);let eU=(()=>{class e{terminal;fitAddon;inputBuffer="";terminalClosed=new Jt;constructor(){this.terminal=new X5.Terminal({cursorBlink:!0,theme:{background:"#000000",foreground:"#00ff00"}}),this.fitAddon=new J5.FitAddon}ngOnInit(){const n=document.getElementById("terminal");n&&(this.terminal.loadAddon(this.fitAddon),this.terminal.open(n),this.fitAddon.fit(),this.initializeCommands(),this.makeTerminalDraggable())}ngOnDestroy(){this.terminal.dispose()}makeTerminalDraggable(){const n=document.getElementById("terminalWrapper"),r=document.getElementById("terminalHeader");if(n&&r){let i=!1,s=0,o=0;r.addEventListener("mousedown",a=>{i=!0,s=a.clientX-n.offsetLeft,o=a.clientY-n.offsetTop,document.body.style.cursor="move"}),document.addEventListener("mousemove",a=>{if(i){const u=a.clientY-o;n.style.left=a.clientX-s+"px",n.style.top=`${u}px`}}),document.addEventListener("mouseup",()=>{i=!1,document.body.style.cursor="default"})}}initializeCommands(){const n={home:["projects","contact"],projects:["Project 1","Project 2","Project 3"],contact:["Oumaima Zerouali","oumaima.zerouali@gmail.com"]};let r="home";this.terminal.writeln("Welcome to Oumaima's Portfolio Terminal!"),this.terminal.writeln('Type "help" for a list of commands.'),(()=>{this.terminal.write(`\r\nC:\\Users\\Oumaima\\${r}> `)})(),this.terminal.onData(s=>{if("\r"===s){const o=this.inputBuffer.trim();this.inputBuffer="",this.executeCommand(o,n,r)}else"\x7f"===s?(this.inputBuffer=this.inputBuffer.slice(0,-1),this.terminal.write("\b \b")):(this.inputBuffer+=s,this.terminal.write(s))})}executeCommand(n,r,i){switch(n){case"help":this.terminal.writeln("\r\nList of commands:"),this.terminal.writeln("help - List available commands"),this.terminal.writeln("ls - List files/directories in the current directory");break;case"ls":this.terminal.writeln(r[i]?"\r\n"+r[i].join("\r\n"):`\r\nNo files or directories found in ${i}`);break;case"clear":this.terminal.clear();break;case"exit":this.terminal.dispose(),this.terminalClosed.emit();break;default:if(n.startsWith("cd ")){const o=n.split(" ")[1];if(r[o])if(i=o,"contact"===o){const a="oumaima.zerouali@gmail.com";window.location.href=`mailto:${a}`,this.terminal.writeln(`\r\nOpening email client to: ${a}`)}else if("projects"===o){const a="https://github.com/OumaimaZerouali";window.open(a,"_blank"),this.terminal.writeln(`\r\nOpening GitHub page: ${a}`)}else this.terminal.writeln(`\r\nChanged directory to ${o}`);else this.terminal.writeln(`\r\nDirectory "${o}" not found.`)}else this.terminal.writeln(`\r\n'${n}' is not recognized as an internal or external command.`)}(()=>{this.terminal.write(`\r\nC:\\Users\\Oumaima\\${i}> `)})()}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=pl({type:e,selectors:[["app-terminal"]],outputs:{terminalClosed:"terminalClosed"},decls:5,vars:0,consts:[["id","terminalWrapper",1,"terminal-wrapper"],["id","terminalHeader",1,"terminal-header"],[1,"header-title"],["id","terminal",1,"terminal-body"]],template:function(r,i){1&r&&(_n(0,"div",0)(1,"div",1)(2,"span",2),Us(3,"Command Prompt"),rn()(),vr(4,"div",3),rn())},styles:[".terminal-wrapper[_ngcontent-%COMP%]{position:fixed;width:50%;height:40%;background:#000000e6;color:#0f0;font-family:Courier New,Courier,monospace;box-shadow:0 0 15px #0f0c;border-radius:5px;z-index:1000;cursor:move;overflow:hidden}.terminal-header[_ngcontent-%COMP%]{background:#333;color:#fff;padding:5px 10px;display:flex;justify-content:space-between;align-items:center;cursor:grab}.terminal-header[_ngcontent-%COMP%]:active{cursor:grabbing}.terminal-body[_ngcontent-%COMP%]{height:calc(100% - 30px);overflow-y:auto;padding:10px;border-top:2px solid #333}.xterm[_ngcontent-%COMP%]{height:100%;width:100%;color:#0f0!important;background-color:#000!important;padding:10px}\n\n/*# sourceMappingURL=terminal.component.css.map*/"]})}return e})();function tU(e,t){if(1&e){const n=function qS(){return q()}();_n(0,"div",13)(1,"app-terminal",14),_a("terminalClosed",function(){return function km(e){return ye.lFrame.contextLView=e,e[8]}(n),function Nm(e){return ye.lFrame.contextLView=null,e}(function C0(e=1){return function n1(e){return(ye.lFrame.contextLView=function Am(e,t){for(;e>0;)t=t[14],e--;return t}(e,ye.lFrame.contextLView))[8]}(e)}().handleTerminalClosed())}),rn()()}}(function yH(e,t){return dF({rootComponent:e,...cb(t)})})((()=>{class e{roles=["backend developer","frontend developer"];index=0;currentText="";isDeleting=!1;typingSpeed=150;pauseDuration=2e3;isTerminalOpen=!1;ngOnInit(){(function Q5(){const e=document.createElement("canvas"),t=e.getContext("2d");document.body.appendChild(e),e.width=window.innerWidth,e.height=window.innerHeight;const i=Array(Math.floor(e.width/16)).fill(1);(function o(){t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,e.width,e.height),t.fillStyle="#0f0",t.font="16px monospace",i.forEach((a,c)=>{const u="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890@#$%^&*".charAt(Math.floor(43*Math.random()));t.fillText(u,16*c,16*a),16*a>e.height&&Math.random()>.975&&(i[c]=0),i[c]++}),requestAnimationFrame(o)})(),window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight})})(),this.startTypingEffect()}ngOnDestroy(){const n=document.querySelector("canvas");n&&n.remove()}toggleTerminal(){this.isTerminalOpen=!this.isTerminalOpen}handleTerminalClosed(){this.isTerminalOpen=!1}startTypingEffect(){const n=this.roles[this.index];this.currentText=n.substring(0,this.isDeleting?this.currentText.length-1:this.currentText.length+1);let r=this.typingSpeed;this.isDeleting&&(r/=2),this.isDeleting||this.currentText!==n?this.isDeleting&&""===this.currentText&&(this.isDeleting=!1,this.index=(this.index+1)%this.roles.length):(r=this.pauseDuration,this.isDeleting=!0),setTimeout(()=>this.startTypingEffect(),r)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=pl({type:e,selectors:[["app-root"]],decls:21,vars:2,consts:[[1,"intro-container"],[1,"intro-text"],[1,"highlight"],[1,"cursor"],[1,"intro-image"],["src","./assets/img/profile-pic.png","alt","Profile Picture","width","500","height","500"],[1,"socials"],["href","https://github.com/OumaimaZerouali","target","_blank","aria-label","GitHub"],[1,"bx","bxl-github"],["href","https://www.linkedin.com/in/oumaima-zerouali-16b189223/","target","_blank","aria-label","LinkedIn"],[1,"bx","bxl-linkedin"],[1,"terminal-icon",3,"click"],[1,"bx","bx-terminal"],[1,"terminal-container"],[3,"terminalClosed"]],template:function(r,i){1&r&&(_n(0,"div",0)(1,"div",1)(2,"h1"),Us(3,"_Hello, World!_"),rn(),_n(4,"p"),Us(5," I\u2019m Oumaima, and I am a "),_n(6,"span",2),Us(7),rn(),vr(8,"span",3),rn(),_n(9,"p"),Us(10," A passionate and driven junior developer with a strong commitment to learning and innovation. "),rn()(),_n(11,"div",4),vr(12,"img",5),rn()(),_n(13,"div",6)(14,"a",7),vr(15,"i",8),rn(),_n(16,"a",9),vr(17,"i",10),rn()(),_n(18,"div",11),_a("click",function(){return i.toggleTerminal()}),vr(19,"i",12),rn(),Uf(20,tU,2,0,"div",13)),2&r&&(Gh(7),pp(i.currentText),Gh(13),VS(i.isTerminalOpen?20:-1))},dependencies:[eU],styles:[".intro-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;text-align:left;background:#000000b3;padding:30px 40px;border:1px solid #00ff00;border-radius:10px;box-shadow:0 0 20px #0f0c}.intro-text[_ngcontent-%COMP%]{flex:1;color:#0f0;font-family:Courier New,Courier,monospace}.intro-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:15px;text-shadow:0 0 10px #00ff00}.intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5}.intro-image[_ngcontent-%COMP%]{margin-left:30px}.intro-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;border:2px solid #00ff00;box-shadow:0 0 15px #0f0c}.socials[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;top:70%;left:27%;gap:10px}.socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0f0;font-size:2.5rem;transition:transform .3s ease,box-shadow .3s ease}.socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.2);text-shadow:0 0 15px #00ff00,0 0 30px #00ff00}.socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:2px solid #00ff00}.terminal-icon[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;font-size:2.5rem;color:#0f0;cursor:pointer;transition:transform .3s,color .3s}.terminal-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#0fa}\n\n/*# sourceMappingURL=app.component.css.map*/"]})}return e})(),Y5).catch(e=>console.error(e))},295:Qr=>{self,Qr.exports=(()=>{"use strict";var Zt,sr={};return Zt=sr,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.FitAddon=void 0,Zt.FitAddon=class{activate(Ke){this._terminal=Ke}dispose(){}fit(){const Ke=this.proposeDimensions();Ke&&this._terminal&&!isNaN(Ke.cols)&&!isNaN(Ke.rows)&&(this._terminal.rows===Ke.rows&&this._terminal.cols===Ke.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(Ke.cols,Ke.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const Ke=this._terminal._core,Bt=Ke._renderService.dimensions;if(0===Bt.css.cell.width||0===Bt.css.cell.height)return;const se=0===this._terminal.options.scrollback?0:Ke.viewport.scrollBarWidth,p=window.getComputedStyle(this._terminal.element.parentElement),_=parseInt(p.getPropertyValue("height")),w=Math.max(0,parseInt(p.getPropertyValue("width"))),E=window.getComputedStyle(this._terminal.element),g=_-(parseInt(E.getPropertyValue("padding-top"))+parseInt(E.getPropertyValue("padding-bottom"))),D=w-(parseInt(E.getPropertyValue("padding-right"))+parseInt(E.getPropertyValue("padding-left")))-se;return{cols:Math.max(2,Math.floor(D/Bt.css.cell.width)),rows:Math.max(1,Math.floor(g/Bt.css.cell.height))}}},sr})()},883:Qr=>{self,Qr.exports=(()=>{"use strict";var sr={4567:function(se,p,_){var w=this&&this.__decorate||function(h,v,C,M){var A,y=arguments.length,T=y<3?v:null===M?M=Object.getOwnPropertyDescriptor(v,C):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(h,v,C,M);else for(var L=h.length-1;L>=0;L--)(A=h[L])&&(T=(y<3?A(T):y>3?A(v,C,T):A(v,C))||T);return y>3&&T&&Object.defineProperty(v,C,T),T},E=this&&this.__param||function(h,v){return function(C,M){v(C,M,h)}};Object.defineProperty(p,"__esModule",{value:!0}),p.AccessibilityManager=void 0;const g=_(9042),D=_(6114),I=_(9924),R=_(844),b=_(5596),l=_(4725),f=_(3656);let d=p.AccessibilityManager=class extends R.Disposable{constructor(h,v){super(),this._terminal=h,this._renderService=v,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let C=0;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);if(this._topBoundaryFocusListener=C=>this._handleBoundaryFocus(C,0),this._bottomBoundaryFocusListener=C=>this._handleBoundaryFocus(C,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new I.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(C=>this._handleResize(C.rows))),this.register(this._terminal.onRender(C=>this._refreshRows(C.start,C.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(C=>this._handleChar(C))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(C=>this._handleTab(C))),this.register(this._terminal.onKey(C=>this._handleKey(C.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new b.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,R.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(h){for(let v=0;v<h;v++)this._handleChar(" ")}_handleChar(h){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==h&&(this._charsToAnnounce+=h):this._charsToAnnounce+=h,"\n"===h&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=g.tooMuchOutput)),D.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,D.isMac&&this._liveRegion.remove()}_handleKey(h){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(h)||this._charsToConsume.push(h)}_refreshRows(h,v){this._liveRegionDebouncer.refresh(h,v,this._terminal.rows)}_renderRows(h,v){const C=this._terminal.buffer,M=C.lines.length.toString();for(let A=h;A<=v;A++){const y=C.translateBufferLineToString(C.ydisp+A,!0),T=(C.ydisp+A+1).toString(),L=this._rowElements[A];L&&(0===y.length?L.innerText="\xa0":L.textContent=y,L.setAttribute("aria-posinset",T),L.setAttribute("aria-setsize",M))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(h,v){const C=h.target,M=this._rowElements[0===v?1:this._rowElements.length-2];if(C.getAttribute("aria-posinset")===(0===v?"1":`${this._terminal.buffer.lines.length}`)||h.relatedTarget!==M)return;let A,y;if(0===v?(A=C,y=this._rowElements.pop(),this._rowContainer.removeChild(y)):(A=this._rowElements.shift(),y=C,this._rowContainer.removeChild(A)),A.removeEventListener("focus",this._topBoundaryFocusListener),y.removeEventListener("focus",this._bottomBoundaryFocusListener),0===v){const T=this._createAccessibilityTreeNode();this._rowElements.unshift(T),this._rowContainer.insertAdjacentElement("afterbegin",T)}else{const T=this._createAccessibilityTreeNode();this._rowElements.push(T),this._rowContainer.appendChild(T)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===v?-1:1),this._rowElements[0===v?1:this._rowElements.length-2].focus(),h.preventDefault(),h.stopImmediatePropagation()}_handleResize(h){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let v=this._rowContainer.children.length;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);for(;this._rowElements.length>h;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const h=document.createElement("div");return h.setAttribute("role","listitem"),h.tabIndex=-1,this._refreshRowDimensions(h),h}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let h=0;h<this._terminal.rows;h++)this._refreshRowDimensions(this._rowElements[h])}}_refreshRowDimensions(h){h.style.height=`${this._renderService.dimensions.css.cell.height}px`}};p.AccessibilityManager=d=w([E(1,l.IRenderService)],d)},3614:(se,p)=>{function _(D){return D.replace(/\r?\n/g,"\r")}function w(D,I){return I?"\x1b[200~"+D+"\x1b[201~":D}function E(D,I,R,b){D=w(D=_(D),R.decPrivateModes.bracketedPasteMode&&!0!==b.rawOptions.ignoreBracketedPasteMode),R.triggerDataEvent(D,!0),I.value=""}function g(D,I,R){const b=R.getBoundingClientRect(),l=D.clientX-b.left-10,f=D.clientY-b.top-10;I.style.width="20px",I.style.height="20px",I.style.left=`${l}px`,I.style.top=`${f}px`,I.style.zIndex="1000",I.focus()}Object.defineProperty(p,"__esModule",{value:!0}),p.rightClickHandler=p.moveTextAreaUnderMouseCursor=p.paste=p.handlePasteEvent=p.copyHandler=p.bracketTextForPaste=p.prepareTextForTerminal=void 0,p.prepareTextForTerminal=_,p.bracketTextForPaste=w,p.copyHandler=function(D,I){D.clipboardData&&D.clipboardData.setData("text/plain",I.selectionText),D.preventDefault()},p.handlePasteEvent=function(D,I,R,b){D.stopPropagation(),D.clipboardData&&E(D.clipboardData.getData("text/plain"),I,R,b)},p.paste=E,p.moveTextAreaUnderMouseCursor=g,p.rightClickHandler=function(D,I,R,b,l){g(D,I,R),l&&b.rightClickSelect(D),I.value=b.selectionText,I.select()}},7239:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ColorContrastCache=void 0;const w=_(1505);p.ColorContrastCache=class{constructor(){this._color=new w.TwoKeyMap,this._css=new w.TwoKeyMap}setCss(E,g,D){this._css.set(E,g,D)}getCss(E,g){return this._css.get(E,g)}setColor(E,g,D){this._color.set(E,g,D)}getColor(E,g){return this._color.get(E,g)}clear(){this._color.clear(),this._css.clear()}}},3656:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.addDisposableDomListener=void 0,p.addDisposableDomListener=function(_,w,E,g){_.addEventListener(w,E,g);let D=!1;return{dispose:()=>{D||(D=!0,_.removeEventListener(w,E,g))}}}},6465:function(se,p,_){var w=this&&this.__decorate||function(l,f,d,h){var v,C=arguments.length,M=C<3?f:null===h?h=Object.getOwnPropertyDescriptor(f,d):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(l,f,d,h);else for(var A=l.length-1;A>=0;A--)(v=l[A])&&(M=(C<3?v(M):C>3?v(f,d,M):v(f,d))||M);return C>3&&M&&Object.defineProperty(f,d,M),M},E=this&&this.__param||function(l,f){return function(d,h){f(d,h,l)}};Object.defineProperty(p,"__esModule",{value:!0}),p.Linkifier2=void 0;const g=_(3656),D=_(8460),I=_(844),R=_(2585);let b=p.Linkifier2=class extends I.Disposable{get currentLink(){return this._currentLink}constructor(l){super(),this._bufferService=l,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new D.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new D.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,I.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,I.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(l){return this._linkProviders.push(l),{dispose:()=>{const f=this._linkProviders.indexOf(l);-1!==f&&this._linkProviders.splice(f,1)}}}attachToDom(l,f,d){this._element=l,this._mouseService=f,this._renderService=d,this.register((0,g.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,g.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(l){if(this._lastMouseEvent=l,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(l,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const d=l.composedPath();for(let h=0;h<d.length;h++){const v=d[h];if(v.classList.contains("xterm"))break;if(v.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(l){if(this._activeLine!==l.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(l,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,l)||(this._clearCurrentLink(),this._askForLink(l,!0))}_askForLink(l,f){var d,h;this._activeProviderReplies&&f||(null===(d=this._activeProviderReplies)||void 0===d||d.forEach(C=>{C?.forEach(M=>{M.link.dispose&&M.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=l.y);let v=!1;for(const[C,M]of this._linkProviders.entries())f?null!==(h=this._activeProviderReplies)&&void 0!==h&&h.get(C)&&(v=this._checkLinkProviderResult(C,l,v)):M.provideLinks(l.y,A=>{var y,T;if(this._isMouseOut)return;const L=A?.map(U=>({link:U}));null===(y=this._activeProviderReplies)||void 0===y||y.set(C,L),v=this._checkLinkProviderResult(C,l,v),(null===(T=this._activeProviderReplies)||void 0===T?void 0:T.size)===this._linkProviders.length&&this._removeIntersectingLinks(l.y,this._activeProviderReplies)})}_removeIntersectingLinks(l,f){const d=new Set;for(let h=0;h<f.size;h++){const v=f.get(h);if(v)for(let C=0;C<v.length;C++){const M=v[C],y=M.link.range.end.y>l?this._bufferService.cols:M.link.range.end.x;for(let T=M.link.range.start.y<l?0:M.link.range.start.x;T<=y;T++){if(d.has(T)){v.splice(C--,1);break}d.add(T)}}}}_checkLinkProviderResult(l,f,d){var h;if(!this._activeProviderReplies)return d;const v=this._activeProviderReplies.get(l);let C=!1;for(let M=0;M<l;M++)this._activeProviderReplies.has(M)&&!this._activeProviderReplies.get(M)||(C=!0);if(!C&&v){const M=v.find(A=>this._linkAtPosition(A.link,f));M&&(d=!0,this._handleNewLink(M))}if(this._activeProviderReplies.size===this._linkProviders.length&&!d)for(let M=0;M<this._activeProviderReplies.size;M++){const A=null===(h=this._activeProviderReplies.get(M))||void 0===h?void 0:h.find(y=>this._linkAtPosition(y.link,f));if(A){d=!0,this._handleNewLink(A);break}}return d}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(l){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(l,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(l,this._currentLink.link.text)}_clearCurrentLink(l,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!l||!f||this._currentLink.link.range.start.y>=l&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,I.disposeArray)(this._linkCacheDisposables))}_handleNewLink(l){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(l.link,f)&&(this._currentLink=l,this._currentLink.state={decorations:{underline:void 0===l.link.decorations||l.link.decorations.underline,pointerCursor:void 0===l.link.decorations||l.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,l.link,this._lastMouseEvent),l.link.decorations={},Object.defineProperties(l.link.decorations,{pointerCursor:{get:()=>{var d,h;return null===(h=null===(d=this._currentLink)||void 0===d?void 0:d.state)||void 0===h?void 0:h.decorations.pointerCursor},set:d=>{var h,v;null!==(h=this._currentLink)&&void 0!==h&&h.state&&this._currentLink.state.decorations.pointerCursor!==d&&(this._currentLink.state.decorations.pointerCursor=d,this._currentLink.state.isHovered&&(null===(v=this._element)||void 0===v||v.classList.toggle("xterm-cursor-pointer",d)))}},underline:{get:()=>{var d,h;return null===(h=null===(d=this._currentLink)||void 0===d?void 0:d.state)||void 0===h?void 0:h.decorations.underline},set:d=>{var h,v,C;null!==(h=this._currentLink)&&void 0!==h&&h.state&&(null===(C=null===(v=this._currentLink)||void 0===v?void 0:v.state)||void 0===C?void 0:C.decorations.underline)!==d&&(this._currentLink.state.decorations.underline=d,this._currentLink.state.isHovered&&this._fireUnderlineEvent(l.link,d))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(d=>{if(!this._currentLink)return;const h=0===d.start?0:d.start+1+this._bufferService.buffer.ydisp,v=this._bufferService.buffer.ydisp+1+d.end;if(this._currentLink.link.range.start.y>=h&&this._currentLink.link.range.end.y<=v&&(this._clearCurrentLink(h,v),this._lastMouseEvent&&this._element)){const C=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);C&&this._askForLink(C,!1)}})))}_linkHover(l,f,d){var h;!(null===(h=this._currentLink)||void 0===h)&&h.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&l.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(d,f.text)}_fireUnderlineEvent(l,f){const d=l.range,h=this._bufferService.buffer.ydisp,v=this._createLinkUnderlineEvent(d.start.x-1,d.start.y-h-1,d.end.x,d.end.y-h-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(v)}_linkLeave(l,f,d){var h;!(null===(h=this._currentLink)||void 0===h)&&h.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&l.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(d,f.text)}_linkAtPosition(l,f){const v=f.y*this._bufferService.cols+f.x;return l.range.start.y*this._bufferService.cols+l.range.start.x<=v&&v<=l.range.end.y*this._bufferService.cols+l.range.end.x}_positionFromMouseEvent(l,f,d){const h=d.getCoords(l,f,this._bufferService.cols,this._bufferService.rows);if(h)return{x:h[0],y:h[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(l,f,d,h,v){return{x1:l,y1:f,x2:d,y2:h,cols:this._bufferService.cols,fg:v}}};p.Linkifier2=b=w([E(0,R.IBufferService)],b)},9042:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.tooMuchOutput=p.promptLabel=void 0,p.promptLabel="Terminal input",p.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(se,p,_){var w=this&&this.__decorate||function(b,l,f,d){var h,v=arguments.length,C=v<3?l:null===d?d=Object.getOwnPropertyDescriptor(l,f):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(b,l,f,d);else for(var M=b.length-1;M>=0;M--)(h=b[M])&&(C=(v<3?h(C):v>3?h(l,f,C):h(l,f))||C);return v>3&&C&&Object.defineProperty(l,f,C),C},E=this&&this.__param||function(b,l){return function(f,d){l(f,d,b)}};Object.defineProperty(p,"__esModule",{value:!0}),p.OscLinkProvider=void 0;const g=_(511),D=_(2585);let I=p.OscLinkProvider=class{constructor(b,l,f){this._bufferService=b,this._optionsService=l,this._oscLinkService=f}provideLinks(b,l){var f;const d=this._bufferService.buffer.lines.get(b-1);if(!d)return void l(void 0);const h=[],v=this._optionsService.rawOptions.linkHandler,C=new g.CellData,M=d.getTrimmedLength();let A=-1,y=-1,T=!1;for(let L=0;L<M;L++)if(-1!==y||d.hasContent(L)){if(d.loadCell(L,C),C.hasExtendedAttrs()&&C.extended.urlId){if(-1===y){y=L,A=C.extended.urlId;continue}T=C.extended.urlId!==A}else-1!==y&&(T=!0);if(T||-1!==y&&L===M-1){const U=null===(f=this._oscLinkService.getLinkData(A))||void 0===f?void 0:f.uri;if(U){const F={start:{x:y+1,y:b},end:{x:L+(T||L!==M-1?0:1),y:b}};let j=!1;if(!v?.allowNonHttpProtocols)try{const Z=new URL(U);["http:","https:"].includes(Z.protocol)||(j=!0)}catch{j=!0}j||h.push({text:U,range:F,activate:(Z,J)=>v?v.activate(Z,J,F):R(0,J),hover:(Z,J)=>{var ne;return null===(ne=v?.hover)||void 0===ne?void 0:ne.call(v,Z,J,F)},leave:(Z,J)=>{var ne;return null===(ne=v?.leave)||void 0===ne?void 0:ne.call(v,Z,J,F)}})}T=!1,C.hasExtendedAttrs()&&C.extended.urlId?(y=L,A=C.extended.urlId):(y=-1,A=-1)}}l(h)}};function R(b,l){if(confirm(`Do you want to navigate to ${l}?\n\nWARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=l}else console.warn("Opening link blocked as opener could not be cleared")}}p.OscLinkProvider=I=w([E(0,D.IBufferService),E(1,D.IOptionsService),E(2,D.IOscLinkService)],I)},6193:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.RenderDebouncer=void 0,p.RenderDebouncer=class{constructor(_,w){this._parentWindow=_,this._renderCallback=w,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(_){return this._refreshCallbacks.push(_),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(_,w,E){this._rowCount=E,_=void 0!==_?_:0,w=void 0!==w?w:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,w):w,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const _=Math.max(this._rowStart,0),w=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,w),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const _ of this._refreshCallbacks)_(0);this._refreshCallbacks=[]}}},5596:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ScreenDprMonitor=void 0;const w=_(844);p.ScreenDprMonitor=class E extends w.Disposable{constructor(D){super(),this._parentWindow=D,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,w.toDisposable)(()=>{this.clearListener()}))}setListener(D){this._listener&&this.clearListener(),this._listener=D,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var D;this._outerListener&&(null===(D=this._resolutionMediaMatchList)||void 0===D||D.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const w=_(3614),E=_(3656),g=_(6465),D=_(9042),I=_(3730),R=_(1680),b=_(3107),l=_(5744),f=_(2950),d=_(1296),h=_(428),v=_(4269),C=_(5114),M=_(8934),A=_(3230),y=_(9312),T=_(4725),L=_(6731),U=_(8055),F=_(8969),j=_(8460),Z=_(844),J=_(6114),ne=_(8437),ee=_(2584),x=_(7399),B=_(5941),H=_(9074),V=_(2585),ie=_(5435),ae=_(4567),pe=typeof window<"u"?window.document:null;p.Terminal=class de extends F.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(k={}){super(k),this.browser=J,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new Z.MutableDisposable),this._onCursorMove=this.register(new j.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new j.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new j.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new j.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new j.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new j.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new j.EventEmitter),this._onBlur=this.register(new j.EventEmitter),this._onA11yCharEmitter=this.register(new j.EventEmitter),this._onA11yTabEmitter=this.register(new j.EventEmitter),this._onWillOpen=this.register(new j.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(g.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(I.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(H.DecorationService),this._instantiationService.setService(V.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((z,Q)=>this.refresh(z,Q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(z=>this._reportWindowsOptions(z))),this.register(this._inputHandler.onColor(z=>this._handleColorEvent(z))),this.register((0,j.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,j.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(z=>this._afterResize(z.cols,z.rows))),this.register((0,Z.toDisposable)(()=>{var z,Q;this._customKeyEventHandler=void 0,null===(Q=null===(z=this.element)||void 0===z?void 0:z.parentNode)||void 0===Q||Q.removeChild(this.element)}))}_handleColorEvent(k){if(this._themeService)for(const z of k){let Q,Y="";switch(z.index){case 256:Q="foreground",Y="10";break;case 257:Q="background",Y="11";break;case 258:Q="cursor",Y="12";break;default:Q="ansi",Y="4;"+z.index}switch(z.type){case 0:const Ee=U.color.toColorRGB("ansi"===Q?this._themeService.colors.ansi[z.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${ee.C0.ESC}]${Y};${(0,B.toRgbString)(Ee)}${ee.C1_ESCAPED.ST}`);break;case 1:if("ansi"===Q)this._themeService.modifyColors(ce=>ce.ansi[z.index]=U.rgba.toColor(...z.color));else{const ce=Q;this._themeService.modifyColors(Le=>Le[ce]=U.rgba.toColor(...z.color))}break;case 2:this._themeService.restoreColor(z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(k){k?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(ae.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(k){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[I"),this.updateCursorStyle(k),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var k;return null===(k=this.textarea)||void 0===k?void 0:k.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const z=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!z)return;const Q=Math.min(this.buffer.x,this.cols-1),Y=this._renderService.dimensions.css.cell.height,Ee=z.getWidth(Q),ce=this._renderService.dimensions.css.cell.width*Ee,Le=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=Q*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=Le+"px",this.textarea.style.width=ce+"px",this.textarea.style.height=Y+"px",this.textarea.style.lineHeight=Y+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,E.addDisposableDomListener)(this.element,"copy",z=>{this.hasSelection()&&(0,w.copyHandler)(z,this._selectionService)}));const k=z=>(0,w.handlePasteEvent)(z,this.textarea,this.coreService,this.optionsService);this.register((0,E.addDisposableDomListener)(this.textarea,"paste",k)),this.register((0,E.addDisposableDomListener)(this.element,"paste",k)),this.register(J.isFirefox?(0,E.addDisposableDomListener)(this.element,"mousedown",z=>{2===z.button&&(0,w.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,E.addDisposableDomListener)(this.element,"contextmenu",z=>{(0,w.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),J.isLinux&&this.register((0,E.addDisposableDomListener)(this.element,"auxclick",z=>{1===z.button&&(0,w.moveTextAreaUnderMouseCursor)(z,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,E.addDisposableDomListener)(this.textarea,"keyup",k=>this._keyUp(k),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"keydown",k=>this._keyDown(k),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"keypress",k=>this._keyPress(k),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionupdate",k=>this._compositionHelper.compositionupdate(k))),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,E.addDisposableDomListener)(this.textarea,"input",k=>this._inputEvent(k),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(k){var z;if(!k)throw new Error("Terminal requires a parent element.");k.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=k.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),k.appendChild(this.element);const Q=pe.createDocumentFragment();this._viewportElement=pe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=pe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=pe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=pe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=pe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",D.promptLabel),J.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(C.CoreBrowserService,this.textarea,null!==(z=this._document.defaultView)&&void 0!==z?z:window),this._instantiationService.setService(T.ICoreBrowserService,this._coreBrowserService),this.register((0,E.addDisposableDomListener)(this.textarea,"focus",Y=>this._handleTextAreaFocus(Y))),this.register((0,E.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(h.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(L.ThemeService),this._instantiationService.setService(T.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(v.CharacterJoinerService),this._instantiationService.setService(T.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(A.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(T.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Y=>this._onRender.fire(Y))),this.onResize(Y=>this._renderService.resize(Y.cols,Y.rows)),this._compositionView=pe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(M.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(R.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Y=>this.scrollLines(Y.amount,Y.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(y.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Y=>this.scrollLines(Y.amount,Y.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Y=>this._renderService.handleSelectionChanged(Y.start,Y.end,Y.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Y=>{this.textarea.value=Y,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Y=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,E.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(b.BufferDecorationRenderer,this.screenElement)),this.register((0,E.addDisposableDomListener)(this.element,"mousedown",Y=>this._selectionService.handleMouseDown(Y))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(ae.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Y=>this._handleScreenReaderModeOptionChange(Y))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Y=>{!this._overviewRulerRenderer&&Y&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const k=this,z=this.element;function Q(ce){const Le=k._mouseService.getMouseReportCoords(ce,k.screenElement);if(!Le)return!1;let mt,Ot;switch(ce.overrideType||ce.type){case"mousemove":Ot=32,void 0===ce.buttons?(mt=3,void 0!==ce.button&&(mt=ce.button<3?ce.button:3)):mt=1&ce.buttons?0:4&ce.buttons?1:2&ce.buttons?2:3;break;case"mouseup":Ot=0,mt=ce.button<3?ce.button:3;break;case"mousedown":Ot=1,mt=ce.button<3?ce.button:3;break;case"wheel":if(0===k.viewport.getLinesScrolled(ce))return!1;Ot=ce.deltaY<0?0:1,mt=4;break;default:return!1}return!(void 0===Ot||void 0===mt||mt>4)&&k.coreMouseService.triggerMouseEvent({col:Le.col,row:Le.row,x:Le.x,y:Le.y,button:mt,action:Ot,ctrl:ce.ctrlKey,alt:ce.altKey,shift:ce.shiftKey})}const Y={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Ee={mouseup:ce=>(Q(ce),ce.buttons||(this._document.removeEventListener("mouseup",Y.mouseup),Y.mousedrag&&this._document.removeEventListener("mousemove",Y.mousedrag)),this.cancel(ce)),wheel:ce=>(Q(ce),this.cancel(ce,!0)),mousedrag:ce=>{ce.buttons&&Q(ce)},mousemove:ce=>{ce.buttons||Q(ce)}};this.register(this.coreMouseService.onProtocolChange(ce=>{ce?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ce)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ce?Y.mousemove||(z.addEventListener("mousemove",Ee.mousemove),Y.mousemove=Ee.mousemove):(z.removeEventListener("mousemove",Y.mousemove),Y.mousemove=null),16&ce?Y.wheel||(z.addEventListener("wheel",Ee.wheel,{passive:!1}),Y.wheel=Ee.wheel):(z.removeEventListener("wheel",Y.wheel),Y.wheel=null),2&ce?Y.mouseup||(z.addEventListener("mouseup",Ee.mouseup),Y.mouseup=Ee.mouseup):(this._document.removeEventListener("mouseup",Y.mouseup),z.removeEventListener("mouseup",Y.mouseup),Y.mouseup=null),4&ce?Y.mousedrag||(Y.mousedrag=Ee.mousedrag):(this._document.removeEventListener("mousemove",Y.mousedrag),Y.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,E.addDisposableDomListener)(z,"mousedown",ce=>{if(ce.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ce))return Q(ce),Y.mouseup&&this._document.addEventListener("mouseup",Y.mouseup),Y.mousedrag&&this._document.addEventListener("mousemove",Y.mousedrag),this.cancel(ce)})),this.register((0,E.addDisposableDomListener)(z,"wheel",ce=>{if(!Y.wheel){if(!this.buffer.hasScrollback){const Le=this.viewport.getLinesScrolled(ce);if(0===Le)return;const mt=ee.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ce.deltaY<0?"A":"B");let Ot="";for(let jn=0;jn<Math.abs(Le);jn++)Ot+=mt;return this.coreService.triggerDataEvent(Ot,!0),this.cancel(ce,!0)}return this.viewport.handleWheel(ce)?this.cancel(ce):void 0}},{passive:!1})),this.register((0,E.addDisposableDomListener)(z,"touchstart",ce=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ce),this.cancel(ce)},{passive:!0})),this.register((0,E.addDisposableDomListener)(z,"touchmove",ce=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ce)?void 0:this.cancel(ce)},{passive:!1}))}refresh(k,z){var Q;null===(Q=this._renderService)||void 0===Q||Q.refreshRows(k,z)}updateCursorStyle(k){var z;null!==(z=this._selectionService)&&void 0!==z&&z.shouldColumnSelect(k)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(k,z,Q=0){var Y;1===Q?(super.scrollLines(k,z,Q),this.refresh(0,this.rows-1)):null===(Y=this.viewport)||void 0===Y||Y.scrollLines(k)}paste(k){(0,w.paste)(k,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(k){this._customKeyEventHandler=k}registerLinkProvider(k){return this.linkifier2.registerLinkProvider(k)}registerCharacterJoiner(k){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const z=this._characterJoinerService.register(k);return this.refresh(0,this.rows-1),z}deregisterCharacterJoiner(k){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(k)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(k){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+k)}registerDecoration(k){return this._decorationService.registerDecoration(k)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(k,z,Q){this._selectionService.setSelection(k,z,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var k;null===(k=this._selectionService)||void 0===k||k.clearSelection()}selectAll(){var k;null===(k=this._selectionService)||void 0===k||k.selectAll()}selectLines(k,z){var Q;null===(Q=this._selectionService)||void 0===Q||Q.selectLines(k,z)}_keyDown(k){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(k))return!1;const z=this.browser.isMac&&this.options.macOptionIsMeta&&k.altKey;if(!z&&!this._compositionHelper.keydown(k))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;z||"Dead"!==k.key&&"AltGraph"!==k.key||(this._unprocessedDeadKey=!0);const Q=(0,x.evaluateKeyboardEvent)(k,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(k),3===Q.type||2===Q.type){const Y=this.rows-1;return this.scrollLines(2===Q.type?-Y:Y),this.cancel(k,!0)}return 1===Q.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,k)||(Q.cancel&&this.cancel(k,!0),!Q.key||!!(k.key&&!k.ctrlKey&&!k.altKey&&!k.metaKey&&1===k.key.length&&k.key.charCodeAt(0)>=65&&k.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==ee.C0.ETX&&Q.key!==ee.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:k}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||k.altKey||k.ctrlKey?this.cancel(k,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(k,z){const Q=k.isMac&&!this.options.macOptionIsMeta&&z.altKey&&!z.ctrlKey&&!z.metaKey||k.isWindows&&z.altKey&&z.ctrlKey&&!z.metaKey||k.isWindows&&z.getModifierState("AltGraph");return"keypress"===z.type?Q:Q&&(!z.keyCode||z.keyCode>47)}_keyUp(k){var z;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(k)||(16===(z=k).keyCode||17===z.keyCode||18===z.keyCode||this.focus(),this.updateCursorStyle(k),this._keyPressHandled=!1)}_keyPress(k){let z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(k))return!1;if(this.cancel(k),k.charCode)z=k.charCode;else if(null==k.which)z=k.keyCode;else{if(0===k.which||0===k.charCode)return!1;z=k.which}return!(!z||(k.altKey||k.ctrlKey||k.metaKey)&&!this._isThirdLevelShift(this.browser,k)||(z=String.fromCharCode(z),this._onKey.fire({key:z,domEvent:k}),this._showCursor(),this.coreService.triggerDataEvent(z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(k){return!(!k.data||"insertText"!==k.inputType||k.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(k.data,!0),this.cancel(k),0))}resize(k,z){k!==this.cols||z!==this.rows?super.resize(k,z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(k,z){var Q,Y;null===(Q=this._charSizeService)||void 0===Q||Q.measure(),null===(Y=this.viewport)||void 0===Y||Y.syncScrollArea(!0)}clear(){var k;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let z=1;z<this.rows;z++)this.buffer.lines.push(this.buffer.getBlankLine(ne.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(k=this.viewport)||void 0===k||k.reset(),this.refresh(0,this.rows-1)}}reset(){var k,z;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),null===(k=this._selectionService)||void 0===k||k.reset(),this._decorationService.reset(),null===(z=this.viewport)||void 0===z||z.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var k;null===(k=this._renderService)||void 0===k||k.clearTextureAtlas()}_reportFocus(){var k;null!==(k=this.element)&&void 0!==k&&k.classList.contains("focus")?this.coreService.triggerDataEvent(ee.C0.ESC+"[I"):this.coreService.triggerDataEvent(ee.C0.ESC+"[O")}_reportWindowsOptions(k){if(this._renderService)switch(k){case ie.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const z=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[4;${Q};${z}t`);break;case ie.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Y=this._renderService.dimensions.css.cell.width.toFixed(0),Ee=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[6;${Ee};${Y}t`)}}cancel(k,z){if(this.options.cancelEvents||z)return k.preventDefault(),k.stopPropagation(),!1}}},9924:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TimeBasedDebouncer=void 0,p.TimeBasedDebouncer=class{constructor(_,w=1e3){this._renderCallback=_,this._debounceThresholdMS=w,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(_,w,E){this._rowCount=E,_=void 0!==_?_:0,w=void 0!==w?w:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,w):w;const g=Date.now();if(g-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=g,this._innerRefresh();else if(!this._additionalRefreshRequested){const I=this._debounceThresholdMS-(g-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},I)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const _=Math.max(this._rowStart,0),w=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,w)}}},1680:function(se,p,_){var w=this&&this.__decorate||function(f,d,h,v){var C,M=arguments.length,A=M<3?d:null===v?v=Object.getOwnPropertyDescriptor(d,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(f,d,h,v);else for(var y=f.length-1;y>=0;y--)(C=f[y])&&(A=(M<3?C(A):M>3?C(d,h,A):C(d,h))||A);return M>3&&A&&Object.defineProperty(d,h,A),A},E=this&&this.__param||function(f,d){return function(h,v){d(h,v,f)}};Object.defineProperty(p,"__esModule",{value:!0}),p.Viewport=void 0;const g=_(3656),D=_(4725),I=_(8460),R=_(844),b=_(2585);let l=p.Viewport=class extends R.Disposable{constructor(f,d,h,v,C,M,A,y){super(),this._viewportElement=f,this._scrollArea=d,this._bufferService=h,this._optionsService=v,this._charSizeService=C,this._renderService=M,this._coreBrowserService=A,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new I.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(T=>this._activeBuffer=T.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(T=>this._renderDimensions=T)),this._handleThemeChange(y.colors),this.register(y.onChangeColors(T=>this._handleThemeChange(T))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,d){return!(d<0&&0!==this._viewportElement.scrollTop||d>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const d=this._getPixelsScrolled(f);return 0!==d&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}scrollLines(f){if(0!==f)if(this._optionsService.rawOptions.smoothScrollDuration){const d=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(0===f.deltaY||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getBufferElements(f,d){var h;let v,C="";const M=[],A=d??this._bufferService.buffer.lines.length,y=this._bufferService.buffer.lines;for(let T=f;T<A;T++){const L=y.get(T);if(!L)continue;const U=null===(h=y.get(T+1))||void 0===h?void 0:h.isWrapped;if(C+=L.translateToString(!U),!U||T===y.length-1){const F=document.createElement("div");F.textContent=C,M.push(F),C.length>0&&(v=F),C=""}}return{bufferElements:M,cursorElement:v}}getLinesScrolled(f){if(0===f.deltaY||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(f,d){const h=this._optionsService.rawOptions.fastScrollModifier;return"alt"===h&&d.altKey||"ctrl"===h&&d.ctrlKey||"shift"===h&&d.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const d=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,0!==d&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}};p.Viewport=l=w([E(2,b.IBufferService),E(3,b.IOptionsService),E(4,D.ICharSizeService),E(5,D.IRenderService),E(6,D.ICoreBrowserService),E(7,D.IThemeService)],l)},3107:function(se,p,_){var w=this&&this.__decorate||function(l,f,d,h){var v,C=arguments.length,M=C<3?f:null===h?h=Object.getOwnPropertyDescriptor(f,d):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(l,f,d,h);else for(var A=l.length-1;A>=0;A--)(v=l[A])&&(M=(C<3?v(M):C>3?v(f,d,M):v(f,d))||M);return C>3&&M&&Object.defineProperty(f,d,M),M},E=this&&this.__param||function(l,f){return function(d,h){f(d,h,l)}};Object.defineProperty(p,"__esModule",{value:!0}),p.BufferDecorationRenderer=void 0;const g=_(3656),D=_(4725),I=_(844),R=_(2585);let b=p.BufferDecorationRenderer=class extends I.Disposable{constructor(l,f,d,h){super(),this._screenElement=l,this._bufferService=f,this._decorationService=d,this._renderService=h,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,g.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(v=>this._removeDecoration(v))),this.register((0,I.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const l of this._decorationService.decorations)this._renderDecoration(l);this._dimensionsChanged=!1}_renderDecoration(l){this._refreshStyle(l),this._dimensionsChanged&&this._refreshXPosition(l)}_createElement(l){var f,d;const h=document.createElement("div");h.classList.add("xterm-decoration"),h.classList.toggle("xterm-decoration-top-layer","top"===(null===(f=l?.options)||void 0===f?void 0:f.layer)),h.style.width=`${Math.round((l.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,h.style.height=(l.options.height||1)*this._renderService.dimensions.css.cell.height+"px",h.style.top=(l.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",h.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const v=null!==(d=l.options.x)&&void 0!==d?d:0;return v&&v>this._bufferService.cols&&(h.style.display="none"),this._refreshXPosition(l,h),h}_refreshStyle(l){const f=l.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)l.element&&(l.element.style.display="none",l.onRenderEmitter.fire(l.element));else{let d=this._decorationElements.get(l);d||(d=this._createElement(l),l.element=d,this._decorationElements.set(l,d),this._container.appendChild(d),l.onDispose(()=>{this._decorationElements.delete(l),d.remove()})),d.style.top=f*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",l.onRenderEmitter.fire(d)}}_refreshXPosition(l,f=l.element){var d;if(!f)return;const h=null!==(d=l.options.x)&&void 0!==d?d:0;"right"===(l.options.anchor||"left")?f.style.right=h?h*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=h?h*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(l){var f;null===(f=this._decorationElements.get(l))||void 0===f||f.remove(),this._decorationElements.delete(l),l.dispose()}};p.BufferDecorationRenderer=b=w([E(1,R.IBufferService),E(2,R.IDecorationService),E(3,D.IRenderService)],b)},5871:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ColorZoneStore=void 0,p.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(_){if(_.options.overviewRulerOptions){for(const w of this._zones)if(w.color===_.options.overviewRulerOptions.color&&w.position===_.options.overviewRulerOptions.position){if(this._lineIntersectsZone(w,_.marker.line))return;if(this._lineAdjacentToZone(w,_.marker.line,_.options.overviewRulerOptions.position))return void this._addLineToZone(w,_.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=_.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=_.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=_.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=_.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:_.options.overviewRulerOptions.color,position:_.options.overviewRulerOptions.position,startBufferLine:_.marker.line,endBufferLine:_.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(_){this._linePadding=_}_lineIntersectsZone(_,w){return w>=_.startBufferLine&&w<=_.endBufferLine}_lineAdjacentToZone(_,w,E){return w>=_.startBufferLine-this._linePadding[E||"full"]&&w<=_.endBufferLine+this._linePadding[E||"full"]}_addLineToZone(_,w){_.startBufferLine=Math.min(_.startBufferLine,w),_.endBufferLine=Math.max(_.endBufferLine,w)}}},5744:function(se,p,_){var w=this&&this.__decorate||function(v,C,M,A){var y,T=arguments.length,L=T<3?C:null===A?A=Object.getOwnPropertyDescriptor(C,M):A;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(v,C,M,A);else for(var U=v.length-1;U>=0;U--)(y=v[U])&&(L=(T<3?y(L):T>3?y(C,M,L):y(C,M))||L);return T>3&&L&&Object.defineProperty(C,M,L),L},E=this&&this.__param||function(v,C){return function(M,A){C(M,A,v)}};Object.defineProperty(p,"__esModule",{value:!0}),p.OverviewRulerRenderer=void 0;const g=_(5871),D=_(3656),I=_(4725),R=_(844),b=_(2585),l={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let h=p.OverviewRulerRenderer=class extends R.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(v,C,M,A,y,T,L){var U;super(),this._viewportElement=v,this._screenElement=C,this._bufferService=M,this._decorationService=A,this._renderService=y,this._optionsService=T,this._coreBrowseService=L,this._colorZoneStore=new g.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(U=this._viewportElement.parentElement)||void 0===U||U.insertBefore(this._canvas,this._viewportElement);const F=this._canvas.getContext("2d");if(!F)throw new Error("Ctx cannot be null");this._ctx=F,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,R.toDisposable)(()=>{var j;null===(j=this._canvas)||void 0===j||j.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,D.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const v=Math.floor(this._canvas.width/3),C=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=v,f.center=C,f.right=v,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=f.left,d.right=f.left+f.center}_refreshDrawHeightConstants(){l.full=Math.round(2*this._coreBrowseService.dpr);const C=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);l.left=C,l.center=C,l.right=C}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const C of this._decorationService.decorations)this._colorZoneStore.addDecoration(C);this._ctx.lineWidth=1;const v=this._colorZoneStore.zones;for(const C of v)"full"!==C.position&&this._renderColorZone(C);for(const C of v)"full"===C.position&&this._renderColorZone(C);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(v){this._ctx.fillStyle=v.color,this._ctx.fillRect(d[v.position||"full"],Math.round(v.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-l[v.position||"full"]/2),f[v.position||"full"],Math.round((v.endBufferLine-v.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+l[v.position||"full"]))}_queueRefresh(v,C){this._shouldUpdateDimensions=v||this._shouldUpdateDimensions,this._shouldUpdateAnchor=C||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};p.OverviewRulerRenderer=h=w([E(2,b.IBufferService),E(3,b.IDecorationService),E(4,I.IRenderService),E(5,b.IOptionsService),E(6,I.ICoreBrowserService)],h)},2950:function(se,p,_){var w=this&&this.__decorate||function(b,l,f,d){var h,v=arguments.length,C=v<3?l:null===d?d=Object.getOwnPropertyDescriptor(l,f):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(b,l,f,d);else for(var M=b.length-1;M>=0;M--)(h=b[M])&&(C=(v<3?h(C):v>3?h(l,f,C):h(l,f))||C);return v>3&&C&&Object.defineProperty(l,f,C),C},E=this&&this.__param||function(b,l){return function(f,d){l(f,d,b)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CompositionHelper=void 0;const g=_(4725),D=_(2585),I=_(2584);let R=p.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(b,l,f,d,h,v){this._textarea=b,this._compositionView=l,this._bufferService=f,this._optionsService=d,this._coreService=h,this._renderService=v,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(b){this._compositionView.textContent=b.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(b){if(this._isComposing||this._isSendingComposition){if(229===b.keyCode||16===b.keyCode||17===b.keyCode||18===b.keyCode)return!1;this._finalizeComposition(!1)}return 229!==b.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(b){if(this._compositionView.classList.remove("active"),this._isComposing=!1,b){const l={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,l.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(l.start,l.end):this._textarea.value.substring(l.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const l=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(l,!0)}}_handleAnyTextareaChanges(){const b=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const l=this._textarea.value,f=l.replace(b,"");this._dataAlreadySent=f,l.length>b.length?this._coreService.triggerDataEvent(f,!0):l.length<b.length?this._coreService.triggerDataEvent(`${I.C0.DEL}`,!0):l.length===b.length&&l!==b&&this._coreService.triggerDataEvent(l,!0)}},0)}updateCompositionElements(b){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const l=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,d=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,h=l*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=h+"px",this._compositionView.style.top=d+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const v=this._compositionView.getBoundingClientRect();this._textarea.style.left=h+"px",this._textarea.style.top=d+"px",this._textarea.style.width=Math.max(v.width,1)+"px",this._textarea.style.height=Math.max(v.height,1)+"px",this._textarea.style.lineHeight=v.height+"px"}b||setTimeout(()=>this.updateCompositionElements(!0),0)}}};p.CompositionHelper=R=w([E(2,D.IBufferService),E(3,D.IOptionsService),E(4,D.ICoreService),E(5,g.IRenderService)],R)},9806:(se,p)=>{function _(w,E,g){const D=g.getBoundingClientRect(),I=w.getComputedStyle(g),R=parseInt(I.getPropertyValue("padding-left")),b=parseInt(I.getPropertyValue("padding-top"));return[E.clientX-D.left-R,E.clientY-D.top-b]}Object.defineProperty(p,"__esModule",{value:!0}),p.getCoords=p.getCoordsRelativeToElement=void 0,p.getCoordsRelativeToElement=_,p.getCoords=function(w,E,g,D,I,R,b,l,f){if(!R)return;const d=_(w,E,g);return d?(d[0]=Math.ceil((d[0]+(f?b/2:0))/b),d[1]=Math.ceil(d[1]/l),d[0]=Math.min(Math.max(d[0],1),D+(f?1:0)),d[1]=Math.min(Math.max(d[1],1),I),d):void 0}},9504:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.moveToCellSequence=void 0;const w=_(2584);function E(l,f,d,h){const v=l-g(l,d),C=f-g(f,d);return b(Math.abs(v-C)-function(A,y,T){let L=0;const U=A-g(A,T),F=y-g(y,T);for(let j=0;j<Math.abs(U-F);j++){const Z="A"===D(A,y)?-1:1,J=T.buffer.lines.get(U+Z*j);J?.isWrapped&&L++}return L}(l,f,d),R(D(l,f),h))}function g(l,f){let d=0,h=f.buffer.lines.get(l),v=h?.isWrapped;for(;v&&l>=0&&l<f.rows;)d++,h=f.buffer.lines.get(--l),v=h?.isWrapped;return d}function D(l,f){return l>f?"A":"B"}function I(l,f,d,h,v,C){let M=l,A=f,y="";for(;M!==d||A!==h;)M+=v?1:-1,v&&M>C.cols-1?(y+=C.buffer.translateBufferLineToString(A,!1,l,M),M=0,l=0,A++):!v&&M<0&&(y+=C.buffer.translateBufferLineToString(A,!1,0,l+1),M=C.cols-1,l=M,A--);return y+C.buffer.translateBufferLineToString(A,!1,l,M)}function R(l,f){return w.C0.ESC+(f?"O":"[")+l}function b(l,f){l=Math.floor(l);let d="";for(let h=0;h<l;h++)d+=f;return d}p.moveToCellSequence=function(l,f,d,h){const v=d.buffer.x,C=d.buffer.y;if(!d.buffer.hasScrollback)return y=v,(0===E(T=C,f,F=d,j=h).length?"":b(I(y,T,y,T-g(T,F),!1,F).length,R("D",j)))+E(C,f,d,h)+function(y,T,L,U,F,j){let Z;Z=E(T,U,F,j).length>0?U-g(U,F):T;const J=U,ne=function(ee,x,B,H,V,ie){let ae;return ae=E(B,H,V,ie).length>0?H-g(H,V):x,ee<B&&ae<=H||ee>=B&&ae<H?"C":"D"}(y,T,L,U,F,j);return b(I(y,Z,L,J,"C"===ne,F).length,R(ne,j))}(v,C,l,f,d,h);var y,T,F,j;let M;if(C===f)return M=v>l?"D":"C",b(Math.abs(v-l),R(M,h));M=C>f?"D":"C";const A=Math.abs(C-f);return b(function(y,T){return T.cols-y}(C>f?l:v,d)+(A-1)*d.cols+1+((C>f?v:l)-1),R(M,h))}},1296:function(se,p,_){var w=this&&this.__decorate||function(F,j,Z,J){var ne,ee=arguments.length,x=ee<3?j:null===J?J=Object.getOwnPropertyDescriptor(j,Z):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(F,j,Z,J);else for(var B=F.length-1;B>=0;B--)(ne=F[B])&&(x=(ee<3?ne(x):ee>3?ne(j,Z,x):ne(j,Z))||x);return ee>3&&x&&Object.defineProperty(j,Z,x),x},E=this&&this.__param||function(F,j){return function(Z,J){j(Z,J,F)}};Object.defineProperty(p,"__esModule",{value:!0}),p.DomRenderer=void 0;const g=_(3787),D=_(2550),I=_(2223),R=_(6171),b=_(4725),l=_(8055),f=_(8460),d=_(844),h=_(2585),v="xterm-dom-renderer-owner-",C="xterm-rows",M="xterm-fg-",A="xterm-bg-",y="xterm-focus",T="xterm-selection";let L=1,U=p.DomRenderer=class extends d.Disposable{constructor(F,j,Z,J,ne,ee,x,B,H,V){super(),this._element=F,this._screenElement=j,this._viewportElement=Z,this._linkifier2=J,this._charSizeService=ee,this._optionsService=x,this._bufferService=B,this._coreBrowserService=H,this._themeService=V,this._terminalClass=L++,this._rowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(C),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(T),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,R.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ie=>this._injectCss(ie))),this._injectCss(this._themeService.colors),this._rowFactory=ne.createInstance(g.DomRendererRowFactory,document),this._element.classList.add(v+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ie=>this._handleLinkHover(ie))),this.register(this._linkifier2.onHideLinkUnderline(ie=>this._handleLinkLeave(ie))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(v+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new D.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const F=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*F,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*F),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/F),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/F),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const Z of this._rowElements)Z.style.width=`${this.dimensions.css.canvas.width}px`,Z.style.height=`${this.dimensions.css.cell.height}px`,Z.style.lineHeight=`${this.dimensions.css.cell.height}px`,Z.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${C} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(F){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let j=`${this._terminalSelector} .${C} { color: ${F.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;j+=`${this._terminalSelector} .${C} .xterm-dim { color: ${l.color.multiplyOpacity(F.foreground,.5).css};}`,j+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,j+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",j+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${F.cursor.css};  color: ${F.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${F.cursor.css}; }}`,j+=`${this._terminalSelector} .${C}.${y} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C}.${y} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block { background-color: ${F.cursor.css}; color: ${F.cursorAccent.css};}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${F.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${F.cursor.css} inset;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${F.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,j+=`${this._terminalSelector} .${T} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${T} div { position: absolute; background-color: ${F.selectionBackgroundOpaque.css};}${this._terminalSelector} .${T} div { position: absolute; background-color: ${F.selectionInactiveBackgroundOpaque.css};}`;for(const[Z,J]of F.ansi.entries())j+=`${this._terminalSelector} .${M}${Z} { color: ${J.css}; }${this._terminalSelector} .${M}${Z}.xterm-dim { color: ${l.color.multiplyOpacity(J,.5).css}; }${this._terminalSelector} .${A}${Z} { background-color: ${J.css}; }`;j+=`${this._terminalSelector} .${M}${I.INVERTED_DEFAULT_COLOR} { color: ${l.color.opaque(F.background).css}; }${this._terminalSelector} .${M}${I.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${l.color.multiplyOpacity(l.color.opaque(F.background),.5).css}; }${this._terminalSelector} .${A}${I.INVERTED_DEFAULT_COLOR} { background-color: ${F.foreground.css}; }`,this._themeStyleElement.textContent=j}_setDefaultSpacing(){const F=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${F}px`,this._rowFactory.defaultSpacing=F}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(F,j){for(let Z=this._rowElements.length;Z<=j;Z++){const J=document.createElement("div");this._rowContainer.appendChild(J),this._rowElements.push(J)}for(;this._rowElements.length>j;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(F,j){this._refreshRowElements(F,j),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(y)}handleFocus(){this._rowContainer.classList.add(y),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(F,j,Z){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(F,j,Z),this.renderRows(0,this._bufferService.rows-1),!F||!j)return;const J=F[1]-this._bufferService.buffer.ydisp,ne=j[1]-this._bufferService.buffer.ydisp,ee=Math.max(J,0),x=Math.min(ne,this._bufferService.rows-1);if(ee>=this._bufferService.rows||x<0)return;const B=document.createDocumentFragment();if(Z){const H=F[0]>j[0];B.appendChild(this._createSelectionElement(ee,H?j[0]:F[0],H?F[0]:j[0],x-ee+1))}else B.appendChild(this._createSelectionElement(ee,J===ee?F[0]:0,ee===ne?j[0]:this._bufferService.cols)),B.appendChild(this._createSelectionElement(ee+1,0,this._bufferService.cols,x-ee-1)),ee!==x&&B.appendChild(this._createSelectionElement(x,0,ne===x?j[0]:this._bufferService.cols));this._selectionContainer.appendChild(B)}_createSelectionElement(F,j,Z,J=1){const ne=document.createElement("div");return ne.style.height=J*this.dimensions.css.cell.height+"px",ne.style.top=F*this.dimensions.css.cell.height+"px",ne.style.left=j*this.dimensions.css.cell.width+"px",ne.style.width=this.dimensions.css.cell.width*(Z-j)+"px",ne}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const F of this._rowElements)F.replaceChildren()}renderRows(F,j){const Z=this._bufferService.buffer,J=Z.ybase+Z.y,ne=Math.min(Z.x,this._bufferService.cols-1),ee=this._optionsService.rawOptions.cursorBlink,x=this._optionsService.rawOptions.cursorStyle,B=this._optionsService.rawOptions.cursorInactiveStyle;for(let H=F;H<=j;H++){const V=H+Z.ydisp,ie=this._rowElements[H],ae=Z.lines.get(V);if(!ie||!ae)break;ie.replaceChildren(...this._rowFactory.createRow(ae,V,V===J,x,B,ne,ee,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${v}${this._terminalClass}`}_handleLinkHover(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!0)}_handleLinkLeave(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!1)}_setCellUnderline(F,j,Z,J,ne,ee){Z<0&&(F=0),J<0&&(j=0);const x=this._bufferService.rows-1;Z=Math.max(Math.min(Z,x),0),J=Math.max(Math.min(J,x),0),ne=Math.min(ne,this._bufferService.cols);const B=this._bufferService.buffer,H=B.ybase+B.y,V=Math.min(B.x,ne-1),ie=this._optionsService.rawOptions.cursorBlink,ae=this._optionsService.rawOptions.cursorStyle,pe=this._optionsService.rawOptions.cursorInactiveStyle;for(let de=Z;de<=J;++de){const $e=de+B.ydisp,k=this._rowElements[de],z=B.lines.get($e);if(!k||!z)break;k.replaceChildren(...this._rowFactory.createRow(z,$e,$e===H,ae,pe,V,ie,this.dimensions.css.cell.width,this._widthCache,ee?de===Z?F:0:-1,ee?(de===J?j:ne)-1:-1))}}};p.DomRenderer=U=w([E(4,h.IInstantiationService),E(5,b.ICharSizeService),E(6,h.IOptionsService),E(7,h.IBufferService),E(8,b.ICoreBrowserService),E(9,b.IThemeService)],U)},3787:function(se,p,_){var w=this&&this.__decorate||function(M,A,y,T){var L,U=arguments.length,F=U<3?A:null===T?T=Object.getOwnPropertyDescriptor(A,y):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(M,A,y,T);else for(var j=M.length-1;j>=0;j--)(L=M[j])&&(F=(U<3?L(F):U>3?L(A,y,F):L(A,y))||F);return U>3&&F&&Object.defineProperty(A,y,F),F},E=this&&this.__param||function(M,A){return function(y,T){A(y,T,M)}};Object.defineProperty(p,"__esModule",{value:!0}),p.DomRendererRowFactory=void 0;const g=_(2223),D=_(643),I=_(511),R=_(2585),b=_(8055),l=_(4725),f=_(4269),d=_(6171),h=_(3734);let v=p.DomRendererRowFactory=class{constructor(M,A,y,T,L,U,F){this._document=M,this._characterJoinerService=A,this._optionsService=y,this._coreBrowserService=T,this._coreService=L,this._decorationService=U,this._themeService=F,this._workCell=new I.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(M,A,y){this._selectionStart=M,this._selectionEnd=A,this._columnSelectMode=y}createRow(M,A,y,T,L,U,F,j,Z,J,ne){const ee=[],x=this._characterJoinerService.getJoinedCharacters(A),B=this._themeService.colors;let H,V=M.getNoBgTrimmedLength();y&&V<U+1&&(V=U+1);let ie=0,ae="",pe=0,de=0,$e=0,k=!1,z=0,Q=!1,Y=0;const Ee=[],ce=-1!==J&&-1!==ne;for(let Le=0;Le<V;Le++){M.loadCell(Le,this._workCell);let mt=this._workCell.getWidth();if(0===mt)continue;let Ot=!1,jn=Le,xe=this._workCell;if(x.length>0&&Le===x[0][0]){Ot=!0;const tt=x.shift();xe=new f.JoinedCellData(this._workCell,M.translateToString(!0,tt[0],tt[1]),tt[1]-tt[0]),jn=tt[1]-1,mt=xe.getWidth()}const Fi=this._isCellInSelection(Le,A),je=y&&Le===U,Xr=ce&&Le>=J&&Le<=ne;let Jr=!1;this._decorationService.forEachDecorationAtCell(Le,A,void 0,tt=>{Jr=!0});let br=xe.getChars()||D.WHITESPACE_CELL_CHAR;if(" "===br&&(xe.isUnderline()||xe.isOverline())&&(br="\xa0"),Y=mt*j-Z.get(br,xe.isBold(),xe.isItalic()),H){if(ie&&(Fi&&Q||!Fi&&!Q&&xe.bg===pe)&&(Fi&&Q&&B.selectionForeground||xe.fg===de)&&xe.extended.ext===$e&&Xr===k&&Y===z&&!je&&!Ot&&!Jr){ae+=br,ie++;continue}ie&&(H.textContent=ae),H=this._document.createElement("span"),ie=0,ae=""}else H=this._document.createElement("span");if(pe=xe.bg,de=xe.fg,$e=xe.extended.ext,k=Xr,z=Y,Q=Fi,Ot&&U>=Le&&U<=jn&&(U=Le),!this._coreService.isCursorHidden&&je)if(Ee.push("xterm-cursor"),this._coreBrowserService.isFocused)F&&Ee.push("xterm-cursor-blink"),Ee.push("bar"===T?"xterm-cursor-bar":"underline"===T?"xterm-cursor-underline":"xterm-cursor-block");else if(L)switch(L){case"outline":Ee.push("xterm-cursor-outline");break;case"block":Ee.push("xterm-cursor-block");break;case"bar":Ee.push("xterm-cursor-bar");break;case"underline":Ee.push("xterm-cursor-underline")}if(xe.isBold()&&Ee.push("xterm-bold"),xe.isItalic()&&Ee.push("xterm-italic"),xe.isDim()&&Ee.push("xterm-dim"),ae=xe.isInvisible()?D.WHITESPACE_CELL_CHAR:xe.getChars()||D.WHITESPACE_CELL_CHAR,xe.isUnderline()&&(Ee.push(`xterm-underline-${xe.extended.underlineStyle}`)," "===ae&&(ae="\xa0"),!xe.isUnderlineColorDefault()))if(xe.isUnderlineColorRGB())H.style.textDecorationColor=`rgb(${h.AttributeData.toColorRGB(xe.getUnderlineColor()).join(",")})`;else{let tt=xe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&xe.isBold()&&tt<8&&(tt+=8),H.style.textDecorationColor=B.ansi[tt].css}xe.isOverline()&&(Ee.push("xterm-overline")," "===ae&&(ae="\xa0")),xe.isStrikethrough()&&Ee.push("xterm-strikethrough"),Xr&&(H.style.textDecoration="underline");let ze=xe.getFgColor(),Er=xe.getFgColorMode(),on=xe.getBgColor(),Ir=xe.getBgColorMode();const Tn=!!xe.isInverse();if(Tn){const tt=ze;ze=on,on=tt;const Ou=Er;Er=Ir,Ir=Ou}let an,Bi,Cn,ei=!1;switch(this._decorationService.forEachDecorationAtCell(Le,A,void 0,tt=>{"top"!==tt.options.layer&&ei||(tt.backgroundColorRGB&&(Ir=50331648,on=tt.backgroundColorRGB.rgba>>8&16777215,an=tt.backgroundColorRGB),tt.foregroundColorRGB&&(Er=50331648,ze=tt.foregroundColorRGB.rgba>>8&16777215,Bi=tt.foregroundColorRGB),ei="top"===tt.options.layer)}),!ei&&Fi&&(an=this._coreBrowserService.isFocused?B.selectionBackgroundOpaque:B.selectionInactiveBackgroundOpaque,on=an.rgba>>8&16777215,Ir=50331648,ei=!0,B.selectionForeground&&(Er=50331648,ze=B.selectionForeground.rgba>>8&16777215,Bi=B.selectionForeground)),ei&&Ee.push("xterm-decoration-top"),Ir){case 16777216:case 33554432:Cn=B.ansi[on],Ee.push(`xterm-bg-${on}`);break;case 50331648:Cn=b.rgba.toColor(on>>16,on>>8&255,255&on),this._addStyle(H,`background-color:#${C((on>>>0).toString(16),"0",6)}`);break;default:Tn?(Cn=B.foreground,Ee.push(`xterm-bg-${g.INVERTED_DEFAULT_COLOR}`)):Cn=B.background}switch(an||xe.isDim()&&(an=b.color.multiplyOpacity(Cn,.5)),Er){case 16777216:case 33554432:xe.isBold()&&ze<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ze+=8),this._applyMinimumContrast(H,Cn,B.ansi[ze],xe,an,void 0)||Ee.push(`xterm-fg-${ze}`);break;case 50331648:const tt=b.rgba.toColor(ze>>16&255,ze>>8&255,255&ze);this._applyMinimumContrast(H,Cn,tt,xe,an,Bi)||this._addStyle(H,`color:#${C(ze.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(H,Cn,B.foreground,xe,an,void 0)||Tn&&Ee.push(`xterm-fg-${g.INVERTED_DEFAULT_COLOR}`)}Ee.length&&(H.className=Ee.join(" "),Ee.length=0),je||Ot||Jr?H.textContent=ae:ie++,Y!==this.defaultSpacing&&(H.style.letterSpacing=`${Y}px`),ee.push(H),Le=jn}return H&&ie&&(H.textContent=ae),ee}_applyMinimumContrast(M,A,y,T,L,U){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,d.excludeFromContrastRatioDemands)(T.getCode()))return!1;const F=this._getContrastCache(T);let j;if(L||U||(j=F.getColor(A.rgba,y.rgba)),void 0===j){const Z=this._optionsService.rawOptions.minimumContrastRatio/(T.isDim()?2:1);j=b.color.ensureContrastRatio(L||A,U||y,Z),F.setColor((L||A).rgba,(U||y).rgba,j??null)}return!!j&&(this._addStyle(M,`color:${j.css}`),!0)}_getContrastCache(M){return M.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(M,A){M.setAttribute("style",`${M.getAttribute("style")||""}${A};`)}_isCellInSelection(M,A){const y=this._selectionStart,T=this._selectionEnd;return!(!y||!T)&&(this._columnSelectMode?y[0]<=T[0]?M>=y[0]&&A>=y[1]&&M<T[0]&&A<=T[1]:M<y[0]&&A>=y[1]&&M>=T[0]&&A<=T[1]:A>y[1]&&A<T[1]||y[1]===T[1]&&A===y[1]&&M>=y[0]&&M<T[0]||y[1]<T[1]&&A===T[1]&&M<T[0]||y[1]<T[1]&&A===y[1]&&M>=y[0])}};function C(M,A,y){for(;M.length<y;)M=A+M;return M}p.DomRendererRowFactory=v=w([E(1,l.ICharacterJoinerService),E(2,R.IOptionsService),E(3,l.ICoreBrowserService),E(4,R.ICoreService),E(5,R.IDecorationService),E(6,l.IThemeService)],v)},2550:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WidthCache=void 0,p.WidthCache=class{constructor(_){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=_.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const w=_.createElement("span"),E=_.createElement("span");E.style.fontWeight="bold";const g=_.createElement("span");g.style.fontStyle="italic";const D=_.createElement("span");D.style.fontWeight="bold",D.style.fontStyle="italic",this._measureElements=[w,E,g,D],this._container.appendChild(w),this._container.appendChild(E),this._container.appendChild(g),this._container.appendChild(D),_.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(_,w,E,g){_===this._font&&w===this._fontSize&&E===this._weight&&g===this._weightBold||(this._font=_,this._fontSize=w,this._weight=E,this._weightBold=g,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${E}`,this._measureElements[1].style.fontWeight=`${g}`,this._measureElements[2].style.fontWeight=`${E}`,this._measureElements[3].style.fontWeight=`${g}`,this.clear())}get(_,w,E){let g=0;if(!w&&!E&&1===_.length&&(g=_.charCodeAt(0))<256)return-9999!==this._flat[g]?this._flat[g]:this._flat[g]=this._measure(_,0);let D=_;w&&(D+="B"),E&&(D+="I");let I=this._holey.get(D);if(void 0===I){let R=0;w&&(R|=1),E&&(R|=2),I=this._measure(_,R),this._holey.set(D,I)}return I}_measure(_,w){const E=this._measureElements[w];return E.textContent=_.repeat(32),E.offsetWidth/32}}},2223:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TEXT_BASELINE=p.DIM_OPACITY=p.INVERTED_DEFAULT_COLOR=void 0;const w=_(6114);p.INVERTED_DEFAULT_COLOR=257,p.DIM_OPACITY=.5,p.TEXT_BASELINE=w.isFirefox||w.isLegacyEdge?"bottom":"ideographic"},6171:(se,p)=>{function _(w){return 57508<=w&&w<=57558}Object.defineProperty(p,"__esModule",{value:!0}),p.createRenderDimensions=p.excludeFromContrastRatioDemands=p.isRestrictedPowerlineGlyph=p.isPowerlineGlyph=p.throwIfFalsy=void 0,p.throwIfFalsy=function(w){if(!w)throw new Error("value must not be falsy");return w},p.isPowerlineGlyph=_,p.isRestrictedPowerlineGlyph=function(w){return 57520<=w&&w<=57527},p.excludeFromContrastRatioDemands=function(w){return _(w)||9472<=(E=w)&&E<=9631;var E},p.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionModel=void 0,p.SelectionModel=class{constructor(_){this._bufferService=_,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?_%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)-1]:[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[_,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[Math.max(_,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const _=this.selectionStart,w=this.selectionEnd;return!(!_||!w)&&(_[1]>w[1]||_[1]===w[1]&&_[0]>w[0])}handleTrim(_){return this.selectionStart&&(this.selectionStart[1]-=_),this.selectionEnd&&(this.selectionEnd[1]-=_),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(se,p,_){var w=this&&this.__decorate||function(l,f,d,h){var v,C=arguments.length,M=C<3?f:null===h?h=Object.getOwnPropertyDescriptor(f,d):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(l,f,d,h);else for(var A=l.length-1;A>=0;A--)(v=l[A])&&(M=(C<3?v(M):C>3?v(f,d,M):v(f,d))||M);return C>3&&M&&Object.defineProperty(f,d,M),M},E=this&&this.__param||function(l,f){return function(d,h){f(d,h,l)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CharSizeService=void 0;const g=_(2585),D=_(8460),I=_(844);let R=p.CharSizeService=class extends I.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(l,f,d){super(),this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=this.register(new D.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new b(l,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const l=this._measureStrategy.measure();l.width===this.width&&l.height===this.height||(this.width=l.width,this.height=l.height,this._onCharSizeChange.fire())}};p.CharSizeService=R=w([E(2,g.IOptionsService)],R);class b{constructor(f,d,h){this._document=f,this._parentElement=d,this._optionsService=h,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==f.width&&0!==f.height&&(this._result.width=f.width/32,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(se,p,_){var w=this&&this.__decorate||function(f,d,h,v){var C,M=arguments.length,A=M<3?d:null===v?v=Object.getOwnPropertyDescriptor(d,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(f,d,h,v);else for(var y=f.length-1;y>=0;y--)(C=f[y])&&(A=(M<3?C(A):M>3?C(d,h,A):C(d,h))||A);return M>3&&A&&Object.defineProperty(d,h,A),A},E=this&&this.__param||function(f,d){return function(h,v){d(h,v,f)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CharacterJoinerService=p.JoinedCellData=void 0;const g=_(3734),D=_(643),I=_(511),R=_(2585);p.JoinedCellData=class b extends g.AttributeData{constructor(d,h,v){super(),this.content=0,this.combinedData="",this.fg=d.fg,this.bg=d.bg,this.combinedData=h,this._width=v}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(d){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let l=p.CharacterJoinerService=class LE{constructor(d){this._bufferService=d,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new I.CellData}register(d){const h={id:this._nextCharacterJoinerId++,handler:d};return this._characterJoiners.push(h),h.id}deregister(d){for(let h=0;h<this._characterJoiners.length;h++)if(this._characterJoiners[h].id===d)return this._characterJoiners.splice(h,1),!0;return!1}getJoinedCharacters(d){if(0===this._characterJoiners.length)return[];const h=this._bufferService.buffer.lines.get(d);if(!h||0===h.length)return[];const v=[],C=h.translateToString(!0);let M=0,A=0,y=0,T=h.getFg(0),L=h.getBg(0);for(let U=0;U<h.getTrimmedLength();U++)if(h.loadCell(U,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==T||this._workCell.bg!==L){if(U-M>1){const F=this._getJoinedRanges(C,y,A,h,M);for(let j=0;j<F.length;j++)v.push(F[j])}M=U,y=A,T=this._workCell.fg,L=this._workCell.bg}A+=this._workCell.getChars().length||D.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-M>1){const U=this._getJoinedRanges(C,y,A,h,M);for(let F=0;F<U.length;F++)v.push(U[F])}return v}_getJoinedRanges(d,h,v,C,M){const A=d.substring(h,v);let y=[];try{y=this._characterJoiners[0].handler(A)}catch(T){console.error(T)}for(let T=1;T<this._characterJoiners.length;T++)try{const L=this._characterJoiners[T].handler(A);for(let U=0;U<L.length;U++)LE._mergeRanges(y,L[U])}catch(L){console.error(L)}return this._stringRangesToCellRanges(y,C,M),y}_stringRangesToCellRanges(d,h,v){let C=0,M=!1,A=0,y=d[C];if(y){for(let T=v;T<this._bufferService.cols;T++){const L=h.getWidth(T),U=h.getString(T).length||D.WHITESPACE_CELL_CHAR.length;if(0!==L){if(!M&&y[0]<=A&&(y[0]=T,M=!0),y[1]<=A){if(y[1]=T,y=d[++C],!y)break;y[0]<=A?(y[0]=T,M=!0):M=!1}A+=U}}y&&(y[1]=this._bufferService.cols)}}static _mergeRanges(d,h){let v=!1;for(let C=0;C<d.length;C++){const M=d[C];if(v){if(h[1]<=M[0])return d[C-1][1]=h[1],d;if(h[1]<=M[1])return d[C-1][1]=Math.max(h[1],M[1]),d.splice(C,1),d;d.splice(C,1),C--}else{if(h[1]<=M[0])return d.splice(C,0,h),d;if(h[1]<=M[1])return M[0]=Math.min(h[0],M[0]),d;h[0]<M[1]&&(M[0]=Math.min(h[0],M[0]),v=!0)}}return v?d[d.length-1][1]=h[1]:d.push(h),d}};p.CharacterJoinerService=l=w([E(0,R.IBufferService)],l)},5114:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CoreBrowserService=void 0,p.CoreBrowserService=class{constructor(_,w){this._textarea=_,this.window=w,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(se,p,_){var w=this&&this.__decorate||function(R,b,l,f){var d,h=arguments.length,v=h<3?b:null===f?f=Object.getOwnPropertyDescriptor(b,l):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(R,b,l,f);else for(var C=R.length-1;C>=0;C--)(d=R[C])&&(v=(h<3?d(v):h>3?d(b,l,v):d(b,l))||v);return h>3&&v&&Object.defineProperty(b,l,v),v},E=this&&this.__param||function(R,b){return function(l,f){b(l,f,R)}};Object.defineProperty(p,"__esModule",{value:!0}),p.MouseService=void 0;const g=_(4725),D=_(9806);let I=p.MouseService=class{constructor(R,b){this._renderService=R,this._charSizeService=b}getCoords(R,b,l,f,d){return(0,D.getCoords)(window,R,b,l,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,d)}getMouseReportCoords(R,b){const l=(0,D.getCoordsRelativeToElement)(window,R,b);if(this._charSizeService.hasValidSize)return l[0]=Math.min(Math.max(l[0],0),this._renderService.dimensions.css.canvas.width-1),l[1]=Math.min(Math.max(l[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(l[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(l[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(l[0]),y:Math.floor(l[1])}}};p.MouseService=I=w([E(0,g.IRenderService),E(1,g.ICharSizeService)],I)},3230:function(se,p,_){var w=this&&this.__decorate||function(v,C,M,A){var y,T=arguments.length,L=T<3?C:null===A?A=Object.getOwnPropertyDescriptor(C,M):A;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(v,C,M,A);else for(var U=v.length-1;U>=0;U--)(y=v[U])&&(L=(T<3?y(L):T>3?y(C,M,L):y(C,M))||L);return T>3&&L&&Object.defineProperty(C,M,L),L},E=this&&this.__param||function(v,C){return function(M,A){C(M,A,v)}};Object.defineProperty(p,"__esModule",{value:!0}),p.RenderService=void 0;const g=_(3656),D=_(6193),I=_(5596),R=_(4725),b=_(8460),l=_(844),f=_(7226),d=_(2585);let h=p.RenderService=class extends l.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(v,C,M,A,y,T,L,U){if(super(),this._rowCount=v,this._charSizeService=A,this._renderer=this.register(new l.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new b.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new b.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new b.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new D.RenderDebouncer(L.window,(F,j)=>this._renderRows(F,j)),this.register(this._renderDebouncer),this._screenDprMonitor=new I.ScreenDprMonitor(L.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(T.onResize(()=>this._fullRefresh())),this.register(T.buffers.onBufferActivate(()=>{var F;return null===(F=this._renderer.value)||void 0===F?void 0:F.clear()})),this.register(M.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(y.onDecorationRegistered(()=>this._fullRefresh())),this.register(y.onDecorationRemoved(()=>this._fullRefresh())),this.register(M.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()})),this.register(M.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(T.buffer.y,T.buffer.y,!0))),this.register((0,g.addDisposableDomListener)(L.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(U.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in L.window){const F=new L.window.IntersectionObserver(j=>this._handleIntersectionChange(j[j.length-1]),{threshold:0});F.observe(C),this.register({dispose:()=>F.disconnect()})}}_handleIntersectionChange(v){this._isPaused=void 0===v.isIntersecting?0===v.intersectionRatio:!v.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(v,C,M=!1){this._isPaused?this._needsFullRefresh=!0:(M||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(v,C,this._rowCount))}_renderRows(v,C){this._renderer.value&&(v=Math.min(v,this._rowCount-1),C=Math.min(C,this._rowCount-1),this._renderer.value.renderRows(v,C),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:v,end:C}),this._onRender.fire({start:v,end:C}),this._isNextRenderRedrawOnly=!0)}resize(v,C){this._rowCount=C,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(v){this._renderer.value=v,this._renderer.value.onRequestRedraw(C=>this.refreshRows(C.start,C.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(v){return this._renderDebouncer.addRefreshCallback(v)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var v,C;this._renderer.value&&(null===(C=(v=this._renderer.value).clearTextureAtlas)||void 0===C||C.call(v),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(v,C){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(v,C)):this._renderer.value.handleResize(v,C),this._fullRefresh())}handleCharSizeChanged(){var v;null===(v=this._renderer.value)||void 0===v||v.handleCharSizeChanged()}handleBlur(){var v;null===(v=this._renderer.value)||void 0===v||v.handleBlur()}handleFocus(){var v;null===(v=this._renderer.value)||void 0===v||v.handleFocus()}handleSelectionChanged(v,C,M){var A;this._selectionState.start=v,this._selectionState.end=C,this._selectionState.columnSelectMode=M,null===(A=this._renderer.value)||void 0===A||A.handleSelectionChanged(v,C,M)}handleCursorMove(){var v;null===(v=this._renderer.value)||void 0===v||v.handleCursorMove()}clear(){var v;null===(v=this._renderer.value)||void 0===v||v.clear()}};p.RenderService=h=w([E(2,d.IOptionsService),E(3,R.ICharSizeService),E(4,d.IDecorationService),E(5,d.IBufferService),E(6,R.ICoreBrowserService),E(7,R.IThemeService)],h)},9312:function(se,p,_){var w=this&&this.__decorate||function(y,T,L,U){var F,j=arguments.length,Z=j<3?T:null===U?U=Object.getOwnPropertyDescriptor(T,L):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(y,T,L,U);else for(var J=y.length-1;J>=0;J--)(F=y[J])&&(Z=(j<3?F(Z):j>3?F(T,L,Z):F(T,L))||Z);return j>3&&Z&&Object.defineProperty(T,L,Z),Z},E=this&&this.__param||function(y,T){return function(L,U){T(L,U,y)}};Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionService=void 0;const g=_(9806),D=_(9504),I=_(456),R=_(4725),b=_(8460),l=_(844),f=_(6114),d=_(4841),h=_(511),v=_(2585),M=new RegExp("\xa0","g");let A=p.SelectionService=class extends l.Disposable{constructor(y,T,L,U,F,j,Z,J,ne){super(),this._element=y,this._screenElement=T,this._linkifier=L,this._bufferService=U,this._coreService=F,this._mouseService=j,this._optionsService=Z,this._renderService=J,this._coreBrowserService=ne,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new h.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new b.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new b.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new b.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ee=>this._handleMouseMove(ee),this._mouseUpListener=ee=>this._handleMouseUp(ee),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ee=>this._handleTrim(ee)),this.register(this._bufferService.buffers.onBufferActivate(ee=>this._handleBufferActivate(ee))),this.enable(),this._model=new I.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,l.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const y=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!y||!T||y[0]===T[0]&&y[1]===T[1])}get selectionText(){const y=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!y||!T)return"";const L=this._bufferService.buffer,U=[];if(3===this._activeSelectionMode){if(y[0]===T[0])return"";const F=y[0]<T[0]?y[0]:T[0],j=y[0]<T[0]?T[0]:y[0];for(let Z=y[1];Z<=T[1];Z++){const J=L.translateBufferLineToString(Z,!0,F,j);U.push(J)}}else{U.push(L.translateBufferLineToString(y[1],!0,y[0],y[1]===T[1]?T[0]:void 0));for(let j=y[1]+1;j<=T[1]-1;j++){const Z=L.lines.get(j),J=L.translateBufferLineToString(j,!0);Z?.isWrapped?U[U.length-1]+=J:U.push(J)}if(y[1]!==T[1]){const j=L.lines.get(T[1]),Z=L.translateBufferLineToString(T[1],!0,0,T[0]);j&&j.isWrapped?U[U.length-1]+=Z:U.push(Z)}}return U.map(F=>F.replace(M," ")).join(f.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(y){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(y){const T=this._getMouseBufferCoords(y),L=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!!(L&&U&&T)&&this._areCoordsInSelection(T,L,U)}isCellInSelection(y,T){const L=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!(!L||!U)&&this._areCoordsInSelection([y,T],L,U)}_areCoordsInSelection(y,T,L){return y[1]>T[1]&&y[1]<L[1]||T[1]===L[1]&&y[1]===T[1]&&y[0]>=T[0]&&y[0]<L[0]||T[1]<L[1]&&y[1]===L[1]&&y[0]<L[0]||T[1]<L[1]&&y[1]===T[1]&&y[0]>=T[0]}_selectWordAtCursor(y,T){var L,U;const F=null===(U=null===(L=this._linkifier.currentLink)||void 0===L?void 0:L.link)||void 0===U?void 0:U.range;if(F)return this._model.selectionStart=[F.start.x-1,F.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(F,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const j=this._getMouseBufferCoords(y);return!!j&&(this._selectWordAt(j,T),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(y,T){this._model.clearSelection(),y=Math.max(y,0),T=Math.min(T,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,T],this.refresh(),this._onSelectionChange.fire()}_handleTrim(y){this._model.handleTrim(y)&&this.refresh()}_getMouseBufferCoords(y){const T=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(T)return T[0]--,T[1]--,T[1]+=this._bufferService.buffer.ydisp,T}_getMouseEventScrollAmount(y){let T=(0,g.getCoordsRelativeToElement)(this._coreBrowserService.window,y,this._screenElement)[1];const L=this._renderService.dimensions.css.canvas.height;return T>=0&&T<=L?0:(T>L&&(T-=L),T=Math.min(Math.max(T,-50),50),T/=50,T/Math.abs(T)+Math.round(14*T))}shouldForceSelection(y){return f.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey}handleMouseDown(y){if(this._mouseDownTimeStamp=y.timeStamp,(2!==y.button||!this.hasSelection)&&0===y.button){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._handleIncrementalClick(y):1===y.detail?this._handleSingleClick(y):2===y.detail?this._handleDoubleClick(y):3===y.detail&&this._handleTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))}_handleSingleClick(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const T=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);T&&T.length!==this._model.selectionStart[0]&&0===T.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(y){const T=this._getMouseBufferCoords(y);T&&(this._activeSelectionMode=2,this._selectLineAt(T[1]))}shouldColumnSelect(y){return y.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(y){if(y.stopImmediatePropagation(),!this._model.selectionStart)return;const T=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){const U=L.lines.get(this._model.selectionEnd[1]);U&&0===U.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}T&&T[0]===this._model.selectionEnd[0]&&T[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const y=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}}_handleMouseUp(y){const T=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&T<500&&y.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const L=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&void 0!==L[0]&&void 0!==L[1]){const U=(0,D.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(U,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const y=this._model.finalSelectionStart,T=this._model.finalSelectionEnd,L=!(!y||!T||y[0]===T[0]&&y[1]===T[1]);L?y&&T&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&T[0]===this._oldSelectionEnd[0]&&T[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,T,L)):this._oldHasSelection&&this._fireOnSelectionChange(y,T,L)}_fireOnSelectionChange(y,T,L){this._oldSelectionStart=y,this._oldSelectionEnd=T,this._oldHasSelection=L,this._onSelectionChange.fire()}_handleBufferActivate(y){this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim(T=>this._handleTrim(T))}_convertViewportColToCharacterIndex(y,T){let L=T;for(let U=0;T>=U;U++){const F=y.loadCell(U,this._workCell).getChars().length;0===this._workCell.getWidth()?L--:F>1&&T!==U&&(L+=F-1)}return L}setSelection(y,T,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,T],this._model.selectionStartLength=L,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(y,T,L=!0,U=!0){if(y[0]>=this._bufferService.cols)return;const F=this._bufferService.buffer,j=F.lines.get(y[1]);if(!j)return;const Z=F.translateBufferLineToString(y[1],!1);let J=this._convertViewportColToCharacterIndex(j,y[0]),ne=J;const ee=y[0]-J;let x=0,B=0,H=0,V=0;if(" "===Z.charAt(J)){for(;J>0&&" "===Z.charAt(J-1);)J--;for(;ne<Z.length&&" "===Z.charAt(ne+1);)ne++}else{let pe=y[0],de=y[0];0===j.getWidth(pe)&&(x++,pe--),2===j.getWidth(de)&&(B++,de++);const $e=j.getString(de).length;for($e>1&&(V+=$e-1,ne+=$e-1);pe>0&&J>0&&!this._isCharWordSeparator(j.loadCell(pe-1,this._workCell));){j.loadCell(pe-1,this._workCell);const k=this._workCell.getChars().length;0===this._workCell.getWidth()?(x++,pe--):k>1&&(H+=k-1,J-=k-1),J--,pe--}for(;de<j.length&&ne+1<Z.length&&!this._isCharWordSeparator(j.loadCell(de+1,this._workCell));){j.loadCell(de+1,this._workCell);const k=this._workCell.getChars().length;2===this._workCell.getWidth()?(B++,de++):k>1&&(V+=k-1,ne+=k-1),ne++,de++}}ne++;let ie=J+ee-x+H,ae=Math.min(this._bufferService.cols,ne-J+x+B-H-V);if(T||""!==Z.slice(J,ne).trim()){if(L&&0===ie&&32!==j.getCodePoint(0)){const pe=F.lines.get(y[1]-1);if(pe&&j.isWrapped&&32!==pe.getCodePoint(this._bufferService.cols-1)){const de=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(de){const $e=this._bufferService.cols-de.start;ie-=$e,ae+=$e}}}if(U&&ie+ae===this._bufferService.cols&&32!==j.getCodePoint(this._bufferService.cols-1)){const pe=F.lines.get(y[1]+1);if(pe?.isWrapped&&32!==pe.getCodePoint(0)){const de=this._getWordAt([0,y[1]+1],!1,!1,!0);de&&(ae+=de.length)}}return{start:ie,length:ae}}}_selectWordAt(y,T){const L=this._getWordAt(y,T);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[L.start,y[1]],this._model.selectionStartLength=L.length}}_selectToWordAt(y){const T=this._getWordAt(y,!0);if(T){let L=y[1];for(;T.start<0;)T.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;T.start+T.length>this._bufferService.cols;)T.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?T.start:T.start+T.length,L]}}_isCharWordSeparator(y){return 0!==y.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0}_selectLineAt(y){const T=this._bufferService.buffer.getWrappedRangeForLine(y),L={start:{x:0,y:T.first},end:{x:this._bufferService.cols-1,y:T.last}};this._model.selectionStart=[0,T.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(L,this._bufferService.cols)}};p.SelectionService=A=w([E(3,v.IBufferService),E(4,v.ICoreService),E(5,R.IMouseService),E(6,v.IOptionsService),E(7,R.IRenderService),E(8,R.ICoreBrowserService)],A)},4725:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.IThemeService=p.ICharacterJoinerService=p.ISelectionService=p.IRenderService=p.IMouseService=p.ICoreBrowserService=p.ICharSizeService=void 0;const w=_(8343);p.ICharSizeService=(0,w.createDecorator)("CharSizeService"),p.ICoreBrowserService=(0,w.createDecorator)("CoreBrowserService"),p.IMouseService=(0,w.createDecorator)("MouseService"),p.IRenderService=(0,w.createDecorator)("RenderService"),p.ISelectionService=(0,w.createDecorator)("SelectionService"),p.ICharacterJoinerService=(0,w.createDecorator)("CharacterJoinerService"),p.IThemeService=(0,w.createDecorator)("ThemeService")},6731:function(se,p,_){var w=this&&this.__decorate||function(A,y,T,L){var U,F=arguments.length,j=F<3?y:null===L?L=Object.getOwnPropertyDescriptor(y,T):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(A,y,T,L);else for(var Z=A.length-1;Z>=0;Z--)(U=A[Z])&&(j=(F<3?U(j):F>3?U(y,T,j):U(y,T))||j);return F>3&&j&&Object.defineProperty(y,T,j),j},E=this&&this.__param||function(A,y){return function(T,L){y(T,L,A)}};Object.defineProperty(p,"__esModule",{value:!0}),p.ThemeService=p.DEFAULT_ANSI_COLORS=void 0;const g=_(7239),D=_(8055),I=_(8460),R=_(844),b=_(2585),l=D.css.toColor("#ffffff"),f=D.css.toColor("#000000"),d=D.css.toColor("#ffffff"),h=D.css.toColor("#000000"),v={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};p.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const A=[D.css.toColor("#2e3436"),D.css.toColor("#cc0000"),D.css.toColor("#4e9a06"),D.css.toColor("#c4a000"),D.css.toColor("#3465a4"),D.css.toColor("#75507b"),D.css.toColor("#06989a"),D.css.toColor("#d3d7cf"),D.css.toColor("#555753"),D.css.toColor("#ef2929"),D.css.toColor("#8ae234"),D.css.toColor("#fce94f"),D.css.toColor("#729fcf"),D.css.toColor("#ad7fa8"),D.css.toColor("#34e2e2"),D.css.toColor("#eeeeec")],y=[0,95,135,175,215,255];for(let T=0;T<216;T++){const L=y[T/36%6|0],U=y[T/6%6|0],F=y[T%6];A.push({css:D.channels.toCss(L,U,F),rgba:D.channels.toRgba(L,U,F)})}for(let T=0;T<24;T++){const L=8+10*T;A.push({css:D.channels.toCss(L,L,L),rgba:D.channels.toRgba(L,L,L)})}return A})());let C=p.ThemeService=class extends R.Disposable{get colors(){return this._colors}constructor(A){super(),this._optionsService=A,this._contrastCache=new g.ColorContrastCache,this._halfContrastCache=new g.ColorContrastCache,this._onChangeColors=this.register(new I.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:l,background:f,cursor:d,cursorAccent:h,selectionForeground:void 0,selectionBackgroundTransparent:v,selectionBackgroundOpaque:D.color.blend(f,v),selectionInactiveBackgroundTransparent:v,selectionInactiveBackgroundOpaque:D.color.blend(f,v),ansi:p.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(A={}){const y=this._colors;if(y.foreground=M(A.foreground,l),y.background=M(A.background,f),y.cursor=M(A.cursor,d),y.cursorAccent=M(A.cursorAccent,h),y.selectionBackgroundTransparent=M(A.selectionBackground,v),y.selectionBackgroundOpaque=D.color.blend(y.background,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundTransparent=M(A.selectionInactiveBackground,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundOpaque=D.color.blend(y.background,y.selectionInactiveBackgroundTransparent),y.selectionForeground=A.selectionForeground?M(A.selectionForeground,D.NULL_COLOR):void 0,y.selectionForeground===D.NULL_COLOR&&(y.selectionForeground=void 0),D.color.isOpaque(y.selectionBackgroundTransparent)&&(y.selectionBackgroundTransparent=D.color.opacity(y.selectionBackgroundTransparent,.3)),D.color.isOpaque(y.selectionInactiveBackgroundTransparent)&&(y.selectionInactiveBackgroundTransparent=D.color.opacity(y.selectionInactiveBackgroundTransparent,.3)),y.ansi=p.DEFAULT_ANSI_COLORS.slice(),y.ansi[0]=M(A.black,p.DEFAULT_ANSI_COLORS[0]),y.ansi[1]=M(A.red,p.DEFAULT_ANSI_COLORS[1]),y.ansi[2]=M(A.green,p.DEFAULT_ANSI_COLORS[2]),y.ansi[3]=M(A.yellow,p.DEFAULT_ANSI_COLORS[3]),y.ansi[4]=M(A.blue,p.DEFAULT_ANSI_COLORS[4]),y.ansi[5]=M(A.magenta,p.DEFAULT_ANSI_COLORS[5]),y.ansi[6]=M(A.cyan,p.DEFAULT_ANSI_COLORS[6]),y.ansi[7]=M(A.white,p.DEFAULT_ANSI_COLORS[7]),y.ansi[8]=M(A.brightBlack,p.DEFAULT_ANSI_COLORS[8]),y.ansi[9]=M(A.brightRed,p.DEFAULT_ANSI_COLORS[9]),y.ansi[10]=M(A.brightGreen,p.DEFAULT_ANSI_COLORS[10]),y.ansi[11]=M(A.brightYellow,p.DEFAULT_ANSI_COLORS[11]),y.ansi[12]=M(A.brightBlue,p.DEFAULT_ANSI_COLORS[12]),y.ansi[13]=M(A.brightMagenta,p.DEFAULT_ANSI_COLORS[13]),y.ansi[14]=M(A.brightCyan,p.DEFAULT_ANSI_COLORS[14]),y.ansi[15]=M(A.brightWhite,p.DEFAULT_ANSI_COLORS[15]),A.extendedAnsi){const T=Math.min(y.ansi.length-16,A.extendedAnsi.length);for(let L=0;L<T;L++)y.ansi[L+16]=M(A.extendedAnsi[L],p.DEFAULT_ANSI_COLORS[L+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(A){this._restoreColor(A),this._onChangeColors.fire(this.colors)}_restoreColor(A){if(void 0!==A)switch(A){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[A]=this._restoreColors.ansi[A]}else for(let y=0;y<this._restoreColors.ansi.length;++y)this._colors.ansi[y]=this._restoreColors.ansi[y]}modifyColors(A){A(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function M(A,y){if(void 0!==A)try{return D.css.toColor(A)}catch{}return y}p.ThemeService=C=w([E(0,b.IOptionsService)],C)},6349:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CircularList=void 0;const w=_(8460),E=_(844);p.CircularList=class g extends E.Disposable{constructor(I){super(),this._maxLength=I,this.onDeleteEmitter=this.register(new w.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new w.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new w.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(I){if(this._maxLength===I)return;const R=new Array(I);for(let b=0;b<Math.min(I,this.length);b++)R[b]=this._array[this._getCyclicIndex(b)];this._array=R,this._maxLength=I,this._startIndex=0}get length(){return this._length}set length(I){if(I>this._length)for(let R=this._length;R<I;R++)this._array[R]=void 0;this._length=I}get(I){return this._array[this._getCyclicIndex(I)]}set(I,R){this._array[this._getCyclicIndex(I)]=R}push(I){this._array[this._getCyclicIndex(this._length)]=I,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(I,R,...b){if(R){for(let l=I;l<this._length-R;l++)this._array[this._getCyclicIndex(l)]=this._array[this._getCyclicIndex(l+R)];this._length-=R,this.onDeleteEmitter.fire({index:I,amount:R})}for(let l=this._length-1;l>=I;l--)this._array[this._getCyclicIndex(l+b.length)]=this._array[this._getCyclicIndex(l)];for(let l=0;l<b.length;l++)this._array[this._getCyclicIndex(I+l)]=b[l];if(b.length&&this.onInsertEmitter.fire({index:I,amount:b.length}),this._length+b.length>this._maxLength){const l=this._length+b.length-this._maxLength;this._startIndex+=l,this._length=this._maxLength,this.onTrimEmitter.fire(l)}else this._length+=b.length}trimStart(I){I>this._length&&(I=this._length),this._startIndex+=I,this._length-=I,this.onTrimEmitter.fire(I)}shiftElements(I,R,b){if(!(R<=0)){if(I<0||I>=this._length)throw new Error("start argument out of range");if(I+b<0)throw new Error("Cannot shift elements in list beyond index 0");if(b>0){for(let f=R-1;f>=0;f--)this.set(I+f+b,this.get(I+f));const l=I+R+b-this._length;if(l>0)for(this._length+=l;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let l=0;l<R;l++)this.set(I+l+b,this.get(I+l))}}_getCyclicIndex(I){return(this._startIndex+I)%this._maxLength}}},1439:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.clone=void 0,p.clone=function _(w,E=5){if("object"!=typeof w)return w;const g=Array.isArray(w)?[]:{};for(const D in w)g[D]=E<=1?w[D]:w[D]&&_(w[D],E-1);return g}},8055:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.contrastRatio=p.toPaddedHex=p.rgba=p.rgb=p.css=p.color=p.channels=p.NULL_COLOR=void 0;const w=_(6114);let E=0,g=0,D=0,I=0;var R,b,l,f,d,C;function h(C){const M=C.toString(16);return M.length<2?"0"+M:M}function v(C,M){return C<M?(M+.05)/(C+.05):(C+.05)/(M+.05)}p.NULL_COLOR={css:"#00000000",rgba:0},(C=R||(p.channels=R={})).toCss=function(M,A,y,T){return void 0!==T?`#${h(M)}${h(A)}${h(y)}${h(T)}`:`#${h(M)}${h(A)}${h(y)}`},C.toRgba=function(M,A,y,T=255){return(M<<24|A<<16|y<<8|T)>>>0},function(C){function M(A,y){return I=Math.round(255*y),[E,g,D]=d.toChannels(A.rgba),{css:R.toCss(E,g,D,I),rgba:R.toRgba(E,g,D,I)}}C.blend=function(A,y){if(I=(255&y.rgba)/255,1===I)return{css:y.css,rgba:y.rgba};const L=y.rgba>>16&255,U=y.rgba>>8&255,F=A.rgba>>24&255,j=A.rgba>>16&255,Z=A.rgba>>8&255;return E=F+Math.round(((y.rgba>>24&255)-F)*I),g=j+Math.round((L-j)*I),D=Z+Math.round((U-Z)*I),{css:R.toCss(E,g,D),rgba:R.toRgba(E,g,D)}},C.isOpaque=function(A){return!(255&~A.rgba)},C.ensureContrastRatio=function(A,y,T){const L=d.ensureContrastRatio(A.rgba,y.rgba,T);if(L)return d.toColor(L>>24&255,L>>16&255,L>>8&255)},C.opaque=function(A){const y=(255|A.rgba)>>>0;return[E,g,D]=d.toChannels(y),{css:R.toCss(E,g,D),rgba:y}},C.opacity=M,C.multiplyOpacity=function(A,y){return I=255&A.rgba,M(A,I*y/255)},C.toColorRGB=function(A){return[A.rgba>>24&255,A.rgba>>16&255,A.rgba>>8&255]}}(b||(p.color=b={})),function(C){let M,A;if(!w.isNode){const y=document.createElement("canvas");y.width=1,y.height=1;const T=y.getContext("2d",{willReadFrequently:!0});T&&(M=T,M.globalCompositeOperation="copy",A=M.createLinearGradient(0,0,1,1))}C.toColor=function(y){if(y.match(/#[\da-f]{3,8}/i))switch(y.length){case 4:return E=parseInt(y.slice(1,2).repeat(2),16),g=parseInt(y.slice(2,3).repeat(2),16),D=parseInt(y.slice(3,4).repeat(2),16),d.toColor(E,g,D);case 5:return E=parseInt(y.slice(1,2).repeat(2),16),g=parseInt(y.slice(2,3).repeat(2),16),D=parseInt(y.slice(3,4).repeat(2),16),I=parseInt(y.slice(4,5).repeat(2),16),d.toColor(E,g,D,I);case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}const T=y.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return E=parseInt(T[1]),g=parseInt(T[2]),D=parseInt(T[3]),I=Math.round(255*(void 0===T[5]?1:parseFloat(T[5]))),d.toColor(E,g,D,I);if(!M||!A)throw new Error("css.toColor: Unsupported css format");if(M.fillStyle=A,M.fillStyle=y,"string"!=typeof M.fillStyle)throw new Error("css.toColor: Unsupported css format");if(M.fillRect(0,0,1,1),[E,g,D,I]=M.getImageData(0,0,1,1).data,255!==I)throw new Error("css.toColor: Unsupported css format");return{rgba:R.toRgba(E,g,D,I),css:y}}}(l||(p.css=l={})),function(C){function M(A,y,T){const L=A/255,U=y/255,F=T/255;return.2126*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.7152*(U<=.03928?U/12.92:Math.pow((U+.055)/1.055,2.4))+.0722*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))}C.relativeLuminance=function(A){return M(A>>16&255,A>>8&255,255&A)},C.relativeLuminance2=M}(f||(p.rgb=f={})),function(C){function M(y,T,L){const U=y>>24&255,F=y>>16&255,j=y>>8&255;let Z=T>>24&255,J=T>>16&255,ne=T>>8&255,ee=v(f.relativeLuminance2(Z,J,ne),f.relativeLuminance2(U,F,j));for(;ee<L&&(Z>0||J>0||ne>0);)Z-=Math.max(0,Math.ceil(.1*Z)),J-=Math.max(0,Math.ceil(.1*J)),ne-=Math.max(0,Math.ceil(.1*ne)),ee=v(f.relativeLuminance2(Z,J,ne),f.relativeLuminance2(U,F,j));return(Z<<24|J<<16|ne<<8|255)>>>0}function A(y,T,L){const U=y>>24&255,F=y>>16&255,j=y>>8&255;let Z=T>>24&255,J=T>>16&255,ne=T>>8&255,ee=v(f.relativeLuminance2(Z,J,ne),f.relativeLuminance2(U,F,j));for(;ee<L&&(Z<255||J<255||ne<255);)Z=Math.min(255,Z+Math.ceil(.1*(255-Z))),J=Math.min(255,J+Math.ceil(.1*(255-J))),ne=Math.min(255,ne+Math.ceil(.1*(255-ne))),ee=v(f.relativeLuminance2(Z,J,ne),f.relativeLuminance2(U,F,j));return(Z<<24|J<<16|ne<<8|255)>>>0}C.ensureContrastRatio=function(y,T,L){const U=f.relativeLuminance(y>>8),F=f.relativeLuminance(T>>8);if(v(U,F)<L){if(F<U){const J=M(y,T,L),ne=v(U,f.relativeLuminance(J>>8));if(ne<L){const ee=A(y,T,L);return ne>v(U,f.relativeLuminance(ee>>8))?J:ee}return J}const j=A(y,T,L),Z=v(U,f.relativeLuminance(j>>8));if(Z<L){const J=M(y,T,L);return Z>v(U,f.relativeLuminance(J>>8))?j:J}return j}},C.reduceLuminance=M,C.increaseLuminance=A,C.toChannels=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},C.toColor=function(y,T,L,U){return{css:R.toCss(y,T,L,U),rgba:R.toRgba(y,T,L,U)}}}(d||(p.rgba=d={})),p.toPaddedHex=h,p.contrastRatio=v},8969:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CoreTerminal=void 0;const w=_(844),E=_(2585),g=_(4348),D=_(7866),I=_(744),R=_(7302),b=_(6975),l=_(8460),f=_(1753),d=_(1480),h=_(7994),v=_(9282),C=_(5435),M=_(5981),A=_(2660);let y=!1;p.CoreTerminal=class T extends w.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new l.EventEmitter),this._onScroll.event(U=>{var F;null===(F=this._onScrollApi)||void 0===F||F.fire(U.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(U){for(const F in U)this.optionsService.options[F]=U[F]}constructor(U){super(),this._windowsWrappingHeuristics=this.register(new w.MutableDisposable),this._onBinary=this.register(new l.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new l.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new l.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new l.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new l.EventEmitter),this._instantiationService=new g.InstantiationService,this.optionsService=this.register(new R.OptionsService(U)),this._instantiationService.setService(E.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(I.BufferService)),this._instantiationService.setService(E.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(D.LogService)),this._instantiationService.setService(E.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(b.CoreService)),this._instantiationService.setService(E.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(E.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(E.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(h.CharsetService),this._instantiationService.setService(E.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(A.OscLinkService),this._instantiationService.setService(E.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,l.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,l.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,l.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,l.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(F=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(F=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new M.WriteBuffer((F,j)=>this._inputHandler.parse(F,j))),this.register((0,l.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(U,F){this._writeBuffer.write(U,F)}writeSync(U,F){this._logService.logLevel<=E.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(U,F)}resize(U,F){isNaN(U)||isNaN(F)||(U=Math.max(U,I.MINIMUM_COLS),F=Math.max(F,I.MINIMUM_ROWS),this._bufferService.resize(U,F))}scroll(U,F=!1){this._bufferService.scroll(U,F)}scrollLines(U,F,j){this._bufferService.scrollLines(U,F,j)}scrollPages(U){this.scrollLines(U*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(U){const F=U-this._bufferService.buffer.ydisp;0!==F&&this.scrollLines(F)}registerEscHandler(U,F){return this._inputHandler.registerEscHandler(U,F)}registerDcsHandler(U,F){return this._inputHandler.registerDcsHandler(U,F)}registerCsiHandler(U,F){return this._inputHandler.registerCsiHandler(U,F)}registerOscHandler(U,F){return this._inputHandler.registerOscHandler(U,F)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let U=!1;const F=this.optionsService.rawOptions.windowsPty;F&&void 0!==F.buildNumber&&void 0!==F.buildNumber?U="conpty"===F.backend&&F.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(U=!0),U?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const U=[];U.push(this.onLineFeed(v.updateWindowsModeWrappedState.bind(null,this._bufferService))),U.push(this.registerCsiHandler({final:"H"},()=>((0,v.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,w.toDisposable)(()=>{for(const F of U)F.dispose()})}}}},8460:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.forwardEvent=p.EventEmitter=void 0,p.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=_=>(this._listeners.push(_),{dispose:()=>{if(!this._disposed)for(let w=0;w<this._listeners.length;w++)if(this._listeners[w]===_)return void this._listeners.splice(w,1)}})),this._event}fire(_,w){const E=[];for(let g=0;g<this._listeners.length;g++)E.push(this._listeners[g]);for(let g=0;g<E.length;g++)E[g].call(void 0,_,w)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},p.forwardEvent=function(_,w){return _(E=>w.fire(E))}},5435:function(se,p,_){var w=this&&this.__decorate||function(ee,x,B,H){var V,ie=arguments.length,ae=ie<3?x:null===H?H=Object.getOwnPropertyDescriptor(x,B):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(ee,x,B,H);else for(var pe=ee.length-1;pe>=0;pe--)(V=ee[pe])&&(ae=(ie<3?V(ae):ie>3?V(x,B,ae):V(x,B))||ae);return ie>3&&ae&&Object.defineProperty(x,B,ae),ae},E=this&&this.__param||function(ee,x){return function(B,H){x(B,H,ee)}};Object.defineProperty(p,"__esModule",{value:!0}),p.InputHandler=p.WindowsOptionsReportType=void 0;const g=_(2584),D=_(7116),I=_(2015),R=_(844),b=_(482),l=_(8437),f=_(8460),d=_(643),h=_(511),v=_(3734),C=_(2585),M=_(6242),A=_(6351),y=_(5941),T={"(":0,")":1,"*":2,"+":3,"-":1,".":2},L=131072;function U(ee,x){if(ee>24)return x.setWinLines||!1;switch(ee){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var F,ee;(ee=F||(p.WindowsOptionsReportType=F={}))[ee.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",ee[ee.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let j=0;p.InputHandler=class Z extends R.Disposable{getAttrData(){return this._curAttrData}constructor(x,B,H,V,ie,ae,pe,de,$e=new I.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=B,this._coreService=H,this._logService=V,this._optionsService=ie,this._oscLinkService=ae,this._coreMouseService=pe,this._unicodeService=de,this._parser=$e,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new b.StringToUtf32,this._utf8Decoder=new b.Utf8ToUtf32,this._workCell=new h.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new J(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._parser.setCsiHandlerFallback((k,z)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(k),params:z.toArray()})}),this._parser.setEscHandlerFallback(k=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(k)})}),this._parser.setExecuteHandlerFallback(k=>{this._logService.debug("Unknown EXECUTE code: ",{code:k})}),this._parser.setOscHandlerFallback((k,z,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:k,action:z,data:Q})}),this._parser.setDcsHandlerFallback((k,z,Q)=>{"HOOK"===z&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(k),action:z,payload:Q})}),this._parser.setPrintHandler((k,z,Q)=>this.print(k,z,Q)),this._parser.registerCsiHandler({final:"@"},k=>this.insertChars(k)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},k=>this.scrollLeft(k)),this._parser.registerCsiHandler({final:"A"},k=>this.cursorUp(k)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},k=>this.scrollRight(k)),this._parser.registerCsiHandler({final:"B"},k=>this.cursorDown(k)),this._parser.registerCsiHandler({final:"C"},k=>this.cursorForward(k)),this._parser.registerCsiHandler({final:"D"},k=>this.cursorBackward(k)),this._parser.registerCsiHandler({final:"E"},k=>this.cursorNextLine(k)),this._parser.registerCsiHandler({final:"F"},k=>this.cursorPrecedingLine(k)),this._parser.registerCsiHandler({final:"G"},k=>this.cursorCharAbsolute(k)),this._parser.registerCsiHandler({final:"H"},k=>this.cursorPosition(k)),this._parser.registerCsiHandler({final:"I"},k=>this.cursorForwardTab(k)),this._parser.registerCsiHandler({final:"J"},k=>this.eraseInDisplay(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},k=>this.eraseInDisplay(k,!0)),this._parser.registerCsiHandler({final:"K"},k=>this.eraseInLine(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},k=>this.eraseInLine(k,!0)),this._parser.registerCsiHandler({final:"L"},k=>this.insertLines(k)),this._parser.registerCsiHandler({final:"M"},k=>this.deleteLines(k)),this._parser.registerCsiHandler({final:"P"},k=>this.deleteChars(k)),this._parser.registerCsiHandler({final:"S"},k=>this.scrollUp(k)),this._parser.registerCsiHandler({final:"T"},k=>this.scrollDown(k)),this._parser.registerCsiHandler({final:"X"},k=>this.eraseChars(k)),this._parser.registerCsiHandler({final:"Z"},k=>this.cursorBackwardTab(k)),this._parser.registerCsiHandler({final:"`"},k=>this.charPosAbsolute(k)),this._parser.registerCsiHandler({final:"a"},k=>this.hPositionRelative(k)),this._parser.registerCsiHandler({final:"b"},k=>this.repeatPrecedingCharacter(k)),this._parser.registerCsiHandler({final:"c"},k=>this.sendDeviceAttributesPrimary(k)),this._parser.registerCsiHandler({prefix:">",final:"c"},k=>this.sendDeviceAttributesSecondary(k)),this._parser.registerCsiHandler({final:"d"},k=>this.linePosAbsolute(k)),this._parser.registerCsiHandler({final:"e"},k=>this.vPositionRelative(k)),this._parser.registerCsiHandler({final:"f"},k=>this.hVPosition(k)),this._parser.registerCsiHandler({final:"g"},k=>this.tabClear(k)),this._parser.registerCsiHandler({final:"h"},k=>this.setMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"h"},k=>this.setModePrivate(k)),this._parser.registerCsiHandler({final:"l"},k=>this.resetMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"l"},k=>this.resetModePrivate(k)),this._parser.registerCsiHandler({final:"m"},k=>this.charAttributes(k)),this._parser.registerCsiHandler({final:"n"},k=>this.deviceStatus(k)),this._parser.registerCsiHandler({prefix:"?",final:"n"},k=>this.deviceStatusPrivate(k)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},k=>this.softReset(k)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},k=>this.setCursorStyle(k)),this._parser.registerCsiHandler({final:"r"},k=>this.setScrollRegion(k)),this._parser.registerCsiHandler({final:"s"},k=>this.saveCursor(k)),this._parser.registerCsiHandler({final:"t"},k=>this.windowOptions(k)),this._parser.registerCsiHandler({final:"u"},k=>this.restoreCursor(k)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},k=>this.insertColumns(k)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},k=>this.deleteColumns(k)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},k=>this.selectProtected(k)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},k=>this.requestMode(k,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},k=>this.requestMode(k,!1)),this._parser.setExecuteHandler(g.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(g.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(g.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(g.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(g.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(g.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(g.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(g.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(g.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(g.C1.IND,()=>this.index()),this._parser.setExecuteHandler(g.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(g.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new M.OscHandler(k=>(this.setTitle(k),this.setIconName(k),!0))),this._parser.registerOscHandler(1,new M.OscHandler(k=>this.setIconName(k))),this._parser.registerOscHandler(2,new M.OscHandler(k=>this.setTitle(k))),this._parser.registerOscHandler(4,new M.OscHandler(k=>this.setOrReportIndexedColor(k))),this._parser.registerOscHandler(8,new M.OscHandler(k=>this.setHyperlink(k))),this._parser.registerOscHandler(10,new M.OscHandler(k=>this.setOrReportFgColor(k))),this._parser.registerOscHandler(11,new M.OscHandler(k=>this.setOrReportBgColor(k))),this._parser.registerOscHandler(12,new M.OscHandler(k=>this.setOrReportCursorColor(k))),this._parser.registerOscHandler(104,new M.OscHandler(k=>this.restoreIndexedColor(k))),this._parser.registerOscHandler(110,new M.OscHandler(k=>this.restoreFgColor(k))),this._parser.registerOscHandler(111,new M.OscHandler(k=>this.restoreBgColor(k))),this._parser.registerOscHandler(112,new M.OscHandler(k=>this.restoreCursorColor(k))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const k in D.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:k},()=>this.selectCharset("("+k)),this._parser.registerEscHandler({intermediates:")",final:k},()=>this.selectCharset(")"+k)),this._parser.registerEscHandler({intermediates:"*",final:k},()=>this.selectCharset("*"+k)),this._parser.registerEscHandler({intermediates:"+",final:k},()=>this.selectCharset("+"+k)),this._parser.registerEscHandler({intermediates:"-",final:k},()=>this.selectCharset("-"+k)),this._parser.registerEscHandler({intermediates:".",final:k},()=>this.selectCharset("."+k)),this._parser.registerEscHandler({intermediates:"/",final:k},()=>this.selectCharset("/"+k));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(k=>(this._logService.error("Parsing error: ",k),k)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new A.DcsHandler((k,z)=>this.requestStatusString(k,z)))}_preserveStack(x,B,H,V){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=B,this._parseStack.decodedLength=H,this._parseStack.position=V}_logSlowResolvingAsync(x){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([x,new Promise((B,H)=>setTimeout(()=>H("#SLOW_TIMEOUT"),5e3))]).catch(B=>{if("#SLOW_TIMEOUT"!==B)throw B;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(x,B){let H,V=this._activeBuffer.x,ie=this._activeBuffer.y,ae=0;const pe=this._parseStack.paused;if(pe){if(H=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,B))return this._logSlowResolvingAsync(H),H;V=this._parseStack.cursorStartX,ie=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>L&&(ae=this._parseStack.position+L)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof x?` "${x}"`:` "${Array.prototype.map.call(x,de=>String.fromCharCode(de)).join("")}"`),"string"==typeof x?x.split("").map(de=>de.charCodeAt(0)):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<L&&(this._parseBuffer=new Uint32Array(Math.min(x.length,L))),pe||this._dirtyRowTracker.clearRange(),x.length>L)for(let de=ae;de<x.length;de+=L){const $e=de+L<x.length?de+L:x.length,k="string"==typeof x?this._stringDecoder.decode(x.substring(de,$e),this._parseBuffer):this._utf8Decoder.decode(x.subarray(de,$e),this._parseBuffer);if(H=this._parser.parse(this._parseBuffer,k))return this._preserveStack(V,ie,k,de),this._logSlowResolvingAsync(H),H}else if(!pe){const de="string"==typeof x?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(H=this._parser.parse(this._parseBuffer,de))return this._preserveStack(V,ie,de,0),this._logSlowResolvingAsync(H),H}this._activeBuffer.x===V&&this._activeBuffer.y===ie||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(x,B,H){let V,ie;const ae=this._charsetService.charset,pe=this._optionsService.rawOptions.screenReaderMode,de=this._bufferService.cols,$e=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,z=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&H-B>0&&2===Q.getWidth(this._activeBuffer.x-1)&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,z.fg,z.bg,z.extended);for(let Y=B;Y<H;++Y){if(V=x[Y],ie=this._unicodeService.wcwidth(V),V<127&&ae){const Ee=ae[String.fromCharCode(V)];Ee&&(V=Ee.charCodeAt(0))}if(pe&&this._onA11yChar.fire((0,b.stringFromCodePoint)(V)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),ie||!this._activeBuffer.x){if(this._activeBuffer.x+ie-1>=de)if($e){for(;this._activeBuffer.x<de;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,z.fg,z.bg,z.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=de-1,2===ie)continue;if(k&&(Q.insertCells(this._activeBuffer.x,ie,this._activeBuffer.getNullCell(z),z),2===Q.getWidth(de-1)&&Q.setCellFromCodePoint(de-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,z.fg,z.bg,z.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,V,ie,z.fg,z.bg,z.extended),ie>0)for(;--ie;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,z.fg,z.bg,z.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,V):Q.addCodepointToCell(this._activeBuffer.x-2,V)}H-B>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<de&&H-B>0&&0===Q.getWidth(this._activeBuffer.x)&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,z.fg,z.bg,z.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(x,B){return this._parser.registerCsiHandler(x,"t"!==x.final||x.prefix||x.intermediates?B:H=>!U(H.params[0],this._optionsService.rawOptions.windowOptions)||B(H))}registerDcsHandler(x,B){return this._parser.registerDcsHandler(x,new A.DcsHandler(B))}registerEscHandler(x,B){return this._parser.registerEscHandler(x,B)}registerOscHandler(x,B){return this._parser.registerOscHandler(x,new M.OscHandler(B))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var x;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&null!==(x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))&&void 0!==x&&x.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);B.hasWidth(this._activeBuffer.x)&&!B.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(x,B){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+B):(this._activeBuffer.x=x,this._activeBuffer.y=B),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(x,B){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+B)}cursorUp(x){const B=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,B>=0?-Math.min(B,x.params[0]||1):-(x.params[0]||1)),!0}cursorDown(x){const B=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,B>=0?Math.min(B,x.params[0]||1):x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){const B=x.params[0];return 0===B?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===B&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=x.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=x.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){const B=x.params[0];return 1===B&&(this._curAttrData.bg|=536870912),2!==B&&0!==B||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,B,H,V=!1,ie=!1){const ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);ae.replaceCells(B,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),ie),V&&(ae.isWrapped=!1)}_resetBufferLine(x,B=!1){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);H&&(H.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),B),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),H.isWrapped=!1)}eraseInDisplay(x,B=!1){let H;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(H=this._activeBuffer.y,this._dirtyRowTracker.markDirty(H),this._eraseInBufferLine(H++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,B);H<this._bufferService.rows;H++)this._resetBufferLine(H,B);this._dirtyRowTracker.markDirty(H);break;case 1:for(H=this._activeBuffer.y,this._dirtyRowTracker.markDirty(H),this._eraseInBufferLine(H,0,this._activeBuffer.x+1,!0,B),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(H+1).isWrapped=!1);H--;)this._resetBufferLine(H,B);this._dirtyRowTracker.markDirty(0);break;case 2:for(H=this._bufferService.rows,this._dirtyRowTracker.markDirty(H-1);H--;)this._resetBufferLine(H,B);this._dirtyRowTracker.markDirty(0);break;case 3:const V=this._activeBuffer.lines.length-this._bufferService.rows;V>0&&(this._activeBuffer.lines.trimStart(V),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-V,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-V,0),this._onScroll.fire(0))}return!0}eraseInLine(x,B=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,B);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,B);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,B)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let B=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=this._activeBuffer.ybase+this._activeBuffer.y,ie=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;B--;)this._activeBuffer.lines.splice(ie-1,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let B=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=this._activeBuffer.ybase+this._activeBuffer.y;let V;for(V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,V=this._bufferService.rows-1+this._activeBuffer.ybase-V;B--;)this._activeBuffer.lines.splice(H,1),this._activeBuffer.lines.splice(V,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let B=x.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let B=x.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(l.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=x.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);V.deleteCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=x.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);V.insertCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=x.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);V.insertCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=x.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);V.deleteCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){if(!this._parser.precedingCodepoint)return!0;const B=x.params[0]||1,H=new Uint32Array(B);for(let V=0;V<B;++V)H[V]=this._parser.precedingCodepoint;return this.print(H,0,H.length),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(g.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(g.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(g.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(g.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(g.C0.ESC+"[>83;40003;0c")),!0}_is(x){return 0===(this._optionsService.rawOptions.termName+"").indexOf(x)}setMode(x){for(let B=0;B<x.length;B++)switch(x.params[B]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let B=0;B<x.length;B++)switch(x.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,D.DEFAULT_CHARSET),this._charsetService.setgCharset(1,D.DEFAULT_CHARSET),this._charsetService.setgCharset(2,D.DEFAULT_CHARSET),this._charsetService.setgCharset(3,D.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let B=0;B<x.length;B++)switch(x.params[B]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let B=0;B<x.length;B++)switch(x.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===x.params[B]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,B){const H=this._coreService.decPrivateModes,{activeProtocol:V,activeEncoding:ie}=this._coreMouseService,ae=this._coreService,{buffers:pe,cols:de}=this._bufferService,{active:$e,alt:k}=pe,z=this._optionsService.rawOptions,Q=Le=>Le?1:2,Y=x.params[0];return Ee=Y,ce=B?2===Y?4:4===Y?Q(ae.modes.insertMode):12===Y?3:20===Y?Q(z.convertEol):0:1===Y?Q(H.applicationCursorKeys):3===Y?z.windowOptions.setWinLines?80===de?2:132===de?1:0:0:6===Y?Q(H.origin):7===Y?Q(H.wraparound):8===Y?3:9===Y?Q("X10"===V):12===Y?Q(z.cursorBlink):25===Y?Q(!ae.isCursorHidden):45===Y?Q(H.reverseWraparound):66===Y?Q(H.applicationKeypad):67===Y?4:1e3===Y?Q("VT200"===V):1002===Y?Q("DRAG"===V):1003===Y?Q("ANY"===V):1004===Y?Q(H.sendFocus):1005===Y?4:1006===Y?Q("SGR"===ie):1015===Y?4:1016===Y?Q("SGR_PIXELS"===ie):1048===Y?1:47===Y||1047===Y||1049===Y?Q($e===k):2004===Y?Q(H.bracketedPasteMode):0,ae.triggerDataEvent(`${g.C0.ESC}[${B?"":"?"}${Ee};${ce}$y`),!0;var Ee,ce}_updateAttrColor(x,B,H,V,ie){return 2===B?(x|=50331648,x&=-16777216,x|=v.AttributeData.fromColorRGB([H,V,ie])):5===B&&(x&=-50331904,x|=33554432|255&H),x}_extractColor(x,B,H){const V=[0,0,-1,0,0,0];let ie=0,ae=0;do{if(V[ae+ie]=x.params[B+ae],x.hasSubParams(B+ae)){const pe=x.getSubParams(B+ae);let de=0;do{5===V[1]&&(ie=1),V[ae+de+1+ie]=pe[de]}while(++de<pe.length&&de+ae+1+ie<V.length);break}if(5===V[1]&&ae+ie>=2||2===V[1]&&ae+ie>=5)break;V[1]&&(ie=1)}while(++ae+B<x.length&&ae+ie<V.length);for(let pe=2;pe<V.length;++pe)-1===V[pe]&&(V[pe]=0);switch(V[0]){case 38:H.fg=this._updateAttrColor(H.fg,V[1],V[3],V[4],V[5]);break;case 48:H.bg=this._updateAttrColor(H.bg,V[1],V[3],V[4],V[5]);break;case 58:H.extended=H.extended.clone(),H.extended.underlineColor=this._updateAttrColor(H.extended.underlineColor,V[1],V[3],V[4],V[5])}return ae}_processUnderline(x,B){B.extended=B.extended.clone(),(!~x||x>5)&&(x=1),B.extended.underlineStyle=x,B.fg|=268435456,0===x&&(B.fg&=-268435457),B.updateExtended()}_processSGR0(x){x.fg=l.DEFAULT_ATTR_DATA.fg,x.bg=l.DEFAULT_ATTR_DATA.bg,x.extended=x.extended.clone(),x.extended.underlineStyle=0,x.extended.underlineColor&=-67108864,x.updateExtended()}charAttributes(x){if(1===x.length&&0===x.params[0])return this._processSGR0(this._curAttrData),!0;const B=x.length;let H;const V=this._curAttrData;for(let ie=0;ie<B;ie++)H=x.params[ie],H>=30&&H<=37?(V.fg&=-50331904,V.fg|=16777216|H-30):H>=40&&H<=47?(V.bg&=-50331904,V.bg|=16777216|H-40):H>=90&&H<=97?(V.fg&=-50331904,V.fg|=16777224|H-90):H>=100&&H<=107?(V.bg&=-50331904,V.bg|=16777224|H-100):0===H?this._processSGR0(V):1===H?V.fg|=134217728:3===H?V.bg|=67108864:4===H?(V.fg|=268435456,this._processUnderline(x.hasSubParams(ie)?x.getSubParams(ie)[0]:1,V)):5===H?V.fg|=536870912:7===H?V.fg|=67108864:8===H?V.fg|=1073741824:9===H?V.fg|=2147483648:2===H?V.bg|=134217728:21===H?this._processUnderline(2,V):22===H?(V.fg&=-134217729,V.bg&=-134217729):23===H?V.bg&=-67108865:24===H?(V.fg&=-268435457,this._processUnderline(0,V)):25===H?V.fg&=-536870913:27===H?V.fg&=-67108865:28===H?V.fg&=-1073741825:29===H?V.fg&=2147483647:39===H?(V.fg&=-67108864,V.fg|=16777215&l.DEFAULT_ATTR_DATA.fg):49===H?(V.bg&=-67108864,V.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):38===H||48===H||58===H?ie+=this._extractColor(x,ie,V):53===H?V.bg|=1073741824:55===H?V.bg&=-1073741825:59===H?(V.extended=V.extended.clone(),V.extended.underlineColor=-1,V.updateExtended()):100===H?(V.fg&=-67108864,V.fg|=16777215&l.DEFAULT_ATTR_DATA.fg,V.bg&=-67108864,V.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",H);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${g.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${g.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(x){return 6===x.params[0]&&this._coreService.triggerDataEvent(`${g.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){const B=x.params[0]||1;switch(B){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=B%2==1,!0}setScrollRegion(x){const B=x.params[0]||1;let H;return(x.length<2||(H=x.params[1])>this._bufferService.rows||0===H)&&(H=this._bufferService.rows),H>B&&(this._activeBuffer.scrollTop=B-1,this._activeBuffer.scrollBottom=H-1,this._setCursor(0,0)),!0}windowOptions(x){if(!U(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;const B=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:2!==B&&this._onRequestWindowsOptionsReport.fire(F.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(F.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${g.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==B&&2!==B||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==B&&1!==B||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==B&&2!==B||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==B&&1!==B||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){const B=[],H=x.split(";");for(;H.length>1;){const V=H.shift(),ie=H.shift();if(/^\d+$/.exec(V)){const ae=parseInt(V);if(ne(ae))if("?"===ie)B.push({type:0,index:ae});else{const pe=(0,y.parseColor)(ie);pe&&B.push({type:1,index:ae,color:pe})}}}return B.length&&this._onColor.fire(B),!0}setHyperlink(x){const B=x.split(";");return!(B.length<2)&&(B[1]?this._createHyperlink(B[0],B[1]):!B[0]&&this._finishHyperlink())}_createHyperlink(x,B){this._getCurrentLinkId()&&this._finishHyperlink();const H=x.split(":");let V;const ie=H.findIndex(ae=>ae.startsWith("id="));return-1!==ie&&(V=H[ie].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:V,uri:B}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(x,B){const H=x.split(";");for(let V=0;V<H.length&&!(B>=this._specialColors.length);++V,++B)if("?"===H[V])this._onColor.fire([{type:0,index:this._specialColors[B]}]);else{const ie=(0,y.parseColor)(H[V]);ie&&this._onColor.fire([{type:1,index:this._specialColors[B],color:ie}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;const B=[],H=x.split(";");for(let V=0;V<H.length;++V)if(/^\d+$/.exec(H[V])){const ie=parseInt(H[V]);ne(ie)&&B.push({type:2,index:ie})}return B.length&&this._onColor.fire(B),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,D.DEFAULT_CHARSET),!0}selectCharset(x){return 2!==x.length?(this.selectDefaultCharset(),!0):("/"===x[0]||this._charsetService.setgCharset(T[x[0]],D.CHARSETS[x[1]]||D.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){const x=new h.CellData;x.content=4194373,x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let B=0;B<this._bufferService.rows;++B){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+B);V&&(V.fill(x),V.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,B){const H=this._bufferService.buffer,V=this._optionsService.rawOptions;return(ie=>(this._coreService.triggerDataEvent(`${g.C0.ESC}${ie}${g.C0.ESC}\\`),!0))('"q'===x?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===x?'P1$r61;1"p':"r"===x?`P1$r${H.scrollTop+1};${H.scrollBottom+1}r`:"m"===x?"P1$r0m":" q"===x?`P1$r${{block:2,underline:4,bar:6}[V.cursorStyle]-(V.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(x,B){this._dirtyRowTracker.markRangeDirty(x,B)}};let J=class{constructor(ee){this._bufferService=ee,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(ee){ee<this.start?this.start=ee:ee>this.end&&(this.end=ee)}markRangeDirty(ee,x){ee>x&&(j=ee,ee=x,x=j),ee<this.start&&(this.start=ee),x>this.end&&(this.end=x)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ne(ee){return 0<=ee&&ee<256}J=w([E(0,C.IBufferService)],J)},844:(se,p)=>{function _(w){for(const E of w)E.dispose();w.length=0}Object.defineProperty(p,"__esModule",{value:!0}),p.getDisposeArrayDisposable=p.disposeArray=p.toDisposable=p.MutableDisposable=p.Disposable=void 0,p.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const w of this._disposables)w.dispose();this._disposables.length=0}register(w){return this._disposables.push(w),w}unregister(w){const E=this._disposables.indexOf(w);-1!==E&&this._disposables.splice(E,1)}},p.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(w){var E;this._isDisposed||w===this._value||(null===(E=this._value)||void 0===E||E.dispose(),this._value=w)}clear(){this.value=void 0}dispose(){var w;this._isDisposed=!0,null===(w=this._value)||void 0===w||w.dispose(),this._value=void 0}},p.toDisposable=function(w){return{dispose:w}},p.disposeArray=_,p.getDisposeArrayDisposable=function(w){return{dispose:()=>_(w)}}},1505:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.FourKeyMap=p.TwoKeyMap=void 0;class _{constructor(){this._data={}}set(E,g,D){this._data[E]||(this._data[E]={}),this._data[E][g]=D}get(E,g){return this._data[E]?this._data[E][g]:void 0}clear(){this._data={}}}p.TwoKeyMap=_,p.FourKeyMap=class{constructor(){this._data=new _}set(w,E,g,D,I){this._data.get(w,E)||this._data.set(w,E,new _),this._data.get(w,E).set(g,D,I)}get(w,E,g,D){var I;return null===(I=this._data.get(w,E))||void 0===I?void 0:I.get(g,D)}clear(){this._data.clear()}}},6114:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.isChromeOS=p.isLinux=p.isWindows=p.isIphone=p.isIpad=p.isMac=p.getSafariVersion=p.isSafari=p.isLegacyEdge=p.isFirefox=p.isNode=void 0,p.isNode=typeof navigator>"u";const _=p.isNode?"node":navigator.userAgent,w=p.isNode?"node":navigator.platform;p.isFirefox=_.includes("Firefox"),p.isLegacyEdge=_.includes("Edge"),p.isSafari=/^((?!chrome|android).)*safari/i.test(_),p.getSafariVersion=function(){if(!p.isSafari)return 0;const E=_.match(/Version\/(\d+)/);return null===E||E.length<2?0:parseInt(E[1])},p.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(w),p.isIpad="iPad"===w,p.isIphone="iPhone"===w,p.isWindows=["Windows","Win16","Win32","WinCE"].includes(w),p.isLinux=w.indexOf("Linux")>=0,p.isChromeOS=/\bCrOS\b/.test(_)},6106:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.SortedList=void 0;let _=0;p.SortedList=class{constructor(w){this._getKey=w,this._array=[]}clear(){this._array.length=0}insert(w){0!==this._array.length?(_=this._search(this._getKey(w)),this._array.splice(_,0,w)):this._array.push(w)}delete(w){if(0===this._array.length)return!1;const E=this._getKey(w);if(void 0===E||(_=this._search(E),-1===_)||this._getKey(this._array[_])!==E)return!1;do{if(this._array[_]===w)return this._array.splice(_,1),!0}while(++_<this._array.length&&this._getKey(this._array[_])===E);return!1}*getKeyIterator(w){if(0!==this._array.length&&(_=this._search(w),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===w))do{yield this._array[_]}while(++_<this._array.length&&this._getKey(this._array[_])===w)}forEachByKey(w,E){if(0!==this._array.length&&(_=this._search(w),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===w))do{E(this._array[_])}while(++_<this._array.length&&this._getKey(this._array[_])===w)}values(){return[...this._array].values()}_search(w){let E=0,g=this._array.length-1;for(;g>=E;){let D=E+g>>1;const I=this._getKey(this._array[D]);if(I>w)g=D-1;else{if(!(I<w)){for(;D>0&&this._getKey(this._array[D-1])===w;)D--;return D}E=D+1}}return E}}},7226:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DebouncedIdleTask=p.IdleTaskQueue=p.PriorityTaskQueue=void 0;const w=_(6114);class E{constructor(){this._tasks=[],this._i=0}enqueue(I){this._tasks.push(I),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(I){this._idleCallback=void 0;let R=0,b=0,l=I.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(R=Date.now(),this._tasks[this._i]()||this._i++,R=Math.max(1,Date.now()-R),b=Math.max(R,b),f=I.timeRemaining(),1.5*b>f)return l-R<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-R))}ms`),void this._start();l=f}this.clear()}}class g extends E{_requestCallback(I){return setTimeout(()=>I(this._createDeadline(16)))}_cancelCallback(I){clearTimeout(I)}_createDeadline(I){const R=Date.now()+I;return{timeRemaining:()=>Math.max(0,R-Date.now())}}}p.PriorityTaskQueue=g,p.IdleTaskQueue=!w.isNode&&"requestIdleCallback"in window?class extends E{_requestCallback(D){return requestIdleCallback(D)}_cancelCallback(D){cancelIdleCallback(D)}}:g,p.DebouncedIdleTask=class{constructor(){this._queue=new p.IdleTaskQueue}set(D){this._queue.clear(),this._queue.enqueue(D)}flush(){this._queue.flush()}}},9282:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.updateWindowsModeWrappedState=void 0;const w=_(643);p.updateWindowsModeWrappedState=function(E){const g=E.buffer.lines.get(E.buffer.ybase+E.buffer.y-1),D=g?.get(E.cols-1),I=E.buffer.lines.get(E.buffer.ybase+E.buffer.y);I&&D&&(I.isWrapped=D[w.CHAR_DATA_CODE_INDEX]!==w.NULL_CELL_CODE&&D[w.CHAR_DATA_CODE_INDEX]!==w.WHITESPACE_CELL_CODE)}},3734:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ExtendedAttrs=p.AttributeData=void 0;class _{constructor(){this.fg=0,this.bg=0,this.extended=new w}static toColorRGB(g){return[g>>>16&255,g>>>8&255,255&g]}static fromColorRGB(g){return(255&g[0])<<16|(255&g[1])<<8|255&g[2]}clone(){const g=new _;return g.fg=this.fg,g.bg=this.bg,g.extended=this.extended.clone(),g}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return!(50331648&~this.fg)}isBgRGB(){return!(50331648&~this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return!(50331648&this.fg)}isBgDefault(){return!(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?!(50331648&~this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?!(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}p.AttributeData=_;class w{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(g){this._ext=g}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(g){this._ext&=-469762049,this._ext|=g<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(g){this._ext&=-67108864,this._ext|=67108863&g}get urlId(){return this._urlId}set urlId(g){this._urlId=g}constructor(g=0,D=0){this._ext=0,this._urlId=0,this._ext=g,this._urlId=D}clone(){return new w(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}p.ExtendedAttrs=w},9092:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Buffer=p.MAX_BUFFER_SIZE=void 0;const w=_(6349),E=_(7226),g=_(3734),D=_(8437),I=_(4634),R=_(511),b=_(643),l=_(4863),f=_(7116);p.MAX_BUFFER_SIZE=4294967295,p.Buffer=class{constructor(d,h,v){this._hasScrollback=d,this._optionsService=h,this._bufferService=v,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=D.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=R.CellData.fromCharData([0,b.NULL_CELL_CHAR,b.NULL_CELL_WIDTH,b.NULL_CELL_CODE]),this._whitespaceCell=R.CellData.fromCharData([0,b.WHITESPACE_CELL_CHAR,b.WHITESPACE_CELL_WIDTH,b.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new E.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new w.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new g.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new g.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,h){return new D.BufferLine(this._bufferService.cols,this.getNullCell(d),h)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const h=d+this._optionsService.rawOptions.scrollback;return h>p.MAX_BUFFER_SIZE?p.MAX_BUFFER_SIZE:h}fillViewportRows(d){if(0===this.lines.length){void 0===d&&(d=D.DEFAULT_ATTR_DATA);let h=this._rows;for(;h--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new w.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,h){const v=this.getNullCell(D.DEFAULT_ATTR_DATA);let C=0;const M=this._getCorrectBufferLength(h);if(M>this.lines.maxLength&&(this.lines.maxLength=M),this.lines.length>0){if(this._cols<d)for(let y=0;y<this.lines.length;y++)C+=+this.lines.get(y).resize(d,v);let A=0;if(this._rows<h)for(let y=this._rows;y<h;y++)this.lines.length<h+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new D.BufferLine(d,v)):this.ybase>0&&this.lines.length<=this.ybase+this.y+A+1?(this.ybase--,A++,this.ydisp>0&&this.ydisp--):this.lines.push(new D.BufferLine(d,v)));else for(let y=this._rows;y>h;y--)this.lines.length>h+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(M<this.lines.maxLength){const y=this.lines.length-M;y>0&&(this.lines.trimStart(y),this.ybase=Math.max(this.ybase-y,0),this.ydisp=Math.max(this.ydisp-y,0),this.savedY=Math.max(this.savedY-y,0)),this.lines.maxLength=M}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,h-1),A&&(this.y+=A),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=h-1,this._isReflowEnabled&&(this._reflow(d,h),this._cols>d))for(let A=0;A<this.lines.length;A++)C+=+this.lines.get(A).resize(d,v);this._cols=d,this._rows=h,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let h=0;for(;this._memoryCleanupPosition<this.lines.length;)if(h+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),h>100)return!0;return d}get _isReflowEnabled(){const d=this._optionsService.rawOptions.windowsPty;return d&&d.buildNumber?this._hasScrollback&&"conpty"===d.backend&&d.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,h){this._cols!==d&&(d>this._cols?this._reflowLarger(d,h):this._reflowSmaller(d,h))}_reflowLarger(d,h){const v=(0,I.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(D.DEFAULT_ATTR_DATA));if(v.length>0){const C=(0,I.reflowLargerCreateNewLayout)(this.lines,v);(0,I.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(d,h,C.countRemoved)}}_reflowLargerAdjustViewport(d,h,v){const C=this.getNullCell(D.DEFAULT_ATTR_DATA);let M=v;for(;M-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<h&&this.lines.push(new D.BufferLine(d,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-v,0)}_reflowSmaller(d,h){const v=this.getNullCell(D.DEFAULT_ATTR_DATA),C=[];let M=0;for(let A=this.lines.length-1;A>=0;A--){let y=this.lines.get(A);if(!y||!y.isWrapped&&y.getTrimmedLength()<=d)continue;const T=[y];for(;y.isWrapped&&A>0;)y=this.lines.get(--A),T.unshift(y);const L=this.ybase+this.y;if(L>=A&&L<A+T.length)continue;const U=T[T.length-1].getTrimmedLength(),F=(0,I.reflowSmallerGetNewLineLengths)(T,this._cols,d),j=F.length-T.length;let Z;Z=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+j):Math.max(0,this.lines.length-this.lines.maxLength+j);const J=[];for(let V=0;V<j;V++){const ie=this.getBlankLine(D.DEFAULT_ATTR_DATA,!0);J.push(ie)}J.length>0&&(C.push({start:A+T.length+M,newLines:J}),M+=J.length),T.push(...J);let ne=F.length-1,ee=F[ne];0===ee&&(ne--,ee=F[ne]);let x=T.length-j-1,B=U;for(;x>=0;){const V=Math.min(B,ee);if(void 0===T[ne])break;if(T[ne].copyCellsFrom(T[x],B-V,ee-V,V,!0),ee-=V,0===ee&&(ne--,ee=F[ne]),B-=V,0===B){x--;const ie=Math.max(x,0);B=(0,I.getWrappedLineTrimmedLength)(T,ie,this._cols)}}for(let V=0;V<T.length;V++)F[V]<d&&T[V].setCell(F[V],v);let H=j-Z;for(;H-- >0;)0===this.ybase?this.y<h-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+M)-h&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+j,this.ybase+h-1)}if(C.length>0){const A=[],y=[];for(let ne=0;ne<this.lines.length;ne++)y.push(this.lines.get(ne));const T=this.lines.length;let L=T-1,U=0,F=C[U];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+M);let j=0;for(let ne=Math.min(this.lines.maxLength-1,T+M-1);ne>=0;ne--)if(F&&F.start>L+j){for(let ee=F.newLines.length-1;ee>=0;ee--)this.lines.set(ne--,F.newLines[ee]);ne++,A.push({index:L+1,amount:F.newLines.length}),j+=F.newLines.length,F=C[++U]}else this.lines.set(ne,y[L--]);let Z=0;for(let ne=A.length-1;ne>=0;ne--)A[ne].index+=Z,this.lines.onInsertEmitter.fire(A[ne]),Z+=A[ne].amount;const J=Math.max(0,T+M-this.lines.maxLength);J>0&&this.lines.onTrimEmitter.fire(J)}}translateBufferLineToString(d,h,v=0,C){const M=this.lines.get(d);return M?M.translateToString(h,v,C):""}getWrappedRangeForLine(d){let h=d,v=d;for(;h>0&&this.lines.get(h).isWrapped;)h--;for(;v+1<this.lines.length&&this.lines.get(v+1).isWrapped;)v++;return{first:h,last:v}}setupTabStops(d){for(null!=d?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(null==d&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(null==d&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].line===d&&(this.markers[h].dispose(),this.markers.splice(h--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const h=new l.Marker(d);return this.markers.push(h),h.register(this.lines.onTrim(v=>{h.line-=v,h.line<0&&h.dispose()})),h.register(this.lines.onInsert(v=>{h.line>=v.index&&(h.line+=v.amount)})),h.register(this.lines.onDelete(v=>{h.line>=v.index&&h.line<v.index+v.amount&&h.dispose(),h.line>v.index&&(h.line-=v.amount)})),h.register(h.onDispose(()=>this._removeMarker(h))),h}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}}},8437:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferLine=p.DEFAULT_ATTR_DATA=void 0;const w=_(3734),E=_(511),g=_(643),D=_(482);p.DEFAULT_ATTR_DATA=Object.freeze(new w.AttributeData);let I=0;class R{constructor(l,f,d=!1){this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*l);const h=f||E.CellData.fromCharData([0,g.NULL_CELL_CHAR,g.NULL_CELL_WIDTH,g.NULL_CELL_CODE]);for(let v=0;v<l;++v)this.setCell(v,h);this.length=l}get(l){const f=this._data[3*l+0],d=2097151&f;return[this._data[3*l+1],2097152&f?this._combined[l]:d?(0,D.stringFromCodePoint)(d):"",f>>22,2097152&f?this._combined[l].charCodeAt(this._combined[l].length-1):d]}set(l,f){this._data[3*l+1]=f[g.CHAR_DATA_ATTR_INDEX],f[g.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[l]=f[1],this._data[3*l+0]=2097152|l|f[g.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*l+0]=f[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[g.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(l){return this._data[3*l+0]>>22}hasWidth(l){return 12582912&this._data[3*l+0]}getFg(l){return this._data[3*l+1]}getBg(l){return this._data[3*l+2]}hasContent(l){return 4194303&this._data[3*l+0]}getCodePoint(l){const f=this._data[3*l+0];return 2097152&f?this._combined[l].charCodeAt(this._combined[l].length-1):2097151&f}isCombined(l){return 2097152&this._data[3*l+0]}getString(l){const f=this._data[3*l+0];return 2097152&f?this._combined[l]:2097151&f?(0,D.stringFromCodePoint)(2097151&f):""}isProtected(l){return 536870912&this._data[3*l+2]}loadCell(l,f){return I=3*l,f.content=this._data[I+0],f.fg=this._data[I+1],f.bg=this._data[I+2],2097152&f.content&&(f.combinedData=this._combined[l]),268435456&f.bg&&(f.extended=this._extendedAttrs[l]),f}setCell(l,f){2097152&f.content&&(this._combined[l]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[l]=f.extended),this._data[3*l+0]=f.content,this._data[3*l+1]=f.fg,this._data[3*l+2]=f.bg}setCellFromCodePoint(l,f,d,h,v,C){268435456&v&&(this._extendedAttrs[l]=C),this._data[3*l+0]=f|d<<22,this._data[3*l+1]=h,this._data[3*l+2]=v}addCodepointToCell(l,f){let d=this._data[3*l+0];2097152&d?this._combined[l]+=(0,D.stringFromCodePoint)(f):(2097151&d?(this._combined[l]=(0,D.stringFromCodePoint)(2097151&d)+(0,D.stringFromCodePoint)(f),d&=-2097152,d|=2097152):d=4194304|f,this._data[3*l+0]=d)}insertCells(l,f,d,h){if((l%=this.length)&&2===this.getWidth(l-1)&&this.setCellFromCodePoint(l-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs),f<this.length-l){const v=new E.CellData;for(let C=this.length-l-f-1;C>=0;--C)this.setCell(l+f+C,this.loadCell(l+C,v));for(let C=0;C<f;++C)this.setCell(l+C,d)}else for(let v=l;v<this.length;++v)this.setCell(v,d);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs)}deleteCells(l,f,d,h){if(f<this.length-(l%=this.length)){const v=new E.CellData;for(let C=0;C<this.length-l-f;++C)this.setCell(l+C,this.loadCell(l+f+C,v));for(let C=this.length-f;C<this.length;++C)this.setCell(C,d)}else for(let v=l;v<this.length;++v)this.setCell(v,d);l&&2===this.getWidth(l-1)&&this.setCellFromCodePoint(l-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs),0!==this.getWidth(l)||this.hasContent(l)||this.setCellFromCodePoint(l,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs)}replaceCells(l,f,d,h,v=!1){if(v)for(l&&2===this.getWidth(l-1)&&!this.isProtected(l-1)&&this.setCellFromCodePoint(l-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs),f<this.length&&2===this.getWidth(f-1)&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs);l<f&&l<this.length;)this.isProtected(l)||this.setCell(l,d),l++;else for(l&&2===this.getWidth(l-1)&&this.setCellFromCodePoint(l-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs),f<this.length&&2===this.getWidth(f-1)&&this.setCellFromCodePoint(f,0,1,h?.fg||0,h?.bg||0,h?.extended||new w.ExtendedAttrs);l<f&&l<this.length;)this.setCell(l++,d)}resize(l,f){if(l===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const d=3*l;if(l>this.length){if(this._data.buffer.byteLength>=4*d)this._data=new Uint32Array(this._data.buffer,0,d);else{const h=new Uint32Array(d);h.set(this._data),this._data=h}for(let h=this.length;h<l;++h)this.setCell(h,f)}else{this._data=this._data.subarray(0,d);const h=Object.keys(this._combined);for(let C=0;C<h.length;C++){const M=parseInt(h[C],10);M>=l&&delete this._combined[M]}const v=Object.keys(this._extendedAttrs);for(let C=0;C<v.length;C++){const M=parseInt(v[C],10);M>=l&&delete this._extendedAttrs[M]}}return this.length=l,4*d*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const l=new Uint32Array(this._data.length);return l.set(this._data),this._data=l,1}return 0}fill(l,f=!1){if(f)for(let d=0;d<this.length;++d)this.isProtected(d)||this.setCell(d,l);else{this._combined={},this._extendedAttrs={};for(let d=0;d<this.length;++d)this.setCell(d,l)}}copyFrom(l){this.length!==l.length?this._data=new Uint32Array(l._data):this._data.set(l._data),this.length=l.length,this._combined={};for(const f in l._combined)this._combined[f]=l._combined[f];this._extendedAttrs={};for(const f in l._extendedAttrs)this._extendedAttrs[f]=l._extendedAttrs[f];this.isWrapped=l.isWrapped}clone(){const l=new R(0);l._data=new Uint32Array(this._data),l.length=this.length;for(const f in this._combined)l._combined[f]=this._combined[f];for(const f in this._extendedAttrs)l._extendedAttrs[f]=this._extendedAttrs[f];return l.isWrapped=this.isWrapped,l}getTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0])return l+(this._data[3*l+0]>>22);return 0}getNoBgTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0]||50331648&this._data[3*l+2])return l+(this._data[3*l+0]>>22);return 0}copyCellsFrom(l,f,d,h,v){const C=l._data;if(v)for(let A=h-1;A>=0;A--){for(let y=0;y<3;y++)this._data[3*(d+A)+y]=C[3*(f+A)+y];268435456&C[3*(f+A)+2]&&(this._extendedAttrs[d+A]=l._extendedAttrs[f+A])}else for(let A=0;A<h;A++){for(let y=0;y<3;y++)this._data[3*(d+A)+y]=C[3*(f+A)+y];268435456&C[3*(f+A)+2]&&(this._extendedAttrs[d+A]=l._extendedAttrs[f+A])}const M=Object.keys(l._combined);for(let A=0;A<M.length;A++){const y=parseInt(M[A],10);y>=f&&(this._combined[y-f+d]=l._combined[y])}}translateToString(l=!1,f=0,d=this.length){l&&(d=Math.min(d,this.getTrimmedLength()));let h="";for(;f<d;){const v=this._data[3*f+0],C=2097151&v;h+=2097152&v?this._combined[f]:C?(0,D.stringFromCodePoint)(C):g.WHITESPACE_CELL_CHAR,f+=v>>22||1}return h}}p.BufferLine=R},4841:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getRangeLength=void 0,p.getRangeLength=function(_,w){if(_.start.y>_.end.y)throw new Error(`Buffer range end (${_.end.x}, ${_.end.y}) cannot be before start (${_.start.x}, ${_.start.y})`);return w*(_.end.y-_.start.y)+(_.end.x-_.start.x+1)}},4634:(se,p)=>{function _(w,E,g){if(E===w.length-1)return w[E].getTrimmedLength();const D=!w[E].hasContent(g-1)&&1===w[E].getWidth(g-1),I=2===w[E+1].getWidth(0);return D&&I?g-1:g}Object.defineProperty(p,"__esModule",{value:!0}),p.getWrappedLineTrimmedLength=p.reflowSmallerGetNewLineLengths=p.reflowLargerApplyNewLayout=p.reflowLargerCreateNewLayout=p.reflowLargerGetLinesToRemove=void 0,p.reflowLargerGetLinesToRemove=function(w,E,g,D,I){const R=[];for(let b=0;b<w.length-1;b++){let l=b,f=w.get(++l);if(!f.isWrapped)continue;const d=[w.get(b)];for(;l<w.length&&f.isWrapped;)d.push(f),f=w.get(++l);if(D>=b&&D<l){b+=d.length-1;continue}let h=0,v=_(d,h,E),C=1,M=0;for(;C<d.length;){const y=_(d,C,E),U=Math.min(y-M,g-v);d[h].copyCellsFrom(d[C],M,v,U,!1),v+=U,v===g&&(h++,v=0),M+=U,M===y&&(C++,M=0),0===v&&0!==h&&2===d[h-1].getWidth(g-1)&&(d[h].copyCellsFrom(d[h-1],g-1,v++,1,!1),d[h-1].setCell(g-1,I))}d[h].replaceCells(v,g,I);let A=0;for(let y=d.length-1;y>0&&(y>h||0===d[y].getTrimmedLength());y--)A++;A>0&&(R.push(b+d.length-A),R.push(A)),b+=d.length-1}return R},p.reflowLargerCreateNewLayout=function(w,E){const g=[];let D=0,I=E[D],R=0;for(let b=0;b<w.length;b++)if(I===b){const l=E[++D];w.onDeleteEmitter.fire({index:b-R,amount:l}),b+=l-1,R+=l,I=E[++D]}else g.push(b);return{layout:g,countRemoved:R}},p.reflowLargerApplyNewLayout=function(w,E){const g=[];for(let D=0;D<E.length;D++)g.push(w.get(E[D]));for(let D=0;D<g.length;D++)w.set(D,g[D]);w.length=E.length},p.reflowSmallerGetNewLineLengths=function(w,E,g){const D=[],I=w.map((f,d)=>_(w,d,E)).reduce((f,d)=>f+d);let R=0,b=0,l=0;for(;l<I;){if(I-l<g){D.push(I-l);break}R+=g;const f=_(w,b,E);R>f&&(R-=f,b++);const d=2===w[b].getWidth(R-1);d&&R--;const h=d?g-1:g;D.push(h),l+=h}return D},p.getWrappedLineTrimmedLength=_},5295:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferSet=void 0;const w=_(8460),E=_(844),g=_(9092);p.BufferSet=class D extends E.Disposable{constructor(R,b){super(),this._optionsService=R,this._bufferService=b,this._onBufferActivate=this.register(new w.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new g.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new g.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(R){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(R),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(R,b){this._normal.resize(R,b),this._alt.resize(R,b),this.setupTabStops(R)}setupTabStops(R){this._normal.setupTabStops(R),this._alt.setupTabStops(R)}}},511:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CellData=void 0;const w=_(482),E=_(643),g=_(3734);class D extends g.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new g.ExtendedAttrs,this.combinedData=""}static fromCharData(R){const b=new D;return b.setFromCharData(R),b}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,w.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(R){this.fg=R[E.CHAR_DATA_ATTR_INDEX],this.bg=0;let b=!1;if(R[E.CHAR_DATA_CHAR_INDEX].length>2)b=!0;else if(2===R[E.CHAR_DATA_CHAR_INDEX].length){const l=R[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){const f=R[E.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(l-55296)+f-56320+65536|R[E.CHAR_DATA_WIDTH_INDEX]<<22:b=!0}else b=!0}else this.content=R[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|R[E.CHAR_DATA_WIDTH_INDEX]<<22;b&&(this.combinedData=R[E.CHAR_DATA_CHAR_INDEX],this.content=2097152|R[E.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}p.CellData=D},643:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WHITESPACE_CELL_CODE=p.WHITESPACE_CELL_WIDTH=p.WHITESPACE_CELL_CHAR=p.NULL_CELL_CODE=p.NULL_CELL_WIDTH=p.NULL_CELL_CHAR=p.CHAR_DATA_CODE_INDEX=p.CHAR_DATA_WIDTH_INDEX=p.CHAR_DATA_CHAR_INDEX=p.CHAR_DATA_ATTR_INDEX=p.DEFAULT_EXT=p.DEFAULT_ATTR=p.DEFAULT_COLOR=void 0,p.DEFAULT_COLOR=0,p.DEFAULT_ATTR=256|p.DEFAULT_COLOR<<9,p.DEFAULT_EXT=0,p.CHAR_DATA_ATTR_INDEX=0,p.CHAR_DATA_CHAR_INDEX=1,p.CHAR_DATA_WIDTH_INDEX=2,p.CHAR_DATA_CODE_INDEX=3,p.NULL_CELL_CHAR="",p.NULL_CELL_WIDTH=1,p.NULL_CELL_CODE=0,p.WHITESPACE_CELL_CHAR=" ",p.WHITESPACE_CELL_WIDTH=1,p.WHITESPACE_CELL_CODE=32},4863:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Marker=void 0;const w=_(8460),E=_(844);class g{get id(){return this._id}constructor(I){this.line=I,this.isDisposed=!1,this._disposables=[],this._id=g._nextId++,this._onDispose=this.register(new w.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,E.disposeArray)(this._disposables),this._disposables.length=0)}register(I){return this._disposables.push(I),I}}p.Marker=g,g._nextId=1},7116:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DEFAULT_CHARSET=p.CHARSETS=void 0,p.CHARSETS={},p.DEFAULT_CHARSET=p.CHARSETS.B,p.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},p.CHARSETS.A={"#":"\xa3"},p.CHARSETS.B=void 0,p.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},p.CHARSETS.C=p.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},p.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},p.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},p.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},p.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},p.CHARSETS.E=p.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},p.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},p.CHARSETS.H=p.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},p.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(se,p)=>{var _,w,E,g;Object.defineProperty(p,"__esModule",{value:!0}),p.C1_ESCAPED=p.C1=p.C0=void 0,(g=_||(p.C0=_={})).NUL="\0",g.SOH="\x01",g.STX="\x02",g.ETX="\x03",g.EOT="\x04",g.ENQ="\x05",g.ACK="\x06",g.BEL="\x07",g.BS="\b",g.HT="\t",g.LF="\n",g.VT="\v",g.FF="\f",g.CR="\r",g.SO="\x0e",g.SI="\x0f",g.DLE="\x10",g.DC1="\x11",g.DC2="\x12",g.DC3="\x13",g.DC4="\x14",g.NAK="\x15",g.SYN="\x16",g.ETB="\x17",g.CAN="\x18",g.EM="\x19",g.SUB="\x1a",g.ESC="\x1b",g.FS="\x1c",g.GS="\x1d",g.RS="\x1e",g.US="\x1f",g.SP=" ",g.DEL="\x7f",function(g){g.PAD="\x80",g.HOP="\x81",g.BPH="\x82",g.NBH="\x83",g.IND="\x84",g.NEL="\x85",g.SSA="\x86",g.ESA="\x87",g.HTS="\x88",g.HTJ="\x89",g.VTS="\x8a",g.PLD="\x8b",g.PLU="\x8c",g.RI="\x8d",g.SS2="\x8e",g.SS3="\x8f",g.DCS="\x90",g.PU1="\x91",g.PU2="\x92",g.STS="\x93",g.CCH="\x94",g.MW="\x95",g.SPA="\x96",g.EPA="\x97",g.SOS="\x98",g.SGCI="\x99",g.SCI="\x9a",g.CSI="\x9b",g.ST="\x9c",g.OSC="\x9d",g.PM="\x9e",g.APC="\x9f"}(w||(p.C1=w={})),function(g){g.ST=`${_.ESC}\\`}(E||(p.C1_ESCAPED=E={}))},7399:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.evaluateKeyboardEvent=void 0;const w=_(2584),E={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};p.evaluateKeyboardEvent=function(g,D,I,R){const b={type:0,cancel:!1,key:void 0},l=(g.shiftKey?1:0)|(g.altKey?2:0)|(g.ctrlKey?4:0)|(g.metaKey?8:0);switch(g.keyCode){case 0:"UIKeyInputUpArrow"===g.key?b.key=D?w.C0.ESC+"OA":w.C0.ESC+"[A":"UIKeyInputLeftArrow"===g.key?b.key=D?w.C0.ESC+"OD":w.C0.ESC+"[D":"UIKeyInputRightArrow"===g.key?b.key=D?w.C0.ESC+"OC":w.C0.ESC+"[C":"UIKeyInputDownArrow"===g.key&&(b.key=D?w.C0.ESC+"OB":w.C0.ESC+"[B");break;case 8:if(g.altKey){b.key=w.C0.ESC+w.C0.DEL;break}b.key=w.C0.DEL;break;case 9:if(g.shiftKey){b.key=w.C0.ESC+"[Z";break}b.key=w.C0.HT,b.cancel=!0;break;case 13:b.key=g.altKey?w.C0.ESC+w.C0.CR:w.C0.CR,b.cancel=!0;break;case 27:b.key=w.C0.ESC,g.altKey&&(b.key=w.C0.ESC+w.C0.ESC),b.cancel=!0;break;case 37:if(g.metaKey)break;l?(b.key=w.C0.ESC+"[1;"+(l+1)+"D",b.key===w.C0.ESC+"[1;3D"&&(b.key=w.C0.ESC+(I?"b":"[1;5D"))):b.key=D?w.C0.ESC+"OD":w.C0.ESC+"[D";break;case 39:if(g.metaKey)break;l?(b.key=w.C0.ESC+"[1;"+(l+1)+"C",b.key===w.C0.ESC+"[1;3C"&&(b.key=w.C0.ESC+(I?"f":"[1;5C"))):b.key=D?w.C0.ESC+"OC":w.C0.ESC+"[C";break;case 38:if(g.metaKey)break;l?(b.key=w.C0.ESC+"[1;"+(l+1)+"A",I||b.key!==w.C0.ESC+"[1;3A"||(b.key=w.C0.ESC+"[1;5A")):b.key=D?w.C0.ESC+"OA":w.C0.ESC+"[A";break;case 40:if(g.metaKey)break;l?(b.key=w.C0.ESC+"[1;"+(l+1)+"B",I||b.key!==w.C0.ESC+"[1;3B"||(b.key=w.C0.ESC+"[1;5B")):b.key=D?w.C0.ESC+"OB":w.C0.ESC+"[B";break;case 45:g.shiftKey||g.ctrlKey||(b.key=w.C0.ESC+"[2~");break;case 46:b.key=l?w.C0.ESC+"[3;"+(l+1)+"~":w.C0.ESC+"[3~";break;case 36:b.key=l?w.C0.ESC+"[1;"+(l+1)+"H":D?w.C0.ESC+"OH":w.C0.ESC+"[H";break;case 35:b.key=l?w.C0.ESC+"[1;"+(l+1)+"F":D?w.C0.ESC+"OF":w.C0.ESC+"[F";break;case 33:g.shiftKey?b.type=2:b.key=g.ctrlKey?w.C0.ESC+"[5;"+(l+1)+"~":w.C0.ESC+"[5~";break;case 34:g.shiftKey?b.type=3:b.key=g.ctrlKey?w.C0.ESC+"[6;"+(l+1)+"~":w.C0.ESC+"[6~";break;case 112:b.key=l?w.C0.ESC+"[1;"+(l+1)+"P":w.C0.ESC+"OP";break;case 113:b.key=l?w.C0.ESC+"[1;"+(l+1)+"Q":w.C0.ESC+"OQ";break;case 114:b.key=l?w.C0.ESC+"[1;"+(l+1)+"R":w.C0.ESC+"OR";break;case 115:b.key=l?w.C0.ESC+"[1;"+(l+1)+"S":w.C0.ESC+"OS";break;case 116:b.key=l?w.C0.ESC+"[15;"+(l+1)+"~":w.C0.ESC+"[15~";break;case 117:b.key=l?w.C0.ESC+"[17;"+(l+1)+"~":w.C0.ESC+"[17~";break;case 118:b.key=l?w.C0.ESC+"[18;"+(l+1)+"~":w.C0.ESC+"[18~";break;case 119:b.key=l?w.C0.ESC+"[19;"+(l+1)+"~":w.C0.ESC+"[19~";break;case 120:b.key=l?w.C0.ESC+"[20;"+(l+1)+"~":w.C0.ESC+"[20~";break;case 121:b.key=l?w.C0.ESC+"[21;"+(l+1)+"~":w.C0.ESC+"[21~";break;case 122:b.key=l?w.C0.ESC+"[23;"+(l+1)+"~":w.C0.ESC+"[23~";break;case 123:b.key=l?w.C0.ESC+"[24;"+(l+1)+"~":w.C0.ESC+"[24~";break;default:if(!g.ctrlKey||g.shiftKey||g.altKey||g.metaKey)if(I&&!R||!g.altKey||g.metaKey)!I||g.altKey||g.ctrlKey||g.shiftKey||!g.metaKey?g.key&&!g.ctrlKey&&!g.altKey&&!g.metaKey&&g.keyCode>=48&&1===g.key.length?b.key=g.key:g.key&&g.ctrlKey&&("_"===g.key&&(b.key=w.C0.US),"@"===g.key&&(b.key=w.C0.NUL)):65===g.keyCode&&(b.type=1);else{const f=E[g.keyCode],d=f?.[g.shiftKey?1:0];if(d)b.key=w.C0.ESC+d;else if(g.keyCode>=65&&g.keyCode<=90){let v=String.fromCharCode(g.ctrlKey?g.keyCode-64:g.keyCode+32);g.shiftKey&&(v=v.toUpperCase()),b.key=w.C0.ESC+v}else if(32===g.keyCode)b.key=w.C0.ESC+(g.ctrlKey?w.C0.NUL:" ");else if("Dead"===g.key&&g.code.startsWith("Key")){let h=g.code.slice(3,4);g.shiftKey||(h=h.toLowerCase()),b.key=w.C0.ESC+h,b.cancel=!0}}else g.keyCode>=65&&g.keyCode<=90?b.key=String.fromCharCode(g.keyCode-64):32===g.keyCode?b.key=w.C0.NUL:g.keyCode>=51&&g.keyCode<=55?b.key=String.fromCharCode(g.keyCode-51+27):56===g.keyCode?b.key=w.C0.DEL:219===g.keyCode?b.key=w.C0.ESC:220===g.keyCode?b.key=w.C0.FS:221===g.keyCode&&(b.key=w.C0.GS)}return b}},482:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Utf8ToUtf32=p.StringToUtf32=p.utf32ToString=p.stringFromCodePoint=void 0,p.stringFromCodePoint=function(_){return _>65535?(_-=65536,String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):String.fromCharCode(_)},p.utf32ToString=function(_,w=0,E=_.length){let g="";for(let D=w;D<E;++D){let I=_[D];I>65535?(I-=65536,g+=String.fromCharCode(55296+(I>>10))+String.fromCharCode(I%1024+56320)):g+=String.fromCharCode(I)}return g},p.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(_,w){const E=_.length;if(!E)return 0;let g=0,D=0;if(this._interim){const I=_.charCodeAt(D++);56320<=I&&I<=57343?w[g++]=1024*(this._interim-55296)+I-56320+65536:(w[g++]=this._interim,w[g++]=I),this._interim=0}for(let I=D;I<E;++I){const R=_.charCodeAt(I);if(55296<=R&&R<=56319){if(++I>=E)return this._interim=R,g;const b=_.charCodeAt(I);56320<=b&&b<=57343?w[g++]=1024*(R-55296)+b-56320+65536:(w[g++]=R,w[g++]=b)}else 65279!==R&&(w[g++]=R)}return g}},p.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(_,w){const E=_.length;if(!E)return 0;let g,D,I,R,b=0,l=0,f=0;if(this.interim[0]){let v=!1,C=this.interim[0];C&=192==(224&C)?31:224==(240&C)?15:7;let M,A=0;for(;(M=63&this.interim[++A])&&A<4;)C<<=6,C|=M;const y=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,T=y-A;for(;f<T;){if(f>=E)return 0;if(M=_[f++],128!=(192&M)){f--,v=!0;break}this.interim[A++]=M,C<<=6,C|=63&M}v||(2===y?C<128?f--:w[b++]=C:3===y?C<2048||C>=55296&&C<=57343||65279===C||(w[b++]=C):C<65536||C>1114111||(w[b++]=C)),this.interim.fill(0)}const d=E-4;let h=f;for(;h<E;){for(;!(!(h<d)||128&(g=_[h])||128&(D=_[h+1])||128&(I=_[h+2])||128&(R=_[h+3]));)w[b++]=g,w[b++]=D,w[b++]=I,w[b++]=R,h+=4;if(g=_[h++],g<128)w[b++]=g;else if(192==(224&g)){if(h>=E)return this.interim[0]=g,b;if(D=_[h++],128!=(192&D)){h--;continue}if(l=(31&g)<<6|63&D,l<128){h--;continue}w[b++]=l}else if(224==(240&g)){if(h>=E)return this.interim[0]=g,b;if(D=_[h++],128!=(192&D)){h--;continue}if(h>=E)return this.interim[0]=g,this.interim[1]=D,b;if(I=_[h++],128!=(192&I)){h--;continue}if(l=(15&g)<<12|(63&D)<<6|63&I,l<2048||l>=55296&&l<=57343||65279===l)continue;w[b++]=l}else if(240==(248&g)){if(h>=E)return this.interim[0]=g,b;if(D=_[h++],128!=(192&D)){h--;continue}if(h>=E)return this.interim[0]=g,this.interim[1]=D,b;if(I=_[h++],128!=(192&I)){h--;continue}if(h>=E)return this.interim[0]=g,this.interim[1]=D,this.interim[2]=I,b;if(R=_[h++],128!=(192&R)){h--;continue}if(l=(7&g)<<18|(63&D)<<12|(63&I)<<6|63&R,l<65536||l>1114111)continue;w[b++]=l}}return b}}},225:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeV6=void 0;const _=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],w=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let E;p.UnicodeV6=class{constructor(){if(this.version="6",!E){E=new Uint8Array(65536),E.fill(1),E[0]=0,E.fill(0,1,32),E.fill(0,127,160),E.fill(2,4352,4448),E[9001]=2,E[9002]=2,E.fill(2,11904,42192),E[12351]=1,E.fill(2,44032,55204),E.fill(2,63744,64256),E.fill(2,65040,65050),E.fill(2,65072,65136),E.fill(2,65280,65377),E.fill(2,65504,65511);for(let g=0;g<_.length;++g)E.fill(0,_[g][0],_[g][1]+1)}}wcwidth(g){return g<32?0:g<127?1:g<65536?E[g]:function(D,I){let R,b=0,l=I.length-1;if(D<I[0][0]||D>I[l][1])return!1;for(;l>=b;)if(R=b+l>>1,D>I[R][1])b=R+1;else{if(!(D<I[R][0]))return!0;l=R-1}return!1}(g,w)?0:g>=131072&&g<=196605||g>=196608&&g<=262141?2:1}}},5981:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WriteBuffer=void 0;const w=_(8460),E=_(844);p.WriteBuffer=class g extends E.Disposable{constructor(I){super(),this._action=I,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new w.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(I,R){if(void 0!==R&&this._syncCalls>R)return void(this._syncCalls=0);if(this._pendingData+=I.length,this._writeBuffer.push(I),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let b;for(this._isSyncWriting=!0;b=this._writeBuffer.shift();){this._action(b);const l=this._callbacks.shift();l&&l()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(I,R){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=I.length,this._writeBuffer.push(I),this._callbacks.push(R),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=I.length,this._writeBuffer.push(I),this._callbacks.push(R)}_innerWrite(I=0,R=!0){const b=I||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const l=this._writeBuffer[this._bufferOffset],f=this._action(l,R);if(f){const h=v=>Date.now()-b>=12?setTimeout(()=>this._innerWrite(0,v)):this._innerWrite(b,v);return void f.catch(v=>(queueMicrotask(()=>{throw v}),Promise.resolve(!1))).then(h)}const d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=l.length,Date.now()-b>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.toRgbString=p.parseColor=void 0;const _=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,w=/^[\da-f]+$/;function E(g,D){const I=g.toString(16),R=I.length<2?"0"+I:I;switch(D){case 4:return I[0];case 8:return R;case 12:return(R+R).slice(0,3);default:return R+R}}p.parseColor=function(g){if(!g)return;let D=g.toLowerCase();if(0===D.indexOf("rgb:")){D=D.slice(4);const I=_.exec(D);if(I){const R=I[1]?15:I[4]?255:I[7]?4095:65535;return[Math.round(parseInt(I[1]||I[4]||I[7]||I[10],16)/R*255),Math.round(parseInt(I[2]||I[5]||I[8]||I[11],16)/R*255),Math.round(parseInt(I[3]||I[6]||I[9]||I[12],16)/R*255)]}}else if(0===D.indexOf("#")&&(D=D.slice(1),w.exec(D)&&[3,6,9,12].includes(D.length))){const I=D.length/3,R=[0,0,0];for(let b=0;b<3;++b){const l=parseInt(D.slice(I*b,I*b+I),16);R[b]=1===I?l<<4:2===I?l:3===I?l>>4:l>>8}return R}},p.toRgbString=function(g,D=16){const[I,R,b]=g;return`rgb:${E(I,D)}/${E(R,D)}/${E(b,D)}`}},5770:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PAYLOAD_LIMIT=void 0,p.PAYLOAD_LIMIT=1e7},6351:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DcsHandler=p.DcsParser=void 0;const w=_(482),E=_(8742),g=_(5770),D=[];p.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=D,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=D}registerHandler(R,b){void 0===this._handlers[R]&&(this._handlers[R]=[]);const l=this._handlers[R];return l.push(b),{dispose:()=>{const f=l.indexOf(b);-1!==f&&l.splice(f,1)}}}clearHandler(R){this._handlers[R]&&delete this._handlers[R]}setHandlerFallback(R){this._handlerFb=R}reset(){if(this._active.length)for(let R=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;R>=0;--R)this._active[R].unhook(!1);this._stack.paused=!1,this._active=D,this._ident=0}hook(R,b){if(this.reset(),this._ident=R,this._active=this._handlers[R]||D,this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].hook(b);else this._handlerFb(this._ident,"HOOK",b)}put(R,b,l){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(R,b,l);else this._handlerFb(this._ident,"PUT",(0,w.utf32ToString)(R,b,l))}unhook(R,b=!0){if(this._active.length){let l=!1,f=this._active.length-1,d=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,l=b,d=this._stack.fallThrough,this._stack.paused=!1),!d&&!1===l){for(;f>=0&&(l=this._active[f].unhook(R),!0!==l);f--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,l;f--}for(;f>=0;f--)if(l=this._active[f].unhook(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",R);this._active=D,this._ident=0}};const I=new E.Params;I.addParam(0),p.DcsHandler=class{constructor(R){this._handler=R,this._data="",this._params=I,this._hitLimit=!1}hook(R){this._params=R.length>1||R.params[0]?R.clone():I,this._data="",this._hitLimit=!1}put(R,b,l){this._hitLimit||(this._data+=(0,w.utf32ToString)(R,b,l),this._data.length>g.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(R){let b=!1;if(this._hitLimit)b=!1;else if(R&&(b=this._handler(this._data,this._params),b instanceof Promise))return b.then(l=>(this._params=I,this._data="",this._hitLimit=!1,l));return this._params=I,this._data="",this._hitLimit=!1,b}}},2015:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.EscapeSequenceParser=p.VT500_TRANSITION_TABLE=p.TransitionTable=void 0;const w=_(844),E=_(8742),g=_(6242),D=_(6351);class I{constructor(f){this.table=new Uint8Array(f)}setDefault(f,d){this.table.fill(f<<4|d)}add(f,d,h,v){this.table[d<<8|f]=h<<4|v}addMany(f,d,h,v){for(let C=0;C<f.length;C++)this.table[d<<8|f[C]]=h<<4|v}}p.TransitionTable=I;const R=160;p.VT500_TRANSITION_TABLE=function(){const l=new I(4095),f=Array.apply(null,Array(256)).map((A,y)=>y),d=(A,y)=>f.slice(A,y),h=d(32,127),v=d(0,24);v.push(25),v.push.apply(v,d(28,32));const C=d(0,14);let M;for(M in l.setDefault(1,0),l.addMany(h,0,2,0),C)l.addMany([24,26,153,154],M,3,0),l.addMany(d(128,144),M,3,0),l.addMany(d(144,152),M,3,0),l.add(156,M,0,0),l.add(27,M,11,1),l.add(157,M,4,8),l.addMany([152,158,159],M,0,7),l.add(155,M,11,3),l.add(144,M,11,9);return l.addMany(v,0,3,0),l.addMany(v,1,3,1),l.add(127,1,0,1),l.addMany(v,8,0,8),l.addMany(v,3,3,3),l.add(127,3,0,3),l.addMany(v,4,3,4),l.add(127,4,0,4),l.addMany(v,6,3,6),l.addMany(v,5,3,5),l.add(127,5,0,5),l.addMany(v,2,3,2),l.add(127,2,0,2),l.add(93,1,4,8),l.addMany(h,8,5,8),l.add(127,8,5,8),l.addMany([156,27,24,26,7],8,6,0),l.addMany(d(28,32),8,0,8),l.addMany([88,94,95],1,0,7),l.addMany(h,7,0,7),l.addMany(v,7,0,7),l.add(156,7,0,0),l.add(127,7,0,7),l.add(91,1,11,3),l.addMany(d(64,127),3,7,0),l.addMany(d(48,60),3,8,4),l.addMany([60,61,62,63],3,9,4),l.addMany(d(48,60),4,8,4),l.addMany(d(64,127),4,7,0),l.addMany([60,61,62,63],4,0,6),l.addMany(d(32,64),6,0,6),l.add(127,6,0,6),l.addMany(d(64,127),6,0,0),l.addMany(d(32,48),3,9,5),l.addMany(d(32,48),5,9,5),l.addMany(d(48,64),5,0,6),l.addMany(d(64,127),5,7,0),l.addMany(d(32,48),4,9,5),l.addMany(d(32,48),1,9,2),l.addMany(d(32,48),2,9,2),l.addMany(d(48,127),2,10,0),l.addMany(d(48,80),1,10,0),l.addMany(d(81,88),1,10,0),l.addMany([89,90,92],1,10,0),l.addMany(d(96,127),1,10,0),l.add(80,1,11,9),l.addMany(v,9,0,9),l.add(127,9,0,9),l.addMany(d(28,32),9,0,9),l.addMany(d(32,48),9,9,12),l.addMany(d(48,60),9,8,10),l.addMany([60,61,62,63],9,9,10),l.addMany(v,11,0,11),l.addMany(d(32,128),11,0,11),l.addMany(d(28,32),11,0,11),l.addMany(v,10,0,10),l.add(127,10,0,10),l.addMany(d(28,32),10,0,10),l.addMany(d(48,60),10,8,10),l.addMany([60,61,62,63],10,0,11),l.addMany(d(32,48),10,9,12),l.addMany(v,12,0,12),l.add(127,12,0,12),l.addMany(d(28,32),12,0,12),l.addMany(d(32,48),12,9,12),l.addMany(d(48,64),12,0,11),l.addMany(d(64,127),12,12,13),l.addMany(d(64,127),10,12,13),l.addMany(d(64,127),9,12,13),l.addMany(v,13,13,13),l.addMany(h,13,13,13),l.add(127,13,0,13),l.addMany([27,156,24,26],13,14,0),l.add(R,0,2,0),l.add(R,8,5,8),l.add(R,6,0,6),l.add(R,11,0,11),l.add(R,13,13,13),l}(),p.EscapeSequenceParser=class b extends w.Disposable{constructor(f=p.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new E.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,h,v)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,h)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,w.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new g.OscParser),this._dcsParser=this.register(new D.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,d=[64,126]){let h=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(h=f.prefix.charCodeAt(0),h&&60>h||h>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<f.intermediates.length;++C){const M=f.intermediates.charCodeAt(C);if(32>M||M>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");h<<=8,h|=M}}if(1!==f.final.length)throw new Error("final must be a single byte");const v=f.final.charCodeAt(0);if(d[0]>v||v>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return h<<=8,h|=v,h}identToString(f){const d=[];for(;f;)d.push(String.fromCharCode(255&f)),f>>=8;return d.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,d){const h=this._identifier(f,[48,126]);void 0===this._escHandlers[h]&&(this._escHandlers[h]=[]);const v=this._escHandlers[h];return v.push(d),{dispose:()=>{const C=v.indexOf(d);-1!==C&&v.splice(C,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,d){this._executeHandlers[f.charCodeAt(0)]=d}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,d){const h=this._identifier(f);void 0===this._csiHandlers[h]&&(this._csiHandlers[h]=[]);const v=this._csiHandlers[h];return v.push(d),{dispose:()=>{const C=v.indexOf(d);-1!==C&&v.splice(C,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,d){return this._dcsParser.registerHandler(this._identifier(f),d)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,d){return this._oscParser.registerHandler(f,d)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,d,h,v,C){this._parseStack.state=f,this._parseStack.handlers=d,this._parseStack.handlerPos=h,this._parseStack.transition=v,this._parseStack.chunkPos=C}parse(f,d,h){let v,C=0,M=0,A=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,A=this._parseStack.chunkPos+1;else{if(void 0===h||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const y=this._parseStack.handlers;let T=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===h&&T>-1)for(;T>=0&&(v=y[T](this._params),!0!==v);T--)if(v instanceof Promise)return this._parseStack.handlerPos=T,v;this._parseStack.handlers=[];break;case 4:if(!1===h&&T>-1)for(;T>=0&&(v=y[T](),!0!==v);T--)if(v instanceof Promise)return this._parseStack.handlerPos=T,v;this._parseStack.handlers=[];break;case 6:if(C=f[this._parseStack.chunkPos],v=this._dcsParser.unhook(24!==C&&26!==C,h),v)return v;27===C&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=f[this._parseStack.chunkPos],v=this._oscParser.end(24!==C&&26!==C,h),v)return v;27===C&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,A=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let y=A;y<d;++y){switch(C=f[y],M=this._transitions.table[this.currentState<<8|(C<160?C:R)],M>>4){case 2:for(let j=y+1;;++j){if(j>=d||(C=f[j])<32||C>126&&C<R){this._printHandler(f,y,j),y=j-1;break}if(++j>=d||(C=f[j])<32||C>126&&C<R){this._printHandler(f,y,j),y=j-1;break}if(++j>=d||(C=f[j])<32||C>126&&C<R){this._printHandler(f,y,j),y=j-1;break}if(++j>=d||(C=f[j])<32||C>126&&C<R){this._printHandler(f,y,j),y=j-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:y,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const T=this._csiHandlers[this._collect<<8|C];let L=T?T.length-1:-1;for(;L>=0&&(v=T[L](this._params),!0!==v);L--)if(v instanceof Promise)return this._preserveStack(3,T,L,M,y),v;L<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingCodepoint=0;break;case 8:do{switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}}while(++y<d&&(C=f[y])>47&&C<60);y--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const U=this._escHandlers[this._collect<<8|C];let F=U?U.length-1:-1;for(;F>=0&&(v=U[F](),!0!==v);F--)if(v instanceof Promise)return this._preserveStack(4,U,F,M,y),v;F<0&&this._escHandlerFb(this._collect<<8|C),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let j=y+1;;++j)if(j>=d||24===(C=f[j])||26===C||27===C||C>127&&C<R){this._dcsParser.put(f,y,j),y=j-1;break}break;case 14:if(v=this._dcsParser.unhook(24!==C&&26!==C),v)return this._preserveStack(6,[],0,M,y),v;27===C&&(M|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let j=y+1;;j++)if(j>=d||(C=f[j])<32||C>127&&C<R){this._oscParser.put(f,y,j),y=j-1;break}break;case 6:if(v=this._oscParser.end(24!==C&&26!==C),v)return this._preserveStack(5,[],0,M,y),v;27===C&&(M|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&M}}}},6242:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.OscHandler=p.OscParser=void 0;const w=_(5770),E=_(482),g=[];p.OscParser=class{constructor(){this._state=0,this._active=g,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(D,I){void 0===this._handlers[D]&&(this._handlers[D]=[]);const R=this._handlers[D];return R.push(I),{dispose:()=>{const b=R.indexOf(I);-1!==b&&R.splice(b,1)}}}clearHandler(D){this._handlers[D]&&delete this._handlers[D]}setHandlerFallback(D){this._handlerFb=D}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}reset(){if(2===this._state)for(let D=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;D>=0;--D)this._active[D].end(!1);this._stack.paused=!1,this._active=g,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||g,this._active.length)for(let D=this._active.length-1;D>=0;D--)this._active[D].start();else this._handlerFb(this._id,"START")}_put(D,I,R){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(D,I,R);else this._handlerFb(this._id,"PUT",(0,E.utf32ToString)(D,I,R))}start(){this.reset(),this._state=1}put(D,I,R){if(3!==this._state){if(1===this._state)for(;I<R;){const b=D[I++];if(59===b){this._state=2,this._start();break}if(b<48||57<b)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+b-48}2===this._state&&R-I>0&&this._put(D,I,R)}}end(D,I=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let R=!1,b=this._active.length-1,l=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,R=I,l=this._stack.fallThrough,this._stack.paused=!1),!l&&!1===R){for(;b>=0&&(R=this._active[b].end(D),!0!==R);b--)if(R instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,R;b--}for(;b>=0;b--)if(R=this._active[b].end(!1),R instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,R}else this._handlerFb(this._id,"END",D);this._active=g,this._id=-1,this._state=0}}},p.OscHandler=class{constructor(D){this._handler=D,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(D,I,R){this._hitLimit||(this._data+=(0,E.utf32ToString)(D,I,R),this._data.length>w.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(D){let I=!1;if(this._hitLimit)I=!1;else if(D&&(I=this._handler(this._data),I instanceof Promise))return I.then(R=>(this._data="",this._hitLimit=!1,R));return this._data="",this._hitLimit=!1,I}}},8742:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Params=void 0;const _=2147483647;class w{static fromArray(g){const D=new w;if(!g.length)return D;for(let I=Array.isArray(g[0])?1:0;I<g.length;++I){const R=g[I];if(Array.isArray(R))for(let b=0;b<R.length;++b)D.addSubParam(R[b]);else D.addParam(R)}return D}constructor(g=32,D=32){if(this.maxLength=g,this.maxSubParamsLength=D,D>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(g),this.length=0,this._subParams=new Int32Array(D),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(g),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const g=new w(this.maxLength,this.maxSubParamsLength);return g.params.set(this.params),g.length=this.length,g._subParams.set(this._subParams),g._subParamsLength=this._subParamsLength,g._subParamsIdx.set(this._subParamsIdx),g._rejectDigits=this._rejectDigits,g._rejectSubDigits=this._rejectSubDigits,g._digitIsSub=this._digitIsSub,g}toArray(){const g=[];for(let D=0;D<this.length;++D){g.push(this.params[D]);const I=this._subParamsIdx[D]>>8,R=255&this._subParamsIdx[D];R-I>0&&g.push(Array.prototype.slice.call(this._subParams,I,R))}return g}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(g){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(g<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=g>_?_:g}}addSubParam(g){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(g<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=g>_?_:g,this._subParamsIdx[this.length-1]++}}hasSubParams(g){return(255&this._subParamsIdx[g])-(this._subParamsIdx[g]>>8)>0}getSubParams(g){const D=this._subParamsIdx[g]>>8,I=255&this._subParamsIdx[g];return I-D>0?this._subParams.subarray(D,I):null}getSubParamsAll(){const g={};for(let D=0;D<this.length;++D){const I=this._subParamsIdx[D]>>8,R=255&this._subParamsIdx[D];R-I>0&&(g[D]=this._subParams.slice(I,R))}return g}addDigit(g){let D;if(this._rejectDigits||!(D=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const I=this._digitIsSub?this._subParams:this.params,R=I[D-1];I[D-1]=~R?Math.min(10*R+g,_):g}}p.Params=w},5741:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.AddonManager=void 0,p.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let _=this._addons.length-1;_>=0;_--)this._addons[_].instance.dispose()}loadAddon(_,w){const E={instance:w,dispose:w.dispose,isDisposed:!1};this._addons.push(E),w.dispose=()=>this._wrappedAddonDispose(E),w.activate(_)}_wrappedAddonDispose(_){if(_.isDisposed)return;let w=-1;for(let E=0;E<this._addons.length;E++)if(this._addons[E]===_){w=E;break}if(-1===w)throw new Error("Could not dispose an addon that has not been loaded");_.isDisposed=!0,_.dispose.apply(_.instance),this._addons.splice(w,1)}}},8771:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferApiView=void 0;const w=_(3785),E=_(511);p.BufferApiView=class{constructor(g,D){this._buffer=g,this.type=D}init(g){return this._buffer=g,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(g){const D=this._buffer.lines.get(g);if(D)return new w.BufferLineApiView(D)}getNullCell(){return new E.CellData}}},3785:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferLineApiView=void 0;const w=_(511);p.BufferLineApiView=class{constructor(E){this._line=E}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(E,g){if(!(E<0||E>=this._line.length))return g?(this._line.loadCell(E,g),g):this._line.loadCell(E,new w.CellData)}translateToString(E,g,D){return this._line.translateToString(E,g,D)}}},8285:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferNamespaceApi=void 0;const w=_(8771),E=_(8460),g=_(844);p.BufferNamespaceApi=class D extends g.Disposable{constructor(R){super(),this._core=R,this._onBufferChange=this.register(new E.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new w.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new w.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ParserApi=void 0,p.ParserApi=class{constructor(_){this._core=_}registerCsiHandler(_,w){return this._core.registerCsiHandler(_,E=>w(E.toArray()))}addCsiHandler(_,w){return this.registerCsiHandler(_,w)}registerDcsHandler(_,w){return this._core.registerDcsHandler(_,(E,g)=>w(E,g.toArray()))}addDcsHandler(_,w){return this.registerDcsHandler(_,w)}registerEscHandler(_,w){return this._core.registerEscHandler(_,w)}addEscHandler(_,w){return this.registerEscHandler(_,w)}registerOscHandler(_,w){return this._core.registerOscHandler(_,w)}addOscHandler(_,w){return this.registerOscHandler(_,w)}}},7090:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeApi=void 0,p.UnicodeApi=class{constructor(_){this._core=_}register(_){this._core.unicodeService.register(_)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(_){this._core.unicodeService.activeVersion=_}}},744:function(se,p,_){var w=this&&this.__decorate||function(l,f,d,h){var v,C=arguments.length,M=C<3?f:null===h?h=Object.getOwnPropertyDescriptor(f,d):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(l,f,d,h);else for(var A=l.length-1;A>=0;A--)(v=l[A])&&(M=(C<3?v(M):C>3?v(f,d,M):v(f,d))||M);return C>3&&M&&Object.defineProperty(f,d,M),M},E=this&&this.__param||function(l,f){return function(d,h){f(d,h,l)}};Object.defineProperty(p,"__esModule",{value:!0}),p.BufferService=p.MINIMUM_ROWS=p.MINIMUM_COLS=void 0;const g=_(8460),D=_(844),I=_(5295),R=_(2585);p.MINIMUM_COLS=2,p.MINIMUM_ROWS=1;let b=p.BufferService=class extends D.Disposable{get buffer(){return this.buffers.active}constructor(l){super(),this.isUserScrolling=!1,this._onResize=this.register(new g.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new g.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(l.rawOptions.cols||0,p.MINIMUM_COLS),this.rows=Math.max(l.rawOptions.rows||0,p.MINIMUM_ROWS),this.buffers=this.register(new I.BufferSet(l,this))}resize(l,f){this.cols=l,this.rows=f,this.buffers.resize(l,f),this._onResize.fire({cols:l,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(l,f=!1){const d=this.buffer;let h;h=this._cachedBlankLine,h&&h.length===this.cols&&h.getFg(0)===l.fg&&h.getBg(0)===l.bg||(h=d.getBlankLine(l,f),this._cachedBlankLine=h),h.isWrapped=f;const v=d.ybase+d.scrollTop,C=d.ybase+d.scrollBottom;if(0===d.scrollTop){const M=d.lines.isFull;C===d.lines.length-1?M?d.lines.recycle().copyFrom(h):d.lines.push(h.clone()):d.lines.splice(C+1,0,h.clone()),M?this.isUserScrolling&&(d.ydisp=Math.max(d.ydisp-1,0)):(d.ybase++,this.isUserScrolling||d.ydisp++)}else d.lines.shiftElements(v+1,C-v+1-1,-1),d.lines.set(C,h.clone());this.isUserScrolling||(d.ydisp=d.ybase),this._onScroll.fire(d.ydisp)}scrollLines(l,f,d){const h=this.buffer;if(l<0){if(0===h.ydisp)return;this.isUserScrolling=!0}else l+h.ydisp>=h.ybase&&(this.isUserScrolling=!1);const v=h.ydisp;h.ydisp=Math.max(Math.min(h.ydisp+l,h.ybase),0),v!==h.ydisp&&(f||this._onScroll.fire(h.ydisp))}};p.BufferService=b=w([E(0,R.IOptionsService)],b)},7994:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CharsetService=void 0,p.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(_){this.glevel=_,this.charset=this._charsets[_]}setgCharset(_,w){this._charsets[_]=w,this.glevel===_&&(this.charset=w)}}},1753:function(se,p,_){var w=this&&this.__decorate||function(h,v,C,M){var A,y=arguments.length,T=y<3?v:null===M?M=Object.getOwnPropertyDescriptor(v,C):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(h,v,C,M);else for(var L=h.length-1;L>=0;L--)(A=h[L])&&(T=(y<3?A(T):y>3?A(v,C,T):A(v,C))||T);return y>3&&T&&Object.defineProperty(v,C,T),T},E=this&&this.__param||function(h,v){return function(C,M){v(C,M,h)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CoreMouseService=void 0;const g=_(2585),D=_(8460),I=_(844),R={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:h=>4!==h.button&&1===h.action&&(h.ctrl=!1,h.alt=!1,h.shift=!1,!0)},VT200:{events:19,restrict:h=>32!==h.action},DRAG:{events:23,restrict:h=>32!==h.action||3!==h.button},ANY:{events:31,restrict:h=>!0}};function b(h,v){let C=(h.ctrl?16:0)|(h.shift?4:0)|(h.alt?8:0);return 4===h.button?(C|=64,C|=h.action):(C|=3&h.button,4&h.button&&(C|=64),8&h.button&&(C|=128),32===h.action?C|=32:0!==h.action||v||(C|=3)),C}const l=String.fromCharCode,f={DEFAULT:h=>{const v=[b(h,!1)+32,h.col+32,h.row+32];return v[0]>255||v[1]>255||v[2]>255?"":`\x1b[M${l(v[0])}${l(v[1])}${l(v[2])}`},SGR:h=>{const v=0===h.action&&4!==h.button?"m":"M";return`\x1b[<${b(h,!0)};${h.col};${h.row}${v}`},SGR_PIXELS:h=>{const v=0===h.action&&4!==h.button?"m":"M";return`\x1b[<${b(h,!0)};${h.x};${h.y}${v}`}};let d=p.CoreMouseService=class extends I.Disposable{constructor(h,v){super(),this._bufferService=h,this._coreService=v,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new D.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(R))this.addProtocol(C,R[C]);for(const C of Object.keys(f))this.addEncoding(C,f[C]);this.reset()}addProtocol(h,v){this._protocols[h]=v}addEncoding(h,v){this._encodings[h]=v}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(h){if(!this._protocols[h])throw new Error(`unknown protocol "${h}"`);this._activeProtocol=h,this._onProtocolChange.fire(this._protocols[h].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(h){if(!this._encodings[h])throw new Error(`unknown encoding "${h}"`);this._activeEncoding=h}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(h){if(h.col<0||h.col>=this._bufferService.cols||h.row<0||h.row>=this._bufferService.rows||4===h.button&&32===h.action||3===h.button&&32!==h.action||4!==h.button&&(2===h.action||3===h.action)||(h.col++,h.row++,32===h.action&&this._lastEvent&&this._equalEvents(this._lastEvent,h,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(h))return!1;const v=this._encodings[this._activeEncoding](h);return v&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(v):this._coreService.triggerDataEvent(v,!0)),this._lastEvent=h,!0}explainEvents(h){return{down:!!(1&h),up:!!(2&h),drag:!!(4&h),move:!!(8&h),wheel:!!(16&h)}}_equalEvents(h,v,C){if(C){if(h.x!==v.x||h.y!==v.y)return!1}else if(h.col!==v.col||h.row!==v.row)return!1;return h.button===v.button&&h.action===v.action&&h.ctrl===v.ctrl&&h.alt===v.alt&&h.shift===v.shift}};p.CoreMouseService=d=w([E(0,g.IBufferService),E(1,g.ICoreService)],d)},6975:function(se,p,_){var w=this&&this.__decorate||function(d,h,v,C){var M,A=arguments.length,y=A<3?h:null===C?C=Object.getOwnPropertyDescriptor(h,v):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(d,h,v,C);else for(var T=d.length-1;T>=0;T--)(M=d[T])&&(y=(A<3?M(y):A>3?M(h,v,y):M(h,v))||y);return A>3&&y&&Object.defineProperty(h,v,y),y},E=this&&this.__param||function(d,h){return function(v,C){h(v,C,d)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CoreService=void 0;const g=_(1439),D=_(8460),I=_(844),R=_(2585),b=Object.freeze({insertMode:!1}),l=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=p.CoreService=class extends I.Disposable{constructor(d,h,v){super(),this._bufferService=d,this._logService=h,this._optionsService=v,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new D.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new D.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new D.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new D.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,g.clone)(b),this.decPrivateModes=(0,g.clone)(l)}reset(){this.modes=(0,g.clone)(b),this.decPrivateModes=(0,g.clone)(l)}triggerDataEvent(d,h=!1){if(this._optionsService.rawOptions.disableStdin)return;const v=this._bufferService.buffer;h&&this._optionsService.rawOptions.scrollOnUserInput&&v.ybase!==v.ydisp&&this._onRequestScrollToBottom.fire(),h&&this._onUserInput.fire(),this._logService.debug(`sending data "${d}"`,()=>d.split("").map(C=>C.charCodeAt(0))),this._onData.fire(d)}triggerBinaryEvent(d){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${d}"`,()=>d.split("").map(h=>h.charCodeAt(0))),this._onBinary.fire(d))}};p.CoreService=f=w([E(0,R.IBufferService),E(1,R.ILogService),E(2,R.IOptionsService)],f)},9074:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DecorationService=void 0;const w=_(8055),E=_(8460),g=_(844),D=_(6106);let I=0,R=0;p.DecorationService=class b extends g.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new D.SortedList(d=>d?.marker.line),this._onDecorationRegistered=this.register(new E.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new E.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,g.toDisposable)(()=>this.reset()))}registerDecoration(d){if(d.marker.isDisposed)return;const h=new l(d);if(h){const v=h.marker.onDispose(()=>h.dispose());h.onDispose(()=>{h&&(this._decorations.delete(h)&&this._onDecorationRemoved.fire(h),v.dispose())}),this._decorations.insert(h),this._onDecorationRegistered.fire(h)}return h}reset(){for(const d of this._decorations.values())d.dispose();this._decorations.clear()}*getDecorationsAtCell(d,h,v){var C,M,A;let y=0,T=0;for(const L of this._decorations.getKeyIterator(h))y=null!==(C=L.options.x)&&void 0!==C?C:0,T=y+(null!==(M=L.options.width)&&void 0!==M?M:1),d>=y&&d<T&&(!v||(null!==(A=L.options.layer)&&void 0!==A?A:"bottom")===v)&&(yield L)}forEachDecorationAtCell(d,h,v,C){this._decorations.forEachByKey(h,M=>{var A,y,T;I=null!==(A=M.options.x)&&void 0!==A?A:0,R=I+(null!==(y=M.options.width)&&void 0!==y?y:1),d>=I&&d<R&&(!v||(null!==(T=M.options.layer)&&void 0!==T?T:"bottom")===v)&&C(M)})}};class l extends g.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?w.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?w.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(d){super(),this.options=d,this.onRenderEmitter=this.register(new E.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new E.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=d.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.InstantiationService=p.ServiceCollection=void 0;const w=_(2585),E=_(8343);class g{constructor(...I){this._entries=new Map;for(const[R,b]of I)this.set(R,b)}set(I,R){const b=this._entries.get(I);return this._entries.set(I,R),b}forEach(I){for(const[R,b]of this._entries.entries())I(R,b)}has(I){return this._entries.has(I)}get(I){return this._entries.get(I)}}p.ServiceCollection=g,p.InstantiationService=class{constructor(){this._services=new g,this._services.set(w.IInstantiationService,this)}setService(D,I){this._services.set(D,I)}getService(D){return this._services.get(D)}createInstance(D,...I){const R=(0,E.getServiceDependencies)(D).sort((f,d)=>f.index-d.index),b=[];for(const f of R){const d=this._services.get(f.id);if(!d)throw new Error(`[createInstance] ${D.name} depends on UNKNOWN service ${f.id}.`);b.push(d)}const l=R.length>0?R[0].index:I.length;if(I.length!==l)throw new Error(`[createInstance] First service dependency of ${D.name} at position ${l+1} conflicts with ${I.length} static arguments`);return new D(...I,...b)}}},7866:function(se,p,_){var w=this&&this.__decorate||function(l,f,d,h){var v,C=arguments.length,M=C<3?f:null===h?h=Object.getOwnPropertyDescriptor(f,d):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(l,f,d,h);else for(var A=l.length-1;A>=0;A--)(v=l[A])&&(M=(C<3?v(M):C>3?v(f,d,M):v(f,d))||M);return C>3&&M&&Object.defineProperty(f,d,M),M},E=this&&this.__param||function(l,f){return function(d,h){f(d,h,l)}};Object.defineProperty(p,"__esModule",{value:!0}),p.traceCall=p.setTraceLogger=p.LogService=void 0;const g=_(844),D=_(2585),I={trace:D.LogLevelEnum.TRACE,debug:D.LogLevelEnum.DEBUG,info:D.LogLevelEnum.INFO,warn:D.LogLevelEnum.WARN,error:D.LogLevelEnum.ERROR,off:D.LogLevelEnum.OFF};let R,b=p.LogService=class extends g.Disposable{get logLevel(){return this._logLevel}constructor(l){super(),this._optionsService=l,this._logLevel=D.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),R=this}_updateLogLevel(){this._logLevel=I[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(l){for(let f=0;f<l.length;f++)"function"==typeof l[f]&&(l[f]=l[f]())}_log(l,f,d){this._evalLazyOptionalParams(d),l.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...d)}trace(l,...f){var d,h;this._logLevel<=D.LogLevelEnum.TRACE&&this._log(null!==(h=null===(d=this._optionsService.options.logger)||void 0===d?void 0:d.trace.bind(this._optionsService.options.logger))&&void 0!==h?h:console.log,l,f)}debug(l,...f){var d,h;this._logLevel<=D.LogLevelEnum.DEBUG&&this._log(null!==(h=null===(d=this._optionsService.options.logger)||void 0===d?void 0:d.debug.bind(this._optionsService.options.logger))&&void 0!==h?h:console.log,l,f)}info(l,...f){var d,h;this._logLevel<=D.LogLevelEnum.INFO&&this._log(null!==(h=null===(d=this._optionsService.options.logger)||void 0===d?void 0:d.info.bind(this._optionsService.options.logger))&&void 0!==h?h:console.info,l,f)}warn(l,...f){var d,h;this._logLevel<=D.LogLevelEnum.WARN&&this._log(null!==(h=null===(d=this._optionsService.options.logger)||void 0===d?void 0:d.warn.bind(this._optionsService.options.logger))&&void 0!==h?h:console.warn,l,f)}error(l,...f){var d,h;this._logLevel<=D.LogLevelEnum.ERROR&&this._log(null!==(h=null===(d=this._optionsService.options.logger)||void 0===d?void 0:d.error.bind(this._optionsService.options.logger))&&void 0!==h?h:console.error,l,f)}};p.LogService=b=w([E(0,D.IOptionsService)],b),p.setTraceLogger=function(l){R=l},p.traceCall=function(l,f,d){if("function"!=typeof d.value)throw new Error("not supported");const h=d.value;d.value=function(...v){if(R.logLevel!==D.LogLevelEnum.TRACE)return h.apply(this,v);R.trace(`GlyphRenderer#${h.name}(${v.map(M=>JSON.stringify(M)).join(", ")})`);const C=h.apply(this,v);return R.trace(`GlyphRenderer#${h.name} return`,C),C}}},7302:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.OptionsService=p.DEFAULT_OPTIONS=void 0;const w=_(8460),E=_(844),g=_(6114);p.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:g.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const D=["normal","bold","100","200","300","400","500","600","700","800","900"];p.OptionsService=class I extends E.Disposable{constructor(b){super(),this._onOptionChange=this.register(new w.EventEmitter),this.onOptionChange=this._onOptionChange.event;const l=Object.assign({},p.DEFAULT_OPTIONS);for(const f in b)if(f in l)try{l[f]=this._sanitizeAndValidateOption(f,b[f])}catch(d){console.error(d)}this.rawOptions=l,this.options=Object.assign({},l),this._setupOptions()}onSpecificOptionChange(b,l){return this.onOptionChange(f=>{f===b&&l(this.rawOptions[b])})}onMultipleOptionChange(b,l){return this.onOptionChange(f=>{-1!==b.indexOf(f)&&l()})}_setupOptions(){const b=f=>{if(!(f in p.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},l=(f,d)=>{if(!(f in p.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);d=this._sanitizeAndValidateOption(f,d),this.rawOptions[f]!==d&&(this.rawOptions[f]=d,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const d={get:b.bind(this,f),set:l.bind(this,f)};Object.defineProperty(this.options,f,d)}}_sanitizeAndValidateOption(b,l){switch(b){case"cursorStyle":if(l||(l=p.DEFAULT_OPTIONS[b]),!function(f){return"block"===f||"underline"===f||"bar"===f}(l))throw new Error(`"${l}" is not a valid value for ${b}`);break;case"wordSeparator":l||(l=p.DEFAULT_OPTIONS[b]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof l&&1<=l&&l<=1e3)break;l=D.includes(l)?l:p.DEFAULT_OPTIONS[b];break;case"cursorWidth":l=Math.floor(l);case"lineHeight":case"tabStopWidth":if(l<1)throw new Error(`${b} cannot be less than 1, value: ${l}`);break;case"minimumContrastRatio":l=Math.max(1,Math.min(21,Math.round(10*l)/10));break;case"scrollback":if((l=Math.min(l,4294967295))<0)throw new Error(`${b} cannot be less than 0, value: ${l}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(l<=0)throw new Error(`${b} cannot be less than or equal to 0, value: ${l}`);break;case"rows":case"cols":if(!l&&0!==l)throw new Error(`${b} must be numeric, value: ${l}`);break;case"windowsPty":l=l??{}}return l}}},2660:function(se,p,_){var w=this&&this.__decorate||function(I,R,b,l){var f,d=arguments.length,h=d<3?R:null===l?l=Object.getOwnPropertyDescriptor(R,b):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(I,R,b,l);else for(var v=I.length-1;v>=0;v--)(f=I[v])&&(h=(d<3?f(h):d>3?f(R,b,h):f(R,b))||h);return d>3&&h&&Object.defineProperty(R,b,h),h},E=this&&this.__param||function(I,R){return function(b,l){R(b,l,I)}};Object.defineProperty(p,"__esModule",{value:!0}),p.OscLinkService=void 0;const g=_(2585);let D=p.OscLinkService=class{constructor(I){this._bufferService=I,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(I){const R=this._bufferService.buffer;if(void 0===I.id){const v=R.addMarker(R.ybase+R.y),C={data:I,id:this._nextId++,lines:[v]};return v.onDispose(()=>this._removeMarkerFromLink(C,v)),this._dataByLinkId.set(C.id,C),C.id}const b=I,l=this._getEntryIdKey(b),f=this._entriesWithId.get(l);if(f)return this.addLineToLink(f.id,R.ybase+R.y),f.id;const d=R.addMarker(R.ybase+R.y),h={id:this._nextId++,key:this._getEntryIdKey(b),data:b,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(h,d)),this._entriesWithId.set(h.key,h),this._dataByLinkId.set(h.id,h),h.id}addLineToLink(I,R){const b=this._dataByLinkId.get(I);if(b&&b.lines.every(l=>l.line!==R)){const l=this._bufferService.buffer.addMarker(R);b.lines.push(l),l.onDispose(()=>this._removeMarkerFromLink(b,l))}}getLinkData(I){var R;return null===(R=this._dataByLinkId.get(I))||void 0===R?void 0:R.data}_getEntryIdKey(I){return`${I.id};;${I.uri}`}_removeMarkerFromLink(I,R){const b=I.lines.indexOf(R);-1!==b&&(I.lines.splice(b,1),0===I.lines.length&&(void 0!==I.data.id&&this._entriesWithId.delete(I.key),this._dataByLinkId.delete(I.id)))}};p.OscLinkService=D=w([E(0,g.IBufferService)],D)},8343:(se,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.createDecorator=p.getServiceDependencies=p.serviceRegistry=void 0;const _="di$target",w="di$dependencies";p.serviceRegistry=new Map,p.getServiceDependencies=function(E){return E[w]||[]},p.createDecorator=function(E){if(p.serviceRegistry.has(E))return p.serviceRegistry.get(E);const g=function(D,I,R){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var b,l,f;b=g,f=R,(l=D)[_]===l?l[w].push({id:b,index:f}):(l[w]=[{id:b,index:f}],l[_]=l)};return g.toString=()=>E,p.serviceRegistry.set(E,g),g}},2585:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.IDecorationService=p.IUnicodeService=p.IOscLinkService=p.IOptionsService=p.ILogService=p.LogLevelEnum=p.IInstantiationService=p.ICharsetService=p.ICoreService=p.ICoreMouseService=p.IBufferService=void 0;const w=_(8343);var E,g;p.IBufferService=(0,w.createDecorator)("BufferService"),p.ICoreMouseService=(0,w.createDecorator)("CoreMouseService"),p.ICoreService=(0,w.createDecorator)("CoreService"),p.ICharsetService=(0,w.createDecorator)("CharsetService"),p.IInstantiationService=(0,w.createDecorator)("InstantiationService"),(g=E||(p.LogLevelEnum=E={}))[g.TRACE=0]="TRACE",g[g.DEBUG=1]="DEBUG",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.OFF=5]="OFF",p.ILogService=(0,w.createDecorator)("LogService"),p.IOptionsService=(0,w.createDecorator)("OptionsService"),p.IOscLinkService=(0,w.createDecorator)("OscLinkService"),p.IUnicodeService=(0,w.createDecorator)("UnicodeService"),p.IDecorationService=(0,w.createDecorator)("DecorationService")},1480:(se,p,_)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeService=void 0;const w=_(8460),E=_(225);p.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new w.EventEmitter,this.onChange=this._onChange.event;const g=new E.UnicodeV6;this.register(g),this._active=g.version,this._activeProvider=g}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(g){if(!this._providers[g])throw new Error(`unknown Unicode version "${g}"`);this._active=g,this._activeProvider=this._providers[g],this._onChange.fire(g)}register(g){this._providers[g.version]=g}wcwidth(g){return this._activeProvider.wcwidth(g)}getStringCellWidth(g){let D=0;const I=g.length;for(let R=0;R<I;++R){let b=g.charCodeAt(R);if(55296<=b&&b<=56319){if(++R>=I)return D+this.wcwidth(b);const l=g.charCodeAt(R);56320<=l&&l<=57343?b=1024*(b-55296)+l-56320+65536:D+=this.wcwidth(l)}D+=this.wcwidth(b)}return D}}}},Zt={};function Ke(se){var p=Zt[se];if(void 0!==p)return p.exports;var _=Zt[se]={exports:{}};return sr[se].call(_.exports,_,_.exports,Ke),_.exports}var Bt={};return(()=>{var se=Bt;Object.defineProperty(se,"__esModule",{value:!0}),se.Terminal=void 0;const p=Ke(9042),_=Ke(3236),w=Ke(844),E=Ke(5741),g=Ke(8285),D=Ke(7975),I=Ke(7090),R=["cols","rows"];se.Terminal=class b extends w.Disposable{constructor(f){super(),this._core=this.register(new _.Terminal(f)),this._addonManager=this.register(new E.AddonManager),this._publicOptions=Object.assign({},this._core.options);const d=v=>this._core.options[v],h=(v,C)=>{this._checkReadonlyOptions(v),this._core.options[v]=C};for(const v in this._core.options){const C={get:d.bind(this,v),set:h.bind(this,v)};Object.defineProperty(this._publicOptions,v,C)}}_checkReadonlyOptions(f){if(R.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new D.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new I.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new g.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let d="none";switch(this._core.coreMouseService.activeProtocol){case"X10":d="x10";break;case"VT200":d="vt200";break;case"DRAG":d="drag";break;case"ANY":d="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:d,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const d in f)this._publicOptions[d]=f[d]}blur(){this._core.blur()}focus(){this._core.focus()}resize(f,d){this._verifyIntegers(f,d),this._core.resize(f,d)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){var d,h,v;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(d=f.x)&&void 0!==d?d:0,null!==(h=f.width)&&void 0!==h?h:0,null!==(v=f.height)&&void 0!==v?v:0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,d,h){this._verifyIntegers(f,d,h),this._core.select(f,d,h)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,d){this._verifyIntegers(f,d),this._core.selectLines(f,d)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,d){this._core.write(f,d)}writeln(f,d){this._core.write(f),this._core.write("\r\n",d)}paste(f){this._core.paste(f)}refresh(f,d){this._verifyIntegers(f,d),this._core.refresh(f,d)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return p}_verifyIntegers(...f){for(const d of f)if(d===1/0||isNaN(d)||d%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const d of f)if(d&&(d===1/0||isNaN(d)||d%1!=0||d<0))throw new Error("This API only accepts positive integers")}}})(),Bt})()}},Qr=>{Qr(Qr.s=482)}]);
//# sourceMappingURL=main.3576bed49ab1b487.js.map